!function(){"use strict";function t(t,e,n){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return e&&o(t.prototype,e),n&&o(t,n),t}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){function n(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(e,i);r&&r.configurable&&void 0===t[i]&&Object.defineProperty(t,i,r)}return t}if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&n(t,e)}function i(t,e){return t.raw=e,t}!function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){e.exports=function(t){return function(e){var n="code-output",o={en:{save:"Save source code",run:"Run in new window","open.codepen":"Open in CodePen","open.jsfiddle":"Open in JSFiddle","open.plunker":"Open in Plunker","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"embedded in HTML source code","mode.full":"complete HTML","mode.body":"only HTML body","mode.embed":"embed in HTML","mode.paste":"extract to paste into HTML later","mode.file":"extract to load as external resource",formatting:"Formatting","formatting.indent":"indent with tabs","formatting.indentNumber":"spaces per indent","formatting.jsSemicolons":"JavaScript semicolons","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (hosted on <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) is not loaded. Syntax highlighting is disabled."},ru:{save:"Сохранить исходный код",run:"Запустить в новом окне","open.codepen":"Открыть в CodePen","open.jsfiddle":"Открыть в JSFiddle","open.plunker":"Открыть в Plunker","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"встроен в код HTML","mode.full":"полностью","mode.body":"только <code>body</code>","mode.embed":"встроить в HTML","mode.paste":"извлечь для последующей вставки в HTML","mode.file":"извлечь для загрузки в качестве внешнего ресурса",formatting:"Форматирование","formatting.indent":"отступы с помощью tab","formatting.indentNumber":"пробелов в отступе","formatting.jsSemicolons":"<code>;</code> в JavaScript","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (с сервера <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) не загружен. Подсветка синтаксиса отключена."}};for(var i in o[t])e[n+"."+i]=o[t][i];return e}}},{}],2:[function(n,o,i){var r=n(7),a=n(4),s=function(t){return"data:text/html;charset=utf-8,"+encodeURIComponent(t)},u=function(t,e){var n={},o=function(o){Object.defineProperty(n,o,{get:function(){return t[o]},set:function(n){t[o]=n,e()}})};for(var i in t)o(i);return n},p=function(){function o(t,i){var s=this;e(this,o),this.formatting=u(this.defaultFormatting,function(){s.update.flush(),s.applyUpdatedCode(i)}),this.sectionModes=u({html:"full",css:"embed",js:"embed"},function(){s.update.flush(),s.applyUpdatedCode(i)}),this._code=t(),this.update=r(function(){s._code=t(),s.applyUpdatedCode(i)},200),this.initDomProps();var p=function(){var t=s,e=void 0,o=void 0,r=function(){var t="\t";if(!e.prop("checked")){var i=4;o[0].checkValidity()&&(i=Number(o.val())),t=n(29)(" ")(i)}s.formatting.indent=t};return $("<details>").append("<summary>"+i("code-output.formatting")+"</summary>",$("<div>").append($("<label>").append(e=$("<input type='checkbox'>").prop("checked","\t"==s.formatting.indent).change(r)," "+i("code-output.formatting.indent"))),$("<div>").append($("<label>").append(o=$("<input type='number' min='0' max='32' required>").val("\t"==s.formatting.indent?4:s.formatting.indent.length).on("input change",r)," "+i("code-output.formatting.indentNumber"))),$("<div>").append($("<label>").append($("<input type='checkbox'>").prop("checked",s.formatting.jsSemicolons).change(function(){t.formatting.jsSemicolons=this.checked})," "+i("code-output.formatting.jsSemicolons")))).each(a)},c=function(t){return $("<details open>").append(s.writeSectionSummary(t,i),s.$sectionCode[t]=$("<div class='code'>")).each(a)},l=$("<div class='code-output'>").append(this.writeButtons(i)).append(p(),c("html"),c("css"),c("js"));window.hljs||l.append("<p>"+i("code-output.warning.no-hljs")+"</p>"),l.append(this.writeButtons(i)),this.applyUpdatedCode(i),this.$output=l}return o.prototype.initDomProps=function(){this.$sectionCode={},this.$saveButtons={}},o.prototype.applyUpdatedCode=function(t){var e=this.code.extractSections(this.sectionModes);for(var n in e){if("embed"==this.sectionModes[n])this.$sectionCode[n].empty().append("<p>"+t("code-output.embedded")+"</p>");else{var o=void 0;this.$sectionCode[n].empty().append($("<pre>").append(o=$("<code class='"+n+"'>"))),o.html(e[n].getHtml(this.formatting).join("\n")),window.hljs&&hljs.highlightBlock(o[0])}"html"!=n&&this.$saveButtons[n].prop("disabled","embed"==this.sectionModes[n])}},o.prototype.writeButtons=function(t){var e=this,n=function(t,e,n){var o=$("<form method='post' action='"+t+"' target='"+e+"'>");for(var i in n)o.append($("<input type='hidden'>").attr("name",i).val(n[i]));o.appendTo("body").submit().remove()};return $("<div>").append($("<button type='button'>"+t("code-output.run")+"</button>").click(function(){var t=e.code.get(e.formatting).join("\n");if(navigator.msSaveOrOpenBlob){var n=window.open("","generatedCode");n.document.open(),n.document.write(t),n.document.close()}else window.open(s(t),"generatedCode")})," ",$("<button type='button'>"+t("code-output.open.codepen")+"</button>").click(function(){var t=e.code.extractSections({html:"body",css:"paste",js:"paste"}),o=function(n){return t[n].get(e.formatting).join("\n")};n("http://codepen.io/pen/define/","codepenGeneratedCode",{data:JSON.stringify({html:o("html"),css:o("css"),js:o("js"),title:e.code.title})})})," ",$("<button type='button'>"+t("code-output.open.jsfiddle")+"</button>").click(function(){var t=e.code.extractSections({html:"body",css:"paste",js:"paste"}),o=function(n){return t[n].get(e.formatting).join("\n")};n("http://jsfiddle.net/api/post/library/pure/","jsfiddleGeneratedCode",{html:o("html"),css:o("css"),js:o("js"),title:e.code.title,wrap:"b"})})," ",$("<button type='button'>"+t("code-output.open.plunker")+"</button>").click(function(){var t,o=e.code.extractSections({html:"full",css:"file",js:"file"}),i=function(t){return o[t].get(e.formatting).join("\n")};n("http://plnkr.co/edit/?p=preview","plunkerGeneratedCode",(t={},t["files[index.html]"]=i("html"),t["files["+o.css.filename+"]"]=i("css"),t["files["+o.js.filename+"]"]=i("js"),t.private=!0,t))}))},o.prototype.writeSectionSummary=function(t,e){var n=this,o=$("<summary>"+e("code-output.section."+t)+"</summary>");return o.append(" ",$("<select>").append(("html"==t?["full","body"]:["embed","paste","file"]).map(function(t){return $("<option>").val(t).html(e("code-output.mode."+t))})).val(this.sectionModes[t]).change(function(){n.sectionModes[t]=this.value})," ",this.$saveButtons[t]=$("<button type='button'>"+e("code-output.save")+"</button>").click(function(){var e=n.code.extractSections(n.sectionModes)[t],o=new Blob([e.get(n.formatting).join("\n")],{type:e.mimeType});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,e.filename);else{var i=$("<a>").attr({download:e.filename,href:URL.createObjectURL(o)}).appendTo("body");i.get(0).click(),i.remove()}})),o},t(o,[{key:"code",get:function(){return this.update.flush(),this._code}},{key:"defaultFormatting",get:function(){return{indent:"\t",jsSemicolons:!1}}}]),o}();o.exports=p},{29:29,4:4,7:7}],3:[function(t,n,o){var i=function(){function t(n,o,i){e(this,t),this.filename=n,this.mimeType=o,this.lines=i}return t.prototype.get=function(t){return this.lines.get(t)},t.prototype.getHtml=function(t){return this.lines.getHtml(t)},t}();n.exports=i},{}],4:[function(t,e,n){var o="open"in document.createElement("details");e.exports=function(){var t=$(this);if(t.on("click","summary :input, summary a[href]",function(t){t.preventDefault()}),!o){var e=function(){t.attr("open")?t.removeAttr("open"):t.attr("open","")},n=13,i=32,r=function(t){return $(t.target).closest("summary, :input, a[href]").is("summary")};t.addClass("polyfill").children("summary").attr("tabindex",0).click(function(t){r(t)&&e()}).keydown(function(t){if(r(t)&&(t.keyCode==n||t.keyCode==i))return e(),!1})}}},{}],5:[function(t,e,n){var o=t(6);e.exports=function(t){return t.split(".").map(function(t,e){return e>0?o(t):t}).join("")}},{6:6}],6:[function(t,e,n){e.exports=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{}],7:[function(t,e,n){e.exports=function(t,e){var n=null,o=function(){clearTimeout(n),n=setTimeout(function(){n=null,t()},e)};return o.flush=function(){n&&(n=null,t())},o}},{}],8:[function(t,e,n){e.exports=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(t).replace(/[&<>"']/g,function(t){return e[t]})}},{}],9:[function(t,e,n){var o=t(10),i=function(t,e){return o([t],e)[0]};i.html=function(t,e){return o.html([t],e)[0]},i.js=function(t,e){return o.js([t],e)[0]},i.glsl=function(t,e){return o.glsl([t],e)[0]},e.exports=i},{10:10}],10:[function(t,e,n){var o=function(t,e,n,o){var i=0;n&&(i=1);var r=!1;for(var a in t){var s=void 0;if(void 0!==e)s=e;else{if(void 0===t[a].precision)throw new Error("formatNumbers received no precision");s=t[a].precision}var u=Number(t[a]),p=u.toFixed(s);Number(p)<0&&(r=!0),s>0&&(s-=p.match(/0*$/)[0].length),s>i&&(i=s)}var c=Array.isArray(t)?[]:{};for(var l in t){var d=Number(t[l]),f=d.toFixed(i);Number(f)>=0&&"-"==f.charAt(0)&&(f=f.slice(1)),!o&&r&&d>0&&(f="+"+f),c[l]=f}return c},i=function(t,e){return o(t,e)};i.html=function(t,e){return o(t,e,!1,!0)},i.js=function(t,e){return o(t,e)},i.glsl=function(t,e){return o(t,e,!0)},e.exports=i},{}],11:[function(t,n,o){var i=function t(n,o,i,r){e(this,t),this.option=n,this.$output=n.$=$("<fieldset class='option'>").append("<legend>"+i("options."+n.fullName)+"</legend>",n.entries.map(o))};n.exports=i},{}],12:[function(t,e,n){e.exports=function(t){function e(t,i){var r=o.exec(t);r?!function(){var t=r[1],n=r[2],a=r[3],s=n.split(","),u=o.exec(i);u?!function(){var n=u[1],o=u[2],i=u[3],r=o.split(",");s.forEach(function(s,u){if(""!=o){var p=r[u];e(t+s+a,n+p+i)}else e(t+s+a,n+s+i)})}():s.forEach(function(n){e(t+n+a,i)})}():n[t]=i}var n={},o=/^([^{]*)\{([^}]*)\}(.*)$/;for(var i in t)e(i,t[i]);return n}},{}],13:[function(t,e,n){e.exports=function(t){return function(e){for(var n in e)e[n]=e[n].replace(/\[\[(.*?)\]\]/g,function(e,n){var o=void 0,i=void 0,r=n.indexOf("|");return r<0?(o=n,i=n):(o=n.slice(0,r),i=n.slice(r+1)),"<a href='https://"+t+".wikipedia.org/wiki/"+o.replace(/ /g,"_")+"'>"+i+"</a>"});return e}}},{}],14:[function(t,e,n){var o=t(8);e.exports=function(e){return function(n){var i="en";n=n||i,n=n.split("-")[0];var r=e[n];void 0===r&&(n=i,r=e[n]);var a=function(t){if(void 0!==r[t])return r[t];throw new Error("undefined string "+t)};a.lang=n,a.has=function(t){return void 0!==r[t]},"en"==n?(a.number=function(t){return String(t).replace("-","−")},a.pluralSuffix=function(e){var n=String(e);if(t(27)(n)("."))return"2";var o=Number(e);return 1==Math.abs(o)?"1":"2"}):"ru"==n&&(a.number=function(t){return String(t).replace("-","−").replace(".",",")},a.pluralSuffix=function(e){var n=String(e);if(t(27)(n)("."))return"2";var o="1"===n.slice(-2,-1);return"1"!==n.slice(-1)||o?t(27)("234")(n.slice(-1))&&!o?"2":"5":"1"}),a.plural=function(t,e){return a(e+"."+a.pluralSuffix(t))};var s=function(t){return 1==t.length&&/^\W/.test(t)},u=function(t,e,n){void 0===n&&(n=function(t,e){return"<abbr title='"+o(e)+"'>"+t+"</abbr>"});var i=void 0;i="1/second"==e?a("units.second.a")+"<sup>−1</sup>":a("units."+e+".a");var r=a.plural(t,"units."+e);return n(i,r)};return a.numberWithUnits=function(t,e,n){var o=a.number(t);return void 0===e?o:s(e)?o+e:o+" "+u(t,e,n)},a.numberWithoutUnits=function(t,e){var n=a.number(t);return void 0!==e&&s(e)?n+e:n},a.numberUnits=function(t,e,n){return void 0===e||s(e)?"":u(t,e,n)},a}}},{27:27,8:8}],15:[function(t,i,r){var a=t(8),s=t(17),u=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.doGet=function(t,e){for(var n=[],o=!0,i=function(){o?o=!1:n.push("")},r=this.data,u=0;u<r.length;u++){var p=r[u];if(p instanceof s){var c=p.doGet(t,e);c.length>0&&(i(),n.push.apply(n,c))}else if("string"==typeof p){i();var l=e?a(p):p;n.push(l)}}return n},i}(s);i.exports=u},{17:17,8:8}],16:[function(t,i,r){var a=t(17),s=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.processStringInGet=function(t,e){return e.jsSemicolons?t.replace(/^;/,""):t.replace(/;$/,"")},i}(a);i.exports=s},{17:17}],17:[function(t,n,o){var i=t(8),r={},a=function(){function n(t){if(e(this,n),!Array.isArray(t))throw new TypeError("attempted to construct Lines with non-array data argument");this.data=t}return n.prototype.isDataEmpty=function(){for(var t=this.data,e=0;e<t.length;e++){var o=t[e];if(o instanceof n){if(!o.isEmpty())return!1}else if("string"==typeof o)return!1}return!0},n.prototype.processStringInGet=function(t,e){return t},n.prototype.doGet=function(e,o){for(var a=[],s=!1,u=this.data,p=0;p<u.length;p++){var c=u[p];if(c===r)s=!0;else if(c instanceof n){var l=c.doGet(e,o);s&&l.length>0&&a.push(a.pop()+l.shift()),a.push.apply(a,l),s=!1}else if("string"==typeof c){var d=this.processStringInGet(c,e);void 0!==e.indent&&"\t"!=e.indent&&(d=d.replace(/^(\t)+/,function(n){return t(29)(e.indent)(n.length)})),d=o?i(d):d,s?a.push(a.pop()+d):a.push(d),s=!1}}return a},n.b=function(){var t=this,e=arguments,n=[],o=function(){return new(Function.prototype.bind.apply(t,[null].concat([n],Array.prototype.slice.call(e))))},i=function(){return i.a.apply(i,arguments)};return i.a=function(){return n.push.apply(n,arguments),this},i.t=function(){return n.push.apply(n,[r].concat(Array.prototype.slice.call(arguments))),this},i.e=o,i.ae=function(){return this.a.apply(this,arguments).e()},i},n.ba=function(){var t;return(t=this.b()).a.apply(t,arguments)},n.be=function(){return this.b().e()},n.bae=function(){var t;return(t=this.b()).a.apply(t,arguments).e()},n.prototype.isEmpty=function(){return this.isDataEmpty()},n.prototype.get=function(t){return void 0===t&&(t={}),this.doGet(t,!1)},n.prototype.getHtml=function(t){return void 0===t&&(t={}),this.doGet(t,!0)},n.prototype.count=function(){return this.doGet({},!1).length},n.html=function(t){var e=arguments;return t.reduce(function(t,n,o){var i=e[o];switch(t.slice(-1)){case"=":return i===!1?t.replace(/\s+[a-zA-Z0-9-]+=$/,"")+n:i===!0?t.replace(/=$/,"")+n:(i=String(i).replace(/&/g,"&amp;"),""==i?t.replace(/=$/,"")+n:/[\s"'=<>`]/.test(i)?/'/.test(i)?(i=i.replace(/"/g,"&quot;"),t+'"'+i+'"'+n):t+"'"+i+"'"+n:t+i+n);case">":return i=String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;"),t+i+n}throw new Error("invalid character before substitution")})},n}();n.exports=a},{29:29,8:8}],18:[function(t,i,r){var a=t(26),s=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.isEmpty=function(){return this.isDataEmpty()},i.prototype.doGet=function(e,n){return this.isEmpty()?[]:t.prototype.doGet.call(this,e,n)},i}(a);i.exports=s},{26:26}],19:[function(i,r,a){var s={};s.Base=function(){function n(t,o,i,r,a,s){if(e(this,n),this.parent=r,this.name=t,this.fullName=t,r&&null!==r.fullName&&(this.fullName=r.fullName+"."+t),this.updateCallbacks=[],this._$=null,this.isVisible=function(){return!0},a&&(a.register(this),void 0!==o.visibilityData)){"or"!=o.visibilityDataLogic?this.isVisible=function(){for(var t in o.visibilityData){var e=a.options[t].value;if(o.visibilityData[t].indexOf(e)<0)return!1}return!0}:this.isVisible=function(){for(var t in o.visibilityData){var e=a.options[t].value;if(o.visibilityData[t].indexOf(e)>=0)return!0}return!1};for(var u in o.visibilityData)a.declareAffectedBy(this,u)}}return n.make=function(t){for(var e=0,n=0,o=0,i=void 0,r=[],a={},s=arguments.length,u=Array(s>1?s-1:0),p=1;p<s;p++)u[p-1]=arguments[p];for(var c=0;c<u.length;c++){var l=u[c];"string"==typeof l||"number"==typeof l||"boolean"==typeof l?0==e++&&(i=l):Array.isArray(l)?0==n++&&(r=l):l instanceof Object&&0==o++&&(a=l)}var d=this,f=this.collectArgs(i,r,a);return function(e,n,o,i){return new d(t,f,e,n,o,i)}},n.collectArgs=function(t,e,n){return n},n.prototype.updateVisibility=function(){this.$&&this.$.toggle(this.isVisible())},n.prototype.update=function(){this.updateCallbacks.forEach(function(t){t()}),this.parent&&this.parent.update()},n.prototype.addUpdateCallback=function(t){this.updateCallbacks.push(t)},n.prototype.shortenExport=function(t){var e=Object.keys(t);return 1==e.length&&"value"==e[0]?t.value:t},n.prototype.shortenExportAssign=function(t,e,n){var o=Object.keys(t);1==o.length&&"value"==o[0]?e[n]=t.value:o.length>0&&(e[n]=t)},t(n,[{key:"$",get:function(){return this._$},set:function(t){this._$=t,this.updateVisibility()}}]),n}(),s.Input=function(i){function r(t,o,a,s,u,p){e(this,r);var c=n(this,i.apply(this,arguments));return c.defaultValue=o.defaultValue,"object"==typeof a&&(a=a.value),void 0!==a?c._value=a:c._value=c.defaultValue,c}return o(r,i),r.collectArgs=function(t,e,n){return n=Object.create(n),void 0===n.defaultValue&&(n.defaultValue=t),i.collectArgs.call(this,t,e,n)},r.prototype.export=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),t},t(r,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.update()}}]),r}(s.Base),s.Boolean=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.collectArgs=function(e,n,o){return t.collectArgs.call(this,!!e,n,o)},i.prototype.fix=function(){return this.value},i}(s.Input),s.NonBoolean=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.fix=function(){var t=this.value;return{name:this.name,value:t,valueOf:function(){return t},toString:function(){return String(t)}}},i}(s.Input),s.Factor=function(t){function i(o,r,a,s,u,p){e(this,i);var c=n(this,t.apply(this,arguments));return c.availableValues=r.availableValues,c}return o(i,t),i.collectArgs=function(e,n,o){return o=Object.create(o),void 0===o.availableValues&&(o.availableValues=n),void 0===e&&(e=o.availableValues[0]),t.collectArgs.call(this,e,n,o)},i}(s.NonBoolean),s.Number=function(t){function i(o,r,a,s,u,p){e(this,i);var c=n(this,t.apply(this,arguments));return c.availableMin=r.availableMin,c.availableMax=r.availableMax,c.unit=r.unit,c}return o(i,t),i.collectArgs=function(e,n,o){return o=Object.create(o),void 0===o.availableMin&&(o.availableMin=n[0]),void 0===o.availableMax&&(o.availableMax=n[1]),void 0===e&&(e=o.availableMin),t.collectArgs.call(this,e,n,o)},i.prototype.fix=function(){var e=t.prototype.fix.call(this);return e.precision=this.precision,e.unit=this.unit,e},i}(s.NonBoolean),s.Struct=function(t){function i(o,r,a,s,u,p){e(this,i);var c=n(this,t.apply(this,arguments));return c.entries=r.descriptions.map(function(t){var e=t[1],n=void 0;return"object"==typeof a&&(n=a[e]),p(t,n,c,u)}),c}return o(i,t),i.collectArgs=function(e,n,o){return o=Object.create(o),void 0===o.descriptions&&(o.descriptions=n),t.collectArgs.call(this,e,n,o)},i.prototype.export=function(){for(var t={},e=this.entries,n=0;n<e.length;n++){var o=e[n];o.shortenExportAssign(o.export(),t,o.name)}return t},i.prototype.fix=function(){for(var t=[],e={name:this.name,entries:t},n=this.entries,o=0;o<n.length;o++){var i=n[o];t.push(e[i.name]=i.fix())}return e},i}(s.Base),s.Collection=function(i){function r(t,o,a,s,u,p){e(this,r);var c=n(this,i.apply(this,arguments));c.availableConstructors=new Map,u&&u.enterCollection();for(var l=o.descriptions,d=function(){var t=l[f],e=t[1],n=function(e){return p(t,e,c,u)};c.availableConstructors.set(e,n)},f=0;f<l.length;f++)d();u&&u.exitCollection(),void 0!==o.typePropertyName?c.typePropertyName=o.typePropertyName:c.typePropertyName="type";var h=[];Array.isArray(a)?h=a:"object"==typeof a&&(h=a.value);var g=c.availableTypes[0],v=h.map(function(t){var e=g;"object"==typeof t&&void 0!==t[c.typePropertyName]&&(e=t[c.typePropertyName]);var n=c.availableConstructors.get(e);return n?n(t):null});return c.populateEntries(h,v),c}return o(r,i),r.collectArgs=function(t,e,n){return n=Object.create(n),void 0===n.descriptions&&(n.descriptions=e),void 0===n.typePropertyName&&(n.typePropertyName=t),i.collectArgs.call(this,t,e,n)},r.prototype.map=function(t){return this[this.getElementsPropertyName()].map(t)},r.prototype.setElementExportData=function(t,e){},r.prototype.setElementFixData=function(t,e){},r.prototype.makeEntry=function(t,e){return this.availableConstructors.get(t)(e)},r.prototype.export=function(){var t=this,e=this.availableTypes[0];return{value:this.map(function(n){var o=t.getEntryFromElement(n),i=o.export(),r=o.name;return r!=e&&(i[t.typePropertyName]=r),t.setElementExportData(n,i),o.shortenExport(i)})}},r.prototype.fix=function(){var t,e=this;return t={name:this.name},t[this.getElementsPropertyName()]=this.map(function(t){var n=e.getEntryFromElement(t),o=n.fix();return"object"==typeof o&&(o[e.typePropertyName]=n.name,e.setElementFixData(t,o)),o}),t},t(r,[{key:"availableTypes",get:function(){var t=[];return this.availableConstructors.forEach(function(e,n){t.push(n)}),t}}]),r}(s.Base),s.Void=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.export=function(){return{}},i.prototype.fix=function(){return{name:this.name}},i}(s.Base),s.Checkbox=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i}(s.Boolean),s.Select=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i}(s.Factor),s.Text=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i}(s.Factor),s.Int=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"precision",get:function(){return 0}}]),r}(s.Number),s.Float=function(t){function i(o,r,a,s,u,p){e(this,i);var c=n(this,t.apply(this,arguments));return void 0!==r.precision?c.precision=r.precision:c.availableMax>=100?c.precision=1:c.availableMax>=10?c.precision=2:c.precision=3,c}return o(i,t),i}(s.Number),s.Root=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i}(s.Struct),s.Group=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i}(s.Struct),s.Array=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getElementsPropertyName=function(){return"entries"},r.prototype.populateEntries=function(t,e){this._entries=e.filter(function(t){return!!t})},r.prototype.getEntryFromElement=function(t){return t},t(r,[{key:"entries",get:function(){return this._entries},set:function(t){this._entries=t,this.update()}}]),r}(s.Collection),r.exports=s},{}],20:[function(t,e,n){e.exports=function(t){return function(e){var n="options-output",o={en:{reset:"Reset",drag:"Drag","drag.tip":"Drag or press ↑/↓ while in focus to reorder items",delete:"Delete","delete.tip":"Delete item"},ru:{reset:"Сбросить",drag:"Перетащить","drag.tip":"Перетаскивайте или нажимайте ↑/↓, пока элемент в фокусе, чтобы изменить порядок элементов",delete:"Удалить","delete.tip":"Удалить элемент"}};for(var i in o[t])e[n+"."+i]=o[t][i];return e}}},{}],21:[function(t,n,o){var i=t(10),r=t(24),a=t(19),s=t(11),u=function(){function t(n,o,i){function r(t){for(var e=t;e=Object.getPrototypeOf(e);){var n=a.get(e.constructor);if(n)return n(t,r,i,o)}}e(this,t);var a=new Map;this.setOptionClassWriters(a),this.$output=r(n.root)}return t.prototype.getLeadLabel=function(t,e,n){return"<label for='"+t+"'>"+e("options."+n.fullName)+":</label><span class='space'> </span>"},t.prototype.setOptionClassWriters=function(t){var e=this;t.set(a.Root,function(t,e,n,o){return t.$=$("<div class='options-output'>").append(t.entries.map(e))}),t.set(a.Group,function(){return(new(Function.prototype.bind.apply(s,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.Void,function(t,e,n,o){return t.$=$("<div class='option no-lead'>").html(n("options."+t.fullName))}),t.set(a.Checkbox,function(t,e,n,o){var i=o();return t.$=$("<div class='option no-lead'>").append($("<input type='checkbox' id='"+i+"'>").prop("checked",t.value).change(function(){t.value=$(this).prop("checked")})," <label for='"+i+"'>"+n("options."+t.fullName)+"</label>")}),t.set(a.Select,function(t,n,o,i){var a=function(e){return"options."+t.fullName+"."+e},s=function(e){return"options-info."+t.fullName+"."+e},u=i(),p=void 0;return t.$=$("<div class='option'>").append(e.getLeadLabel(u,o,t),p=$("<select id='"+u+"'>").append(t.availableValues.map(function(t){return $("<option>").val(t).html(o(a(t)))})).val(t.value).change(function(){t.value=this.value})),t.availableValues.some(function(t){return o.has(s(t))})&&!function(){var e=r("info","");t.$.append(" ",e);var n=function(){o.has(s(this.value))?(e.find(".tip-content").html(o(s(this.value))),e.css("display","")):(e.css("display","none"),e.find(".tip-content").empty())};n.call(p[0]),p.change(n)}(),t.$}),t.set(a.Text,function(t,n,o,i){var r=i(),a=i();return t.$=$("<div class='option'>").append(e.getLeadLabel(r,o,t),$("<input type='text' id='"+r+"' list='"+a+"'>").val(t.value).on("input change",function(){t.value=this.value})," ",$("<datalist id='"+a+"'>").append(t.availableValues.map(function(t){return $("<option>").text(t)})))}),t.set(a.Number,function(t,n,o,a){var s=t.precision,u=function(e){return e.attr({min:t.availableMin,max:t.availableMax,step:Math.pow(.1,s).toFixed(s)})},p=function(e,n){return u(e).val(t.value).on("input change",function(){this.checkValidity()&&(n.val(this.value),t.value=parseFloat(this.value))})},c=a(),l=$("<input type='range' id='"+c+"'>"),d=$("<input type='number' required>"),f=i({min:t.availableMin,max:t.availableMax},t.precision);t.$=$("<div class='option'>").append(e.getLeadLabel(c,o,t),$("<span class='nowrap'>").append("<span class='min'>"+o.numberWithUnits(f.min,t.unit)+"</span> ",p(l,d)," <span class='max'>"+o.numberWithUnits(f.max,t.unit)+"</span>")," ",p(d,l)," ",$("<button type='button'>"+o("options-output.reset")+"</button>").click(function(){l.val(t.defaultValue).change()}));var h="options-info."+t.fullName;return o.has(h)&&t.$.append(" ",r("info",o(h))),t.$})},t}();n.exports=u},{10:10,11:11,19:19,24:24}],22:[function(n,o,i){var r=function(){function t(){e(this,t),this.options={},this.affects={},this.inCollection=0}return t.prototype.register=function(t){var e=this;this.inCollection||(this.options[t.fullName]=t,t.addUpdateCallback(function(){e.updateVisibilityAffectedBy(t.fullName)}))},t.prototype.declareAffectedBy=function(t,e){void 0===this.affects[e]&&(this.affects[e]=[]),this.affects[e].push(t)},t.prototype.updateVisibilityAffectedBy=function(t){void 0!==this.affects[t]&&this.affects[t].forEach(function(t){t.updateVisibility()})},t.prototype.enterCollection=function(){this.inCollection+=1},t.prototype.exitCollection=function(){this.inCollection-=1},t}(),a=function(){function o(t){e(this,o);var n=this.optionClasses,i=function(t,e,o,r){var a,s=t[0];if(void 0===n[s])throw new Error("invalid option type '"+s+"'");var u=t.slice(1);return(a=n[s]).make.apply(a,u)(e,o,r,i)};this.root=n.Root.make(null,this.entriesDescription)(t,null,new r,i)}return o.prototype.addUpdateCallback=function(t){this.root.addUpdateCallback(t)},o.prototype.export=function(){return this.root.shortenExport(this.root.export())},o.prototype.fix=function(){return this.root.fix()},t(o,[{key:"optionClasses",get:function(){return n(19)}},{key:"entriesDescription",get:function(){return[]}}]),o}();o.exports=a},{19:19}],23:[function(t,i,r){var a=t(8),s=t(17),u=function(t){function i(o,r){e(this,i);var a=n(this,t.call(this,o));return a.ref=r,a}return o(i,t),i.parse=function(t){for(var e=s.ba(""),n=/^(.*?)\[([^\]]+)\]\[([^\]]+)\]/;t.length>0;){var o=n.exec(t);if(!o){e.t(t);break}e.t(o[1]),e.t(this.b(o[3]).ae(o[2])),t=t.substr(o[0].length)}return e.e()},i.prototype.doGet=function(e,n){var o=t.prototype.doGet.call(this,e,n),i=void 0;return n&&"object"==typeof e.refs&&(i=e.refs[this.ref]),void 0!==i?o.map(function(t){return"<a href='"+a(i)+"'>"+t+"</a>"}):o},i}(s);i.exports=u},{17:17,8:8}],24:[function(t,e,n){e.exports=function(t,e){var n=$("<span class='tip-"+t+"' tabindex='0'><span class='tip-content'>"+e+"</span></span>"),o=null,i=0,r=function(t,e){void 0===e&&(e=200),1==t&&0==i?(clearTimeout(o),o=setTimeout(function(){n.addClass("open")},e)):t==-1&&1==i&&(clearTimeout(o),o=setTimeout(function(){n.removeClass("open")},e)),i+=t};return n.mouseenter(function(){r(1)}).focusin(function(){r(1,0)}).on("mouseleave focusout",function(){r(-1)}),n}},{}],25:[function(n,o,r){var a=i(["<link rel=stylesheet href=",">"],["<link rel=stylesheet href=",">"]),s=i(["<script src=","></script>"],["<script src=","></script>"]),u=i(["<html lang=",">"],["<html lang=",">"]),p=n(17),c=n(18),l=n(3),d=function(){function n(){e(this,n)}return n.prototype.get=function(t){return this.getLines().get(t)},n.prototype.getHtml=function(t){return this.getLines().getHtml(t)},n.prototype.extractSections=function(t){void 0===t&&(t={});var e=c.b("<style>","</style>").ae(this.cachedStyleLines),n=p.be();"paste"==t.css?(e="body"==t.html?p.be():p.bae("<!-- <style> "+this.getSectionPasteComment("css")+" </style> -->"),n=this.cachedStyleLines):"file"==t.css&&(e=p.bae(p.html(a,this.basename+".css")),n=this.cachedStyleLines);var o=c.b("<script>","</script>").ae(this.cachedScriptLines),i=p.be();"paste"==t.js?(o="body"==t.html?p.be():p.bae("<!-- <script> "+this.getSectionPasteComment("js")+" </script> -->"),i=this.cachedScriptLines):"file"==t.js&&(o=p.bae(p.html(s,this.basename+".js")),i=this.cachedScriptLines);var r=void 0;r="body"==t.html?this.getBodyHtmlSectionLines(e,o):this.getFullHtmlSectionLines(e,o);var u=function(t){return"text/"+("js"==t?"javascript":t)};return{html:new l(this.filename,u("html"),r),css:new l(this.basename+".css",u("css"),n),js:new l(this.basename+".js",u("js"),i)}},n.prototype.getLines=function(){return this.getFullHtmlSectionLines(c.b("<style>","</style>").ae(this.cachedStyleLines),c.b("<script>","</script>").ae(this.cachedScriptLines))},n.prototype.getFullHtmlSectionLines=function(t,e){var n=p.b();return n("<!DOCTYPE html>"),n(null!==this.lang?p.html(u,this.lang):"<html>"),n("<head>","<meta charset=utf-8>"),null!==this.title&&n("<title>"+this.title+"</title>"),n(t,this.cachedHeadLines,"</head>","<body>",this.cachedBodyLines,e,"</body>","</html>"),n.e()},n.prototype.getBodyHtmlSectionLines=function(t,e){return p.bae(t,this.cachedHeadLines,this.cachedBodyLines,e)},n.prototype.getSectionPasteComment=function(t){return t+" goes here"},t(n,[{key:"filename",get:function(){return this.basename+".html"}},{key:"mimeType",get:function(){return"text/html"}},{key:"cachedStyleLines",get:function(){return this._styleLines||(this._styleLines=this.styleLines),this._styleLines}},{key:"cachedHeadLines",get:function(){return this._headLines||(this._headLines=this.headLines),this._headLines}},{key:"cachedBodyLines",get:function(){return this._bodyLines||(this._bodyLines=this.bodyLines),this._bodyLines}},{key:"cachedScriptLines",get:function(){
return this._scriptLines||(this._scriptLines=this.scriptLines),this._scriptLines}},{key:"basename",get:function(){return"source"}},{key:"lang",get:function(){return null}},{key:"title",get:function(){return null}},{key:"styleLines",get:function(){return p.be()}},{key:"headLines",get:function(){return p.be()}},{key:"bodyLines",get:function(){return p.be()}},{key:"scriptLines",get:function(){return p.be()}}]),n}();o.exports=d},{17:17,18:18,3:3}],26:[function(t,i,r){var a=t(8),s=t(17),u=function(t){function i(o){e(this,i);for(var r=n(this,t.call(this,o)),a=arguments.length,s=Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return r.wrappers=s,r}return o(i,t),i.prototype.isEmpty=function(){return!1},i.prototype.doGet=function(t,e){var n=this,o="\t";void 0!==t.indent&&(o=t.indent);var i=[],r=0,u=function(){var o=n.wrappers[r];if(o instanceof s){var u=o.doGet(t,e);i.push.apply(i,u)}else if("string"==typeof o){var p=e?a(o):o;i.push(p)}r++};u();for(var p=this.data,c=0;c<p.length;c++){var l=p[c];if(l instanceof s){var d=l.doGet(t,e);i.push.apply(i,d.map(function(t){return o+t})),2!=this.wrappers.length&&u()}else if("string"==typeof l){var f=e?a(l):l;i.push(o+f),2!=this.wrappers.length&&u()}}return 2==this.wrappers.length&&u(),i},i}(s);i.exports=u},{17:17,8:8}],27:[function(t,e,n){e.exports=function(t){return function(e,n){return null!=t&&void 0!==t.includes||"string"!=typeof t&&!Array.isArray(t)?t.includes(e,n):t.indexOf(e,n)!==-1}}},{}],28:[function(t,e,n){e.exports=Math.log10||function(t){return Math.log(t)/Math.LN10}},{}],29:[function(t,e,n){e.exports=function(t){return function(e){return null!=t&&void 0!==t.repeat||"string"!=typeof t?t.repeat(e):Array(e+1).join(t)}}},{}],30:[function(t,i,r){var a=t(16),s=t(23),u=t(41),p=function(t){function i(o){e(this,i);var r=n(this,t.call(this));return r.options=o,r}return o(i,t),i.prototype.requestFeatureContext=function(t){var e=this;t.getConnectAssignJsLines=function(t,n,o,i,r){var s=n;""!=t&&(s=t+" "+n);var u="";void 0!==r&&(u=","+r);var p=a.b();if(e.options.connectReturnValue&&Array.isArray(i)&&1==i.length){var c=i[0];p(s+"="+c+".connect("+o+u+");")}else if(p(s+"="+o+";"),Array.isArray(i))p.apply(void 0,i.map(function(t){return t+".connect("+n+u+");"}));else{var l=i.slice(0,-1);p(i+".forEach(function("+l+"){","\t"+l+".connect("+n+u+");","});")}return p.e()}},i.prototype.getInitJsLines=function(t,e){var n=a.b();return t.audioContext&&(n(s.parse("// "+e("comment.context"))),n(this.options.noVendorPrefix?"var ctx=new AudioContext;":"var ctx=new (AudioContext || webkitAudioContext);")),n.e()},i}(u);i.exports=p},{16:16,23:23,41:41}],31:[function(i,r,a){var s=i(50),u=i(32),p=i(33),c={},l=100,d=function(){function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,n),this.options=t,this.nextNodes=new Set,this.prevNodes=new Set}return n.prototype.toGenNode=function(t){return new u[this.type](this.options,t)},t(n,[{key:"passive",get:function(){return!1}},{key:"downstreamEffect",get:function(){return!1}},{key:"upstreamEffect",get:function(){return!1}},{key:"fixedInputs",get:function(){return!0}},{key:"fixedOutputs",get:function(){return!0}},{key:"estimatedNInputs",get:function(){return 0}},{key:"estimatedNOutputs",get:function(){return 0}},{key:"bypassable",get:function(){return!1}},{key:"estimatedNPrevNodeOutputs",get:function(){var t=0;return this.prevNodes.forEach(function(e){t+=e.estimatedNOutputs}),t}},{key:"estimatedNNextNodeInputs",get:function(){var t=0;return this.nextNodes.forEach(function(e){t+=e.estimatedNInputs}),t}}]),n}(),f=function(i){function r(t,o){e(this,r);var a=n(this,i.call(this,t));return a.innerNode=o,a}return o(r,i),t(r,[{key:"type",get:function(){return this.innerNode.type}},{key:"passive",get:function(){return this.innerNode.passive}},{key:"downstreamEffect",get:function(){return this.innerNode.downstreamEffect}},{key:"upstreamEffect",get:function(){return this.innerNode.upstreamEffect}}]),r}(d),h=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"downstreamEffect",get:function(){return!0}},{key:"estimatedNOutputs",get:function(){return 1}},{key:"bypassable",get:function(){return!0}}]),r}(d),g=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"estimatedNInputs",get:function(){return 1}},{key:"estimatedNOutputs",get:function(){return 1}},{key:"bypassable",get:function(){return!0}}]),r}(d),v=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"passive",get:function(){var t=this;return this.propertyNames.every(function(e){var n=t.options[e];return n.value==n.defaultValue&&!n.input})}},{key:"propertyNames",get:function(){return[]}}]),r}(g),y=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.toGenNode=function(t){throw new Error("Attempted to make GenNode for visualization ConNode."+this.type)},r.prototype.toVisNode=function(){return new p[this.type](this.options)},t(r,[{key:"upstreamEffect",get:function(){return!0}},{key:"estimatedNInputs",get:function(){return 1}},{key:"estimatedNOutputs",get:function(){return 1}}]),r}(d);c.bypass=function(i){function r(t,o){e(this,r);var a=n(this,i.call(this,t,o));return a.rewireInput=a.innerNode.upstreamEffect||!a.innerNode.downstreamEffect,a.rewireOutput=a.innerNode.downstreamEffect,a}return o(r,i),r.prototype.toGenNode=function(t){return new u.bypass(this.options,t,this.innerNode.toGenNode(t),this.rewireInput,this.rewireOutput)},t(r,[{key:"fixedInputs",get:function(){return this.passive}},{key:"fixedOutputs",get:function(){return this.passive}},{key:"estimatedNInputs",get:function(){return l}},{key:"estimatedNOutputs",get:function(){return l}}]),r}(f),c.drywet=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.toGenNode=function(t){return new u.drywet(this.options,t,this.innerNode.toGenNode(t))},t(r,[{key:"estimatedNInputs",get:function(){return this.innerNode.estimatedNInputs+1}},{key:"estimatedNOutputs",get:function(){return 2}},{key:"bypassable",get:function(){return!0}}]),r}(f),c.analyser=function(i){function r(t,o){e(this,r);var a=n(this,i.call(this,t));return a.innerNodes=o,a}return o(r,i),r.prototype.toGenNode=function(t){for(var e=this.innerNodes.map(function(t){return t.toVisNode()}),n=new u.analyser(this.options,t,e),o=0;o<e.length;o++){var i=e[o];i.initParent(n.nodeJsName)}return n},r.prototype.isEquivalentAnalyser=function(t){return t instanceof c.analyser&&this.options.logFftSize.value==t.options.logFftSize.value},t(r,[{key:"type",get:function(){return"analyser"}},{key:"upstreamEffect",get:function(){return!0}},{key:"estimatedNInputs",get:function(){return 1}},{key:"estimatedNOutputs",get:function(){return 1}}]),r}(d),c.stereoVolume=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.toGenNode=function(t){var e=[new p.volume(this.options),new p.volume(this.options)],n=new u.stereoVolume(this.options,t,e);return e[0].initParent(n.leftAnalyserNodeJsName),e[1].initParent(n.rightAnalyserNodeJsName),n},t(r,[{key:"type",get:function(){return"stereoVolume"}},{key:"upstreamEffect",get:function(){return!0}},{key:"estimatedNInputs",get:function(){return 1}}]),r}(d),c.junction=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"junction"}}]),r}(v),c.activeJunction=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"passive",get:function(){return!1}}]),r}(c.junction),c.audio=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"audio"}}]),r}(h),c.video=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"video"}}]),r}(h),c.sample=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"sample"}},{key:"downstreamEffect",get:function(){return!0}},{key:"fixedOutputs",get:function(){return!1}},{key:"estimatedNOutputs",get:function(){return l}}]),r}(d),c.gain=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"gain"}},{key:"propertyNames",get:function(){return["gain"]}}]),r}(v),c.panner=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"panner"}},{key:"propertyNames",get:function(){return["pan"]}}]),r}(v),c.biquad=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"biquad"}},{key:"passive",get:function(){return!this.options.type.input&&["lowshelf","highshelf","peaking"].indexOf(this.options.type.value)>=0&&!this.options.gain.input&&0==this.options.gain}}]),r}(g),c.iir=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"iir"}},{key:"passive",get:function(){for(var t=JSON.parse("["+this.options.feedforward+"]"),e=JSON.parse("["+this.options.feedback+"]"),n=0;n<t.length&&n<e.length;){if(t[n]!=e[n])return!1;n++}for(var o=n;o<t.length;o++)if(0!=t[o])return!1;for(var i=n;i<e.length;i++)if(0!=e[i])return!1;return!0}}]),r}(g),c.convolver=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"convolver"}}]),r}(g),c.equalizer=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"equalizer"}},{key:"passive",get:function(){var t=this;return s.EqualizerFilter.frequencies.every(function(e){var n=t.options["gain"+e];return 0==n.value&&!n.input})}}]),r}(g),c.compressor=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"compressor"}}]),r}(g),c.waveform=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"waveform"}}]),r}(y),c.frequencyBars=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"frequencyBars"}}]),r}(y),c.frequencyOutline=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"frequencyOutline"}}]),r}(y),c.volume=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"volume"}}]),r}(y),c.destination=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"destination"}},{key:"upstreamEffect",get:function(){return!0}},{key:"estimatedNInputs",get:function(){return 1}},{key:"bypassable",get:function(){return!0}}]),r}(d),r.exports=c},{32:32,33:33,50:50}],32:[function(r,a,s){var u=i(["<abbr title=",">"],["<abbr title=",">"]),p=i(["<label for=",">",":</label>"],["<label for=",">",":</label>"]),c=i(["<input id="," type=range value="," min="," max="," step=",">"],["<input id="," type=range value="," min="," max="," step=",">"]),l=i(["<select id=",">"],["<select id=",">"]),d=i(["<option selected="," value=",">","</option>"],["<option selected="," value=",">","</option>"]),f=i(["<span id=",">","</span>"],["<span id=",">","</span>"]),h=i(["<input id="," type=checkbox checked=",">"],["<input id="," type=checkbox checked=",">"]),g=i(["<label for=",">","</label>"],["<label for=",">","</label>"]),v=i(["<audio src="," id="," controls loop crossorigin=","></audio>"],["<audio src="," id="," controls loop crossorigin=","></audio>"]),y=i(["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"],["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"]),m=i(["<button id="," disabled>","</button> <span id=",">","</span>"],["<button id="," disabled>","</button> <span id=",">","</span>"]),b=r(5),x=r(9),w=r(10),N=r(17),k=r(16),q=r(26),C=r(18),A=r(50),F=r(41),S={},$=function(i){function r(t,o){e(this,r);var a=n(this,i.call(this));return a.options=t,a.name=o,a}return o(r,i),r.prototype.initEdges=function(t,e){this.prevNodes=t,this.nextNodes=e},r.prototype.getInputs=function(){return[]},r.prototype.getOutputs=function(){return[]},r.prototype.getPrevNodeOutputs=function(){var t=[];return this.prevNodes.forEach(function(e){t.push.apply(t,e.getOutputs())}),t},r.prototype.getNextNodeInputs=function(){var t=[];return this.nextNodes.forEach(function(e){t.push.apply(t,e.getInputs())}),t},r.prototype.getPropertyInputHtmlName=function(t){return"my."+this.name+"."+t},r.prototype.getPropertyInputJsName=function(t){return b(this.name+"."+t+".input")},r.prototype.getPropertyJsConstant=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?e.value:arguments[2];return"range"==t.type?n=x.js(n,e.precision):"select"==t.type&&(n="'"+n+"'"),t.fn&&(n=t.fn(n)),n},r.prototype.getPropertyHtmlLines=function(t,e,n){if(n.skip)return N.be();var o=this.options[n.name],i=this.getPropertyInputHtmlName(n.name),r="options.graph."+this.type+"."+n.name,a=N.b();if("range"==n.type&&o.input){var s=o.precision,h=w.html({min:o.min,max:o.max,value:o.value},s),g=w({min:o.min,max:o.max},s),v=function(t){return e.numberWithUnits(t,o.unit,function(t,e){return N.html(u,e)+t+"</abbr>"})};a(N.html(p,i,e(r)),"<span class=min>"+v(g.min)+"</span>",N.html(c,i,h.value,h.min,h.max,!!s&&Math.pow(.1,s).toFixed(s)),"<span class=max>"+v(g.max)+"</span>")}else if("select"==n.type&&o.input){var y;a(N.html(p,i,e(r)),(y=q.b(N.html(l,i),"</select>")).ae.apply(y,o.availableValues.map(function(t){var n=e(r+"."+t);return N.html(d,o.value==t,t!=n&&t,n)})))}else"xhr"==n.type&&a(N.html(f,i,e("label.graph."+this.type+"."+n.name+".loading")));return a.e()},r.prototype.getPropertyJsLines=function(t,e,n){if(n.skip)return k.be();var o=this.options[n.name],i=this.nodeJsName+"."+n.name+("range"==n.type?".value":""),r=this.getPropertyInputJsName(n.name),a=this.getPropertyInputHtmlName(n.name);if("xhr"!=n.type&&o.input){var s=r+".value";n.fn&&(s=n.fn(s));var u="range"==n.type?"oninput":"onchange";return k.bae("var "+r+"=document.getElementById('"+a+"');",";("+r+"."+u+"=function(){","\t"+i+"="+s+";","})();")}return"xhr"!=n.type&&o.value!=o.defaultValue?k.bae(i+"="+this.getPropertyJsConstant(n,o)+";"):"xhr"==n.type?this.getXhrJsLines(t,e,k.bae(i+"=buffer;","document.getElementById('"+a+"').textContent='';"),k.bae("document.getElementById('"+a+"').textContent='"+e("label.graph."+this.type+"."+n.name+".error")+"';")):k.be()},r.prototype.getXhrJsLines=function(t,e,n,o){var i=k.bae("loadSample('"+this.options.url+"',function(buffer){"),r=k.bae("},function(){"),a=k.bae("});");return t.loaderOnError?q.b(i,r,a).ae(n,o):q.b(i,a).ae(n)},t(r,[{key:"jsCommentType",get:function(){return this.type}},{key:"nodeHtmlName",get:function(){return"my."+this.name}},{key:"nodeJsName",get:function(){return b(this.name+".node")}}]),r}(F),L=function(i){function r(t,o,a){e(this,r);var s=n(this,i.call(this,t,o));return s.innerNode=a,s}return o(r,i),r.prototype.requestFeatureContext=function(t){t.audioContext=!0,this.innerNode.requestFeatureContext(t)},r.prototype.getPreVisJsLines=function(t,e){return this.innerNode.getPreVisJsLines(t,e)},r.prototype.getVisJsLines=function(t,e){return this.innerNode.getVisJsLines(t,e)},t(r,[{key:"type",get:function(){return this.innerNode.type}},{key:"jsCommentType",get:function(){return this.innerNode.jsCommentType}}]),r}($),I=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.getOutputs=function(){return[this.nodeJsName]},i.prototype.getHtmlLines=function(t,e){return C.b("<div>","</div>").ae(this.getElementHtmlLines(t,e))},i.prototype.getInitJsLines=function(t,e){return k.bae("var "+this.nodeJsName+"=ctx.createMediaElementSource(document.getElementById('"+this.nodeHtmlName+"'));")},i}($),E=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getInputs=function(){return[this.nodeJsName]},r.prototype.getOutputs=function(){return[this.nodeJsName]},r.prototype.requestFeatureContext=function(t){t.audioContext=!0},r.prototype.getHtmlLines=function(t,e){var n=this;return N.bae.apply(N,this.properties.map(function(o){return C.b("<div>","</div>").ae(n.getPropertyHtmlLines(t,e,o))}))},r.prototype.getInitJsLines=function(t,e){var n=this;return k.bae.apply(k,[t.getConnectAssignJsLines("var",this.nodeJsName,"ctx."+this.ctxCreateMethodName+"()",this.getPrevNodeOutputs())].concat(this.properties.map(function(o){return n.getPropertyJsLines(t,e,o)})))},t(r,[{key:"properties",get:function(){return[]}}]),r}($);S.bypass=function(t){function i(o,r,a,s,u){e(this,i);var p=n(this,t.call(this,o,r,a));return p.rewireInput=s,p.rewireOutput=u,p}return o(i,t),i.prototype.initEdges=function(e,n){t.prototype.initEdges.call(this,e,n),this.innerNode.initEdges(e,n)},i.prototype.getInputs=function(){var t=[];return!this.options.enabled&&this.rewireInput||t.push.apply(t,this.innerNode.getInputs()),this.options.enabled||t.push.apply(t,this.getNextNodeInputs()),t},i.prototype.getOutputs=function(){var t=[];return!this.options.enabled&&this.rewireOutput||t.push.apply(t,this.innerNode.getOutputs()),this.options.enabled||t.push.apply(t,this.getPrevNodeOutputs()),t},i.prototype.getHtmlLines=function(t,e){var n=this.getPropertyInputHtmlName("enabled");return N.bae(C.b("<div>","</div>").ae(N.html(h,n,this.options.enabled),N.html(g,n,e("options-output.enabled"))),this.innerNode.getHtmlLines(t,e))},i.prototype.getInitJsLines=function(t,e){var n=this.getPropertyInputHtmlName("enabled"),o=k.b(),i=function(t,e,n){for(var i=0;i<e.length;i++)for(var r=e[i],a=0;a<n.length;a++){var s=n[a];o("\t\t"+r+"."+t+"("+s+");")}};return o(this.innerNode.getInitJsLines(t,e),"document.getElementById('"+n+"').onchange=function(){","\tif (this.checked) {"),i("disconnect",this.getPrevNodeOutputs(),this.getNextNodeInputs()),this.rewireInput&&i("connect",this.getPrevNodeOutputs(),this.innerNode.getInputs()),this.rewireOutput&&i("connect",this.innerNode.getOutputs(),this.getNextNodeInputs()),o("\t} else {"),this.rewireOutput&&i("disconnect",this.innerNode.getOutputs(),this.getNextNodeInputs()),this.rewireInput&&i("disconnect",this.getPrevNodeOutputs(),this.innerNode.getInputs()),i("connect",this.getPrevNodeOutputs(),this.getNextNodeInputs()),o("\t}","};"),o.e()},i}(L),S.drywet=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.initEdges=function(t,e){i.prototype.initEdges.call(this,t,e);var n={getInputs:function(){[this.wetGainNodeJsName]}};this.innerNode.initEdges(t,[n])},r.prototype.getInputs=function(){return[this.dryGainNodeJsName].concat(this.innerNode.getInputs())},r.prototype.getOutputs=function(){return[this.dryGainNodeJsName,this.wetGainNodeJsName]},r.prototype.getHtmlLines=function(t,e){return N.bae(this.getPropertyHtmlLines(t,e,this.wetProperty),this.innerNode.getHtmlLines(t,e))},r.prototype.getInitJsLines=function(t,e){var n=k.b();if(n(this.innerNode.getInitJsLines(t,e)),n(t.getConnectAssignJsLines("var",this.dryGainNodeJsName,"ctx.createGain()",this.getPrevNodeOutputs())),this.options.wet.input||n(this.dryGainNodeJsName+".gain.value="+this.getPropertyJsConstant(this.wetProperty,this.options.wet,1-this.options.wet)+";"),n(t.getConnectAssignJsLines("var",this.wetGainNodeJsName,"ctx.createGain()",this.innerNode.getOutputs())),this.options.wet.input||n(this.wetGainNodeJsName+".gain.value="+this.getPropertyJsConstant(this.wetProperty,this.options.wet)+";"),this.options.wet.input){var o=this.getPropertyInputHtmlName("wet"),i=this.getPropertyInputJsName("wet");n("var "+i+"=document.getElementById('"+o+"');",";("+i+".oninput=function(){","\t"+this.wetGainNodeJsName+".gain.value="+i+".value;","\t"+this.dryGainNodeJsName+".gain.value=1-"+i+".value;","})();")}return n.e()},t(r,[{key:"jsCommentType",get:function(){return this.innerNode.jsCommentType+".drywet"}},{key:"dryGainNodeJsName",get:function(){return b(this.name+".dry.gain.node")}},{key:"wetGainNodeJsName",get:function(){return b(this.name+".wet.gain.node")}},{key:"wetProperty",get:function(){return{name:"wet",type:"range"}}}]),r}(L),S.analyser=function(i){function r(t,o,a){e(this,r);var s=n(this,i.call(this,t,o));return s.visNodes=a,s}return o(r,i),r.prototype.getInputs=function(){return[this.nodeJsName]},r.prototype.getOutputs=function(){return[this.nodeJsName]},r.prototype.requestFeatureContext=function(t){t.audioContext=!0,t.canvas=!0,(void 0==t.maxLogFftSize||t.maxLogFftSize<this.options.logFftSize)&&(t.maxLogFftSize=this.options.logFftSize,t.maxLogFftSizeNodeJsName=this.nodeJsName);for(var e=this.visNodes,n=0;n<e.length;n++){var o=e[n];o.requestFeatureContext(t)}},r.prototype.getInitJsLines=function(t,e){var n=this,o=function(e,o,i){var r=k.b();return r(t.getConnectAssignJsLines("var",e,"ctx.createAnalyser()",o,i)),11!=n.options.logFftSize&&r(e+".fftSize="+(1<<n.options.logFftSize)+";"),r.e()};return o(this.nodeJsName,this.getPrevNodeOutputs())},r.prototype.getPreVisJsLines=function(t,e){return k.bae.apply(k,this.visNodes.map(function(n){return n.getPreVisJsLines(t,e)}))},r.prototype.getVisJsLines=function(t,e){return k.bae.apply(k,this.visNodes.map(function(n){return n.getVisJsLines(t,e)}))},t(r,[{key:"type",get:function(){return"analyser"}}]),r}($),S.stereoVolume=function(i){function r(t,o,a){e(this,r);var s=n(this,i.call(this,t,o));return s.visNodes=a,s}return o(r,i),r.prototype.getInputs=function(){return[this.splitterNodeJsName]},r.prototype.requestFeatureContext=function(t){t.audioContext=!0,t.canvas=!0,(void 0==t.maxLogFftSize||t.maxLogFftSize<this.options.logFftSize)&&(t.maxLogFftSize=this.options.logFftSize,t.maxLogFftSizeNodeJsName=this.leftAnalyserNodeJsName);for(var e=this.visNodes,n=0;n<e.length;n++){var o=e[n];o.requestFeatureContext(t)}},r.prototype.getInitJsLines=function(t,e){var n=this,o=function(e,o,i){var r=k.b();return r(t.getConnectAssignJsLines("var",e,"ctx.createAnalyser()",o,i)),11!=n.options.logFftSize&&r(e+".fftSize="+(1<<n.options.logFftSize)+";"),r.e()};return k.bae(t.getConnectAssignJsLines("var",this.splitterNodeJsName,"ctx.createChannelSplitter()",this.getPrevNodeOutputs()),o(this.leftAnalyserNodeJsName,[this.splitterNodeJsName],"0"),o(this.rightAnalyserNodeJsName,[this.splitterNodeJsName],"1"))},r.prototype.getPreVisJsLines=function(t,e){return k.bae.apply(k,this.visNodes.map(function(n){return n.getPreVisJsLines(t,e)}))},r.prototype.getVisJsLines=function(t,e){return k.bae.apply(k,this.visNodes.map(function(n){return n.getVisJsLines(t,e)}))},t(r,[{key:"type",get:function(){return"stereoVolume"}},{key:"splitterNodeJsName",get:function(){return b(this.name+".splitter.node")}},{key:"leftAnalyserNodeJsName",get:function(){return b(this.name+".left.analyser.node")}},{key:"rightAnalyserNodeJsName",get:function(){return b(this.name+".right.analyser.node")}}]),r}($),S.junction=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"junction"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}}]),r}(E),S.audio=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getElementHtmlLines=function(t,e){return N.bae(N.html(v,this.options.url,this.nodeHtmlName,!!t.audioContext&&"anonymous"))},t(r,[{key:"type",get:function(){return"audio"}}]),r}(I),S.video=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getElementHtmlLines=function(t,e){return N.bae(N.html(y,this.options.url,this.nodeHtmlName,this.options.width,this.options.height,!!t.audioContext&&"anonymous"))},t(r,[{key:"type",get:function(){return"video"}}]),r}(I),S.sample=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.requestFeatureContext=function(t){t.audioContext=!0,t.loader=!0},r.prototype.getHtmlLines=function(t,e){var n=this.nodeHtmlName+".buffer";return C.b("<div>","</div>").ae(N.html(m,this.nodeHtmlName,e("label.graph.sample.play"),n,e("label.graph.sample.buffer.loading")))},r.prototype.getInitJsLines=function(t,e){var n=this,o=this.nodeHtmlName+".buffer",i=function(t){return 1==t?"":"*"+t},r=function(e){var o=function(t,e){var n={};n.base=t,e>0&&(n.random=e);var o=w.js(n),r=o.base;return e>0&&(r+="+Math.random()"+i(o.random)),r},r=k.b(),a="bufferSourceNode";return r("var bufferSourceNode=ctx.createBufferSource();","bufferSourceNode.buffer=buffer;"),(1!=n.options.pitch||n.options.randomPitch>0)&&r("bufferSourceNode.playbackRate.value="+o(n.options.pitch,n.options.randomPitch)+";"),(1!=n.options.gain||n.options.randomGain>0)&&(a="bufferSourceGainNode",r(t.getConnectAssignJsLines("var","bufferSourceGainNode","ctx.createGain()",["bufferSourceNode"]),"bufferSourceGainNode.gain.value="+o(n.options.gain,n.options.randomGain)+";")),r.apply(void 0,n.getNextNodeInputs().map(function(t){return a+".connect("+t+");"}).concat(["bufferSourceNode.start("+e+");"])),r.e()},a=function(){var t="",e={};1!=n.options.repeat&&(e.interval=n.options.interval),n.options.randomShift>0&&(e.randomShift=n.options.randomShift);var o=w.js(e);return 1!=n.options.repeat&&(t+="+i"+i(o.interval)),n.options.randomShift>0&&(t+="+Math.random()"+i(o.randomShift)),t.length>0&&(t="ctx.currentTime"+t),1==n.options.repeat?r(t):q.b(k.bae("for (var i=0;i<"+n.options.repeat+";i++) {"),k.bae("}")).ae(r(t))},s=function(){return k.bae("var button=document.getElementById('"+n.nodeHtmlName+"');",q.b(k.bae("button.onclick=function(){"),k.bae("};")).ae(a()),"button.disabled=false;","document.getElementById('"+o+"').textContent='';")},u=function(){return k.bae("document.getElementById('"+o+"').textContent='"+e("label.graph.sample.buffer.error")+"';")};return this.getXhrJsLines(t,e,s(),u())},t(r,[{key:"type",get:function(){return"sample"}}]),r}($),S.gain=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"gain"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}},{key:"properties",get:function(){return[{name:"gain",type:"range"}]}}]),r}(E),S.panner=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"panner"}},{key:"ctxCreateMethodName",get:function(){return"createStereoPanner"}},{key:"properties",get:function(){return[{name:"pan",type:"range"}]}}]),r}(E),S.biquad=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"biquad"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"properties",get:function(){return[{name:"type",type:"select"},{name:"frequency",type:"range"},{name:"detune",type:"range"},{name:"Q",type:"range",fn:function(t){return"Math.pow(10,"+t+")"},skip:!this.options.type.input&&!A.BiquadFilter.typeUsesQ(this.options.type.value)},{name:"gain",type:"range",skip:!this.options.type.input&&!A.BiquadFilter.typeUsesGain(this.options.type.value)}]}}]),r}(E),S.iir=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getInputs=function(){return[this.nodeJsName]},r.prototype.getOutputs=function(){return[this.nodeJsName]},r.prototype.requestFeatureContext=function(t){t.audioContext=!0},r.prototype.getInitJsLines=function(t,e){return k.bae(t.getConnectAssignJsLines("var",this.nodeJsName,"ctx.createIIRFilter(["+this.options.feedforward+"],["+this.options.feedback+"])",this.getPrevNodeOutputs()))},t(r,[{key:"type",get:function(){return"iir"}}]),r}($),S.convolver=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.requestFeatureContext=function(t){i.prototype.requestFeatureContext.call(this,t),t.loader=!0},t(r,[{key:"type",get:function(){return"convolver"}},{key:"ctxCreateMethodName",get:function(){return"createConvolver"}},{key:"properties",get:function(){return[{name:"buffer",type:"xhr"}]}}]),r}(E),S.equalizer=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getInputs=function(){return 1==this.affectedFreqsAndOptions.length?[this.nodeJsName]:[this.inputNodeJsName]},r.prototype.getOutputs=function(){return 1==this.affectedFreqsAndOptions.length?[this.nodeJsName]:[this.outputNodeJsName]},r.prototype.requestFeatureContext=function(t){t.audioContext=!0;for(var e=0,n=this.affectedFreqsAndOptions,o=0;o<n.length;o++){var i=n[o],r=(i[0],i[1]);if(r.input&&++e>1)return void(t.alignedInputs=!0)}},r.prototype.getHtmlLines=function(t,e){var n=this,o=A.EqualizerFilter.frequencies.map(function(t){return{name:"gain"+t,type:"range"}});return N.bae.apply(N,o.map(function(o){return C.b("<div>","</div>").ae(n.getPropertyHtmlLines(t,e,o))}))},r.prototype.getInitJsLines=function(t,e){var n=this,o=this.getPrevNodeOutputs(),i=1==this.affectedFreqsAndOptions.length,r=this.affectedFreqsAndOptions.every(function(t){var e=(t[0],t[1]);return 0==e.input}),a=this.affectedFreqsAndOptions.every(function(t){var e=(t[0],t[1]);return 1==e.input}),s=function(){return n.affectedFreqsAndOptions.map(function(t){var e=t[0],n=t[1];return a?e:"["+e+","+(n.input?"null":n.value)+"]"}).join()},u=function(){return a?"freq":"freqData"},p=function(){var e=i?n.affectedFreqsAndOptions[0][0]:"freq",s=i?n.affectedFreqsAndOptions[0][1].value:"gain",u=void 0;u=i?n.nodeJsName:r?n.outputNodeJsName:"node";var p=i?n.getPropertyInputJsName("gain"+e):"input",c=i?"'"+n.getPropertyInputHtmlName("gain"+e)+"'":"'"+n.getPropertyInputHtmlName("gain")+"'+freq",l=k.b();a||i||l("var freq=freqData[0], gain=freqData[1];");var d=void 0;d=i?o:1==o.length?["prevNode"]:"prevNodes",l(t.getConnectAssignJsLines(r&&!i?"":"var",u,"ctx.createBiquadFilter()",d)),i||l("if ("+n.inputNodeJsName+"===undefined) {","\t"+n.inputNodeJsName+"="+u+";","}"),l(u+".type='peaking';",u+".frequency.value="+e+";");var f=k.bae(u+".gain.value="+s+";"),h=k.bae("var "+p+"=document.getElementById("+c+");",";("+p+".oninput=function(){","\t"+u+".gain.value="+p+".value;","})();");if(!a&&r?l(f):a&&!r?l(h):a||r||l(q.b("if (gain!==null) {","} else {","}").ae(f,h)),!i){var g=r?u:n.outputNodeJsName+"="+u;l(1==o.length?"prevNode="+g+";":"prevNodes=["+g+"];")}return l.e()};if(i)return k.bae(p());var c=k.b();return c(1==o.length?"var prevNode="+o[0]+";":"var prevNodes=["+o.join()+"];"),c("var "+this.inputNodeJsName+","+this.outputNodeJsName+";",q.b(k.bae(";["+s()+"].forEach(function("+u()+"){"),k.bae("});")).ae(p())),c.e()},t(r,[{key:"type",get:function(){return"equalizer"}},{key:"jsCommentType",get:function(){return 1==this.affectedFreqsAndOptions.length?this.type+".single":this.type}},{key:"affectedFreqsAndOptions",get:function(){var t=this;return A.EqualizerFilter.frequencies.map(function(e,n){return[e,t.options["gain"+e]]}).filter(function(t){var e=(t[0],t[1]);return 0!=e.input||0!=e.value})}},{key:"inputNodeJsName",get:function(){return b(this.name+".input.node")}},{key:"outputNodeJsName",get:function(){return b(this.name+".output.node")}}]),r}($),S.compressor=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"type",get:function(){return"compressor"}},{key:"ctxCreateMethodName",get:function(){return"createDynamicsCompressor"}}]),r}(E),S.destination=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getInputs=function(){return["ctx.destination"]},r.prototype.getInitJsLines=function(t,e){return k.bae.apply(k,this.getPrevNodeOutputs().map(function(t){return t+".connect(ctx.destination);"}))},t(r,[{key:"type",get:function(){return"destination"}}]),r}($),a.exports=S},{10:10,16:16,17:17,18:18,26:26,41:41,5:5,50:50,9:9}],33:[function(i,r,a){var s=i(16),u=i(26),p=i(41),c=i(36),l=function(){
function t(){e(this,t),this.data={}}return t.prototype.addArgValues=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var o=0;o<e.length;o++){var i=this.args[o],r=e[o];void 0===this.data[i]?this.data[i]=r:Array.isArray(this.data[i])||this.data[i]==r||(this.data[i]=[])}},t.prototype.getArgValue=function(t){return Array.isArray(this.data[t])?t:this.data[t]},t.prototype.getTernaryOpArgValue=function(t,e){for(var n=this.getArgValue(t),o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1];if("'"+r+"'"==n)return a}return"("+t+"=='"+e[0][0]+"' ? "+e[0][1]+" : "+e[1][1]+")"},t.prototype.getConditionalArgLines=function(t,e){for(var n=this.getArgValue(t),o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1];if("'"+r+"'"==n)return a}return u.b(s.bae("if ("+t+"=='"+e[0][0]+"') {"),s.bae("} else {"),s.bae("}")).ae(e[0][1],e[1][1])},t.prototype.getDeclJsLines=function(t){for(var e=[],n=0;n<this.args.length;n++)Array.isArray(this.data[this.args[n]])&&e.push(this.args[n]);return u.b(s.bae("function "+this.name+"("+e.join()+") {"),s.bae("}")).ae(this.getBodyJsLines(t))},t.prototype.getCallJsLines=function(){for(var t=[],e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var i=0;i<n.length;i++)Array.isArray(this.data[this.args[i]])&&t.push(n[i]);return s.bae(this.name+"("+t.join()+");")},t}(),d=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getBodyJsLines=function(t){var e=this.getArgValue("analyserNode"),n=t.b();return n(n.setProp("lineWidth",this.getArgValue("waveformWidth")),n.setProp("strokeStyle",this.getArgValue("waveformColor")),e+".getByteTimeDomainData(analyserData);",n.jsName+".beginPath();","for (var i=0;i<"+e+".frequencyBinCount;i++) {","\tvar x=i*canvas.width/("+e+".frequencyBinCount-1);","\tvar y=analyserData[i]*canvas.height/256;","\tif (i==0) {","\t\t"+n.jsName+".moveTo(x,y);","\t} else {","\t\t"+n.jsName+".lineTo(x,y);","\t}","}",n.jsName+".stroke();"),n.e()},t(r,[{key:"name",get:function(){return"visualizeWaveform"}},{key:"args",get:function(){return["analyserNode","waveformWidth","waveformColor"]}}]),r}(l),f=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getBodyJsLines=function(t){var e=this.getArgValue("analyserNode"),n=this.getArgValue("frequencyCutoff"),o=t.b(),i=e+".frequencyBinCount";100!=n&&(o("var nBars=Math.floor("+i+"*"+(n/100).toFixed(2)+");"),i="nBars");var r=this.getTernaryOpArgValue("barsBase",[["bottom","canvas.height-barHeight"],["middle","(canvas.height-barHeight)/2"]]),a=this.getTernaryOpArgValue("barsColoringInput",[["amplitude","analyserData[i]"],["frequency","Math.round(i*255/"+i+")"]]),s=this.getTernaryOpArgValue("barsColoring",[["component","'rgb('+("+a+"+100)+',50,50)'"],["spectral","'hsl('+(255-"+a+")+',100%,50%)'"]]);return o.setProp("fillStyle",s),o("var barWidth=canvas.width/"+i+"*0.8;",e+".getByteFrequencyData(analyserData);","for (var i=0;i<"+i+";i++) {","\tvar x=i*canvas.width/"+i+";","\t"+o.jsName+".fillStyle="+s+";","\tvar barHeight=analyserData[i]*canvas.height/256;","\tvar y="+r+";","\t"+o.jsName+".fillRect(x,y,barWidth,barHeight);","}"),o.e()},t(r,[{key:"name",get:function(){return"visualizeFrequencyBars"}},{key:"args",get:function(){return["analyserNode","frequencyCutoff","barsBase","barsColoring","barsColoringInput"]}}]),r}(l),h=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getBodyJsLines=function(t){var e=this.getArgValue("analyserNode"),n=this.getArgValue("frequencyCutoff"),o=t.b(),i=e+".frequencyBinCount";100!=n&&(o("var nBars=Math.floor("+i+"*"+(n/100).toFixed(2)+");"),i="nBars");var r=function(t){return s.bae("for (var i=0;i<"+i+";i++) {","\tvar x=i*canvas.width/"+i+";","\tvar barHeight=analyserData[i]*canvas.height/256;","\tvar y="+t+";","\tif (i==0) {","\t\t"+o.jsName+".moveTo(0,y);","\t}","\t"+o.jsName+".lineTo(x+barWidth/2,y);","\tif (i=="+i+"-1) {","\t\t"+o.jsName+".lineTo(canvas.width,y);","\t}","}")};return o(o.setProp("lineWidth",this.getArgValue("outlineWidth")),o.setProp("strokeStyle",this.getArgValue("outlineColor")),"var barWidth=canvas.width/"+i+"*0.8;",e+".getByteFrequencyData(analyserData);",o.jsName+".beginPath();",this.getConditionalArgLines("outlineBase",[["bottom",r("canvas.height-barHeight")],["middle",u.b(s.bae(";[-1,+1].forEach(function(aboveOrBelow){"),s.bae("});")).ae(r("(canvas.height+aboveOrBelow*barHeight)/2"))]]),o.jsName+".stroke();"),o.e()},t(r,[{key:"name",get:function(){return"visualizeFrequencyOutline"}},{key:"args",get:function(){return["analyserNode","frequencyCutoff","outlineBase","outlineWidth","outlineColor"]}}]),r}(l),g=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.getBodyJsLines=function(t){var e=this.getArgValue("analyserNode"),n=this.getArgValue("xOffset"),o=t.b();return o(e+".getByteFrequencyData(analyserData);","var sumAmplitudes=0;","for (var i=0;i<"+e+".frequencyBinCount;i++) {","\tsumAmplitudes+=analyserData[i];","}","var meanAmplitude=sumAmplitudes/"+e+".frequencyBinCount;","var barHeight=meanAmplitude*canvas.height/256;",o.setProp("fillStyle","canvasVolumeGradient"),o.jsName+".fillRect("+n+",canvas.height-barHeight,25,barHeight);"),o.e()},t(r,[{key:"name",get:function(){return"visualizeVolumeOutline"}},{key:"args",get:function(){return["analyserNode","xOffset"]}}]),r}(l),v={},y=function(t){function i(o){e(this,i);var r=n(this,t.call(this));return r.options=o,r}return o(i,t),i.prototype.initParent=function(t){this.analyserNodeJsName=t},i.prototype.requestFeatureContext=function(t){var e;void 0===t[this.featureContextProp]&&(t[this.featureContextProp]=this.makeVisFunction()),(e=t[this.featureContextProp]).addArgValues.apply(e,this.listVisFunctionArgValues())},i.prototype.getVisJsLines=function(t,e){var n;return(n=t[this.featureContextProp]).getCallJsLines.apply(n,this.listVisFunctionArgValues())},i}(p);v.waveform=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.makeVisFunction=function(){return new d},r.prototype.listVisFunctionArgValues=function(){return[this.analyserNodeJsName,this.options.width.value,c.getColorStyle(this.options.color)]},t(r,[{key:"featureContextProp",get:function(){return"visualizeWaveformFn"}}]),r}(y),v.frequencyBars=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.makeVisFunction=function(){return new f},r.prototype.listVisFunctionArgValues=function(){return[this.analyserNodeJsName,this.options.cutoff.value,"'"+this.options.base+"'","'"+this.options.coloring+"'","'"+this.options.coloringInput+"'"]},t(r,[{key:"featureContextProp",get:function(){return"visualizeFrequencyBarsFn"}}]),r}(y),v.frequencyOutline=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.makeVisFunction=function(){return new h},r.prototype.listVisFunctionArgValues=function(){return[this.analyserNodeJsName,this.options.cutoff.value,"'"+this.options.base+"'",this.options.width.value,c.getColorStyle(this.options.color)]},t(r,[{key:"featureContextProp",get:function(){return"visualizeFrequencyOutlineFn"}}]),r}(y),v.volume=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.requestFeatureContext=function(t){t.canvasVolumeGradient=!0,void 0===t.canvasVolumeMeterCounter&&(t.canvasVolumeMeterCounter=0),this.xOffset=26*t.canvasVolumeMeterCounter++,i.prototype.requestFeatureContext.call(this,t)},r.prototype.makeVisFunction=function(){return new g},r.prototype.listVisFunctionArgValues=function(){return[this.analyserNodeJsName,this.xOffset]},t(r,[{key:"featureContextProp",get:function(){return"visualizeVolumeFn"}}]),r}(y),r.exports=v},{16:16,26:26,36:36,41:41}],34:[function(t,i,r){var a=t(31),s=t(17),u=t(15),p=t(18),c=t(16),l=t(23),d=t(41),f=function(t){function i(o){e(this,i);for(var r=n(this,t.call(this)),s=function(t,e){var n=!1;return e.nextNodes.forEach(function(e){t.nextNodes.has(e)&&(n=!0)}),n},u=function(t,e){e.prevNodes=t.prevNodes,e.nextNodes=t.nextNodes,t.prevNodes.forEach(function(n){n.nextNodes.delete(t),n.nextNodes.add(e)}),t.nextNodes.forEach(function(n){n.prevNodes.delete(t),n.prevNodes.add(e)})},p=function(t){t.prevNodes.forEach(function(e){e.nextNodes.delete(t),t.nextNodes.forEach(function(t){e.nextNodes.add(t)})}),t.nextNodes.forEach(function(e){e.prevNodes.delete(t),t.prevNodes.forEach(function(t){e.prevNodes.add(t)})})},c=function(){var t=function(){return o.nodes.map(function(t){var e=0,n=new a[t.nodeType](t);return n instanceof a.destination&&(e=1),n instanceof a.convolver&&(0!=t.wet||t.wet.input?(1!=t.wet||t.wet.input)&&(n=new a.drywet(t,n)):(n=new a.junction,e=0)),n.bypassable&&(t.enabled||t.enabledInput?t.enabledInput&&(n=new a.bypass(t,n),e*=2+t.enabled):(n=new a.junction,e=0)),[n,e]})},e=function(t){for(var e=null,n=0,o=0;o<t.length;o++){var i=t[o],r=i[0],a=i[1];a>n&&(e=r,n=a)}return t.map(function(t){var n=t[0],o=t[1];return null!=e&&o>0?e:n})},n=function(t){for(var e=0;e<o.nodes.length;e++)for(var n=o.nodes[e].next,i=0;i<n.length;i++){var r=n[i];t[e].nextNodes.add(t[r]),t[r].prevNodes.add(t[e])}return t},i=function(t){for(var e=[],n=new Set,o=0;o<t.length;o++){var i=t[o];n.has(i)||(n.add(i),e.push(i))}return e};return i(n(e(t())))},l=function(t){for(var e=[],n=function(){var n=t[o];if(e.push(n),n.fixedOutputs)return"continue";var i=[];n.nextNodes.forEach(function(t){t.fixedInputs||i.push(t)});for(var r=0;r<i.length;r++){var s=i[r],u=new a.activeJunction;n.nextNodes.delete(s),n.nextNodes.add(u),u.prevNodes.add(n),s.prevNodes.delete(n),s.prevNodes.add(u),u.nextNodes.add(s),e.push(u)}},o=0;o<t.length;o++)n();return e},d=function(t){for(var e=[],n=function(){var n=t[o];if(n.passive){var i=function(){var t=n.estimatedNPrevNodeOutputs,e=n.estimatedNNextNodeInputs;return t*e>t+e+1},r=function(){var t=!1;return n.prevNodes.forEach(function(e){e.nextNodes.forEach(function(e){t=t||n.nextNodes.has(e)})}),t};if(i()||r()){var s=new a.junction;u(n,s),e.push(s)}else p(n)}else e.push(n)},o=0;o<t.length;o++)n();return e},f=function(t){var e=function(e,n){for(var o=new Set,i=function(t){o.has(t)||(o.add(t),t[n].forEach(i))},r=0;r<t.length;r++){var a=t[r];a[e]&&i(a)}return o},n=e("downstreamEffect","nextNodes"),o=e("upstreamEffect","prevNodes");return t.filter(function(t){return!(!n.has(t)||!o.has(t))||(p(t),!1)})},h=function(t){return t.map(function(t){if(t.toVisNode){var e=new a.analyser(t.options,[t]);return u(t,e),e}return t})},g=function(t){for(var e=new Set,n=new Set,o=function(t){e.has(t)||(e.add(t),t instanceof a.analyser&&!function(){var e=[];t.nextNodes.forEach(function(n){t.isEquivalentAnalyser(n)&&1==n.prevNodes.size&&(o(n),e.push(n))});for(var i=0;i<e.length;i++){var r=e[i];if(!s(t,r)){var a;(a=t.innerNodes).push.apply(a,r.innerNodes),p(r),n.add(r)}}}())},i=0;i<t.length;i++){var r=t[i];o(r)}return t.filter(function(t){return!n.has(t)})},v=function(t){var e=[],n=new Set,o={},i={},r=function(t){if(!n.has(t)){n.add(t),t.prevNodes.forEach(r);var a=o[t.type]+1||1;o[t.type]=a,i[t.type]=t,t.n=a,e.push(t)}};t.forEach(r);for(var a in o)1==o[a]&&(i[a].n=void 0);return e},y=[l,d,f,h,g,v].reduce(function(t,e){return e(t)},c()),m=new Map,b=y.map(function(t){var e=t.type;void 0!==t.n&&(e+="."+t.n);var n=t.toGenNode(e);return m.set(t,n),n}),x=0;x<y.length;x++){var w=function(t){var e=[];return t.forEach(function(t){e.push(m.get(t))}),e};b[x].initEdges(w(y[x].prevNodes),w(y[x].nextNodes))}return r.nodes=b,r}return o(i,t),i.prototype.requestFeatureContext=function(t){for(var e=this.nodes,n=0;n<e.length;n++){var o=e[n];o.requestFeatureContext(t)}},i.prototype.getHtmlLines=function(t,e){return s.bae.apply(s,this.nodes.map(function(n){return p.b(s.bae("<fieldset>","\t<legend>"+e("options.graph."+n.type)+"</legend>"),s.bae("</fieldset>")).ae(n.getHtmlLines(t,e))}))},i.prototype.getInitJsLines=function(t,e){return t.audioContext?u.bae.apply(u,this.nodes.map(function(n){var o=n.getInitJsLines(t,e);return o.isEmpty()?o:c.bae(l.parse("// "+e("comment.graph."+n.jsCommentType)),o)})):c.be()},i.prototype.getPreVisJsLines=function(t,e){return t.audioContext?c.bae.apply(c,this.nodes.map(function(n){return n.getPreVisJsLines(t,e)})):c.be()},i.prototype.getVisJsLines=function(t,e){return t.audioContext?c.bae.apply(c,this.nodes.map(function(n){return n.getVisJsLines(t,e)})):c.be()},i}(d);i.exports=f},{15:15,16:16,17:17,18:18,23:23,31:31,41:41}],35:[function(t,i,r){var a=t(24),s=t(42),u=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.getFilterNodes=function(t){var e=t.createBiquadFilter(),n=this.option.fix();return e.type=n.type.value,e.frequency.value=n.frequency.value,e.detune.value=n.detune.value,e.Q.value=Math.pow(10,n.Q.value),e.gain.value=n.gain.value,[e]},i.prototype.writeExtraSection=function(t,e,n){var o=function(t,e,n,o,i,r,a){var s=t,u=n*Math.pow(2,o/1200),p=r,c=Math.pow(10,p/40),l=2*Math.PI*u/s,d=Math.sin(l)/(2*i),f=Math.pow(10,i/20),h=Math.sin(l)/2*Math.sqrt((4-Math.sqrt(16-16/(f*f)))/2),g=Math.sin(l)/(2*f),v=1,y=Math.sin(l)/2*Math.sqrt((c+1/c)*(1/v-1)+2),m=Math.cos(l),b=2*y*Math.sqrt(c);switch(e){case"lowpass":return[[(1-m)/2,1-m,(1-m)/2],a?[1+g,-2*m,1-g]:[1+h,-2*m,1-h]];case"highpass":return[[(1+m)/2,-(1+m),(1+m)/2],a?[1+g,-2*m,1-g]:[1+h,-2*m,1-h]];case"bandpass":return[[d,0,-d],[1+d,-2*m,1-d]];case"notch":return[[1,-2*m,1],[1+d,-2*m,1-d]];case"allpass":return[[1-d,-2*m,1+d],[1+d,-2*m,1-d]];case"peaking":return[[1+d*c,-2*m,1-d*c],[1+d/c,-2*m,1-d/c]];case"lowshelf":return[[c*(c+1-(c-1)*m+b),2*c*(c-1-(c+1)*m),c*(c+1-(c-1)*m-b)],[c+1+(c-1)*m+b,-2*(c-1+(c+1)*m),c+1+(c-1)*m-b]];case"highshelf":return[[c*(c+1+(c-1)*m+b),-2*c*(c-1+(c+1)*m),c*(c+1+(c-1)*m-b)],[c+1-(c-1)*m+b,2*(c-1-(c+1)*m),c+1-(c-1)*m-b]]}},i=this,r=n(),s=$("<input type='checkbox' id='"+r+"'>"),u=$("<button class='clone'>"+e("options-output.filter.biquad.clone")+"</button>").click(function(){var e=i.option.fix(),n=o(t.sampleRate,e.type.value,e.frequency.value,e.detune.value,Math.pow(10,e.Q.value),e.gain.value,s.prop("checked"));if(n){var r=n[0],a=n[1];$(this).data("coefs",{feedforward:r.join(),feedback:a.join()})}else $(this).removeData("coefs")});return $("<span class='node-option-section node-option-section-clone'>").append(u," ",s," <label for='"+r+"'>"+e("options-output.filter.biquad.clone.newCoefs")+"</label> ",a("info",e("options-output.filter.biquad.clone.info")))},i}(s);i.exports=u},{24:24,42:42}],36:[function(t,i,r){var a=t(16),s=function(t){function i(o,r,a){e(this,i);var s=n(this,t.call(this,o));return a.modified&&(o.unshift(r+".save();"),o.push(r+".restore();")),s}return o(i,t),i}(a),u=function(){function t(n){e(this,t),this.jsName=n}return t.getColorStyle=function(t){var e=(a.b(),["r","g","b"]),n=e.map(function(e){return t[e]+"%"}).join();return 100==t.a?e.every(function(e){return t[e]%20==0})?"'#"+e.map(function(e){return(t[e]/20*3).toString(16).toUpperCase()}).join("")+"'":"'rgb("+n+")'":"'rgba("+n+","+(t.a/100).toFixed(2)+")'"},t.prototype.b=function(){var e=this,n={lineWidth:1,strokeStyle:"'#000'",fillStyle:"'#000'"},o={modified:!1},i=s.b(this.jsName,o);return i.setProp=function(t,i){return n[t]==i?a.be():(o.modified=!0,delete n[t],a.bae(e.jsName+"."+t+"="+i+";"))},i.getColorStyle=function(e){return t.getColorStyle(e)},i.jsName=this.jsName,i},t}();i.exports=u},{16:16}],37:[function(t,r,a){var s=i(["\t<canvas id=my.canvas width="," height=","></canvas>"],["\t<canvas id=my.canvas width="," height=","></canvas>"]),u=t(17),p=t(16),c=t(36),l=t(41),d=function(t){function i(o){e(this,i);var r=n(this,t.call(this));return r.options=o,r}return o(i,t),i.prototype.getHtmlLines=function(t,e){var n=u.b();return t.canvas&&n("<div>",u.html(s,this.options.width,this.options.height),"</div>"),n.e()},i.prototype.getInitJsLines=function(t,e){var n=p.b();return t.canvas&&n("var canvas=document.getElementById('my.canvas');","var canvasContext=canvas.getContext('2d');"),t.canvasVolumeGradient&&n("var canvasVolumeGradient=canvasContext.createLinearGradient(0,0,0,canvas.height);","canvasVolumeGradient.addColorStop(1.00,'#000');","canvasVolumeGradient.addColorStop(0.75,'#F00');","canvasVolumeGradient.addColorStop(0.25,'#FF0');","canvasVolumeGradient.addColorStop(0.00,'#FFF');"),void 0!==t.maxLogFftSizeNodeJsName&&n("var analyserData=new Uint8Array("+t.maxLogFftSizeNodeJsName+".frequencyBinCount);"),n.e()},i.prototype.getPreVisJsLines=function(t,e){var n=this;if(!t.canvas)return p.be();var o=new c("canvasContext"),i=function(){var t=o.b();return"clear"==n.options.background.type?t(t.jsName+".clearRect(0,0,canvas.width,canvas.height);"):(t(t.setProp("fillStyle",t.getColorStyle(n.options.background.color))),t(t.jsName+".fillRect(0,0,canvas.width,canvas.height);")),t.e()},r=p.b();return t.visualizeWaveformFn&&r(t.visualizeWaveformFn.getDeclJsLines(o)),t.visualizeFrequencyBarsFn&&r(t.visualizeFrequencyBarsFn.getDeclJsLines(o)),t.visualizeFrequencyOutlineFn&&r(t.visualizeFrequencyOutlineFn.getDeclJsLines(o)),t.visualizeVolumeFn&&r(t.visualizeVolumeFn.getDeclJsLines(o)),r(i()),r.e()},i}(l);r.exports=d},{16:16,17:17,36:36,41:41}],38:[function(i,r,a){var s=i(24),u=i(2),p=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.prototype.initDomProps=function(){i.prototype.initDomProps.call(this),this.$warnings=$()},r.prototype.applyUpdatedCode=function(t){i.prototype.applyUpdatedCode.call(this,t),this.$warnings.css("display",this.code.isInteresting?"none":"")},r.prototype.writeButtons=function(t){var e=s("warn",t("code-output.warning.jsfiddle-run"));return i.prototype.writeButtons.call(this,t).append(" ",e)},r.prototype.writeSectionSummary=function(t,e){var n=i.prototype.writeSectionSummary.call(this,t,e);if("html"==t||"js"==t){var o=s("warn",e("code-output.warning.interesting"));n.append(" ",o),this.$warnings=this.$warnings.add(o)}return n},t(r,[{key:"defaultFormatting",get:function(){var t=i.prototype.defaultFormatting;return t.refs={context:"https://www.w3.org/TR/webaudio/#AudioContext",source:"https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode",gain:"https://www.w3.org/TR/webaudio/#GainNode",panner:"https://www.w3.org/TR/webaudio/#the-stereopannernode-interface",biquad:"https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface",iir:"https://www.w3.org/TR/webaudio/#the-iirfilternode-interface",convolver:"https://www.w3.org/TR/webaudio/#ConvolverNode",peaking:"https://www.w3.org/TR/webaudio/#idl-def-BiquadFilterType.peaking",destination:"https://www.w3.org/TR/webaudio/#AudioDestinationNode",compressor:"https://www.w3.org/TR/webaudio/#the-dynamicscompressornode-interface",analyser:"https://www.w3.org/TR/webaudio/#the-analysernode-interface",splitter:"https://www.w3.org/TR/webaudio/#the-channelsplitternode-interface",buffer:"https://www.w3.org/TR/webaudio/#AudioBufferSourceNode"},t}}]),r}(u);r.exports=p},{2:2,24:24}],39:[function(i,r,a){var s=i(30),u=i(47),p=i(34),c=i(37),l=i(17),d=i(16),f=i(15),h=i(18),g=i(25),v=function(i){function r(t,o){e(this,r);var a=n(this,i.call(this));a.i18n=o,a.featureContext={},a.features=[new s(t.api),new u(t.loader),new p(t.graph),new c(t.canvas)];for(var l=a.features,d=0;d<l.length;d++){var f=l[d];f.requestFeatureContext(a.featureContext)}return a.isInteresting=!!a.featureContext.audioContext,a}return o(r,i),t(r,[{key:"basename",get:function(){return"webaudio"}},{key:"lang",get:function(){return this.i18n.lang}},{key:"title",get:function(){return this.i18n("code.title")}},{key:"styleLines",get:function(){var t=l.b();return this.featureContext.alignedInputs&&t("label:first-child {","\tdisplay: inline-block;","\twidth: 10em;","\ttext-align: right;","\tline-height: 0.8em;","}",".min {","\tdisplay: inline-block;","\twidth: 5em;","\ttext-align: right;","}",".max {","\tdisplay: inline-block;","\twidth: 5em;","\ttext-align: left;","}"),this.featureContext.canvas&&t("canvas {","\tborder: 1px solid;","}"),t.e()}},{key:"bodyLines",get:function(){var t=this;return l.bae.apply(l,this.features.map(function(e){return e.getHtmlLines(t.featureContext,t.i18n)}))}},{key:"scriptLines",get:function(){var t,e=this;return f.bae.apply(f,this.features.map(function(t){return t.getInitJsLines(e.featureContext,e.i18n)}).concat([(t=h.b(d.bae("function visualize() {"),d.bae("\trequestAnimationFrame(visualize);","}","requestAnimationFrame(visualize);"))).ae.apply(t,this.features.map(function(t){return t.getPreVisJsLines(e.featureContext,e.i18n)}).concat(this.features.map(function(t){return t.getVisJsLines(e.featureContext,e.i18n)})))]))}}]),r}(g);r.exports=v},{15:15,16:16,17:17,18:18,25:25,30:30,34:34,37:37,47:47}],40:[function(t,i,r){var a=t(50),s=t(42),u=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.getFilterNodes=function(t){var e=this.option.fix();return a.EqualizerFilter.frequencies.map(function(n){var o=t.createBiquadFilter();return o.type="peaking",o.frequency.value=n,o.gain.value=e["gain"+n].value,o})},i}(s);i.exports=u},{42:42,50:50}],41:[function(t,n,o){var i=t(17),r=function(){function t(){e(this,t)}return t.prototype.requestFeatureContext=function(t){},t.prototype.getHtmlLines=function(t,e){return i.be()},t.prototype.getInitJsLines=function(t,e){return i.be()},t.prototype.getPreVisJsLines=function(t,e){return i.be()},t.prototype.getVisJsLines=function(t,e){return i.be()},t}();n.exports=r},{17:17}],42:[function(t,i,r){var a=t(7),s=t(10),u=t(44),p=192,c=192,l=16,d=6,f=10,h=3,g=10,v=void 0,y=void 0,m=void 0,b=void 0,x=void 0,w=void 0,N=void 0,k=void 0,q=void 0,C=function(t,e,n){return t*(1-n)+e*n},A=function(){var e=function(){v=new(AudioContext||webkitAudioContext),y=new Float32Array(p),m=new Float32Array(p),w=new Float32Array(p),N=new Float32Array(p),k=new Float32Array(p),q=new Float32Array(p);for(var e=v.sampleRate/2,n=t(28)(g),o=t(28)(e),i=0;i<p;i++){var r=(i+.5)/p;y[i]=e*r,m[i]=Math.pow(10,C(n,o,r))}b=C(n,o,.5/p),x=C(n,o,1-.5/p)};if(!v)try{e()}catch(t){return!1}return!0},F=function(i){function r(o,u,g,F){e(this,r);var S=n(this,i.call(this,o,u,g,F)),L=void 0,I=void 0,E=!0,V=!1,O=function(e){function n(t,e){return t%=2*e,Math.abs(t)<=e?t:t-(t>0?1:-1)*e*2}for(var o=function(t){for(var e=function(e,n){var o=e>=0,i=n<t.length,r=void 0,a=void 0;o||i?(r=o?t[e]:t[n],a=i?t[n]:t[e]):r=a=0;for(var s=e+1;s<n;s++){var u=(s-e)/(n-e);t[s]=C(r,a,u)}},n=-1,o=0;o<t.length;o++)isFinite(t[o])?n>=0&&(e(n-1,o),n=-1):n<0&&(n=o);n>=0&&e(n-1,t.length)},i=V?m:y,r=0;r<w.length;r++)w[r]=1;for(var a=0;a<N.length;a++)N[a]=0;for(var u=0;u<e.length;u++){var v=e[u];v.getFrequencyResponse(i,k,q),o(k),o(q);for(var A=0;A<w.length;A++)w[A]*=k[A];for(var F=0;F<N.length;F++)N[F]+=q[F]}if(E)for(var S=0;S<p;S++)w[S]=20*t(28)(w[S]);for(var $=0,O=0,J=0;J<p;J++){var j=n(N[J]/Math.PI,1);$+=j<O&&O-j>j+2-O,$-=j>O&&j-O>O-(j-2),O=j,N[J]=O+2*$}var P=function(e,n,o,r,a,u,v){var y,m,w=void 0,N=void 0,k=function(t,e){var n=l/c;w=((t+e)*n-t)/(2*n-1),N=((t+e)*n-e)/(2*n-1)},q=(y=Math).min.apply(y,n),C=(m=Math).max.apply(m,n),A=Math.max(q,u)-r,F=Math.max(C,u)-r;k(r+Math.min(0,-a+Math.max(0,F-a),A),r+Math.max(0,a-Math.max(0,-a-A),F));var S=function(t){return c*(1-(t-w)/(N-w))},$=function(e,n){for(var o=t(28)(n-e)-t(28)(d),i=void 0,r=1/0,a=[1,2,5],s=0;s<a.length;s++){var u=a[s],p=Math.ceil(o-t(28)(u));p<r&&(r=p,i=u)}for(var c=i*Math.pow(10,r),l=Math.ceil(e/c)*c,f=[],h=l;h<n;h+=c)f.push(h);return[f,r<0?-r:0]},L=function(t,n,o,i,r,a){var s;e.save(),e.translate(0,.5),e.fillStyle="#444",e.font=f+"px",e.textAlign="right";for(var u=function(t){return""+g.number(t)+r},c=(s=Math).max.apply(s,n.map(function(t){return e.measureText(u(t)).width})),l=function(r){var s=Math.round(o(t[r])),l=function(){e.beginPath(),e.moveTo(0,s),e.lineTo(p,s),e.stroke()},d=a(Number(n[r]));d&&(e.strokeStyle="rgba(70%,70%,100%,0.3)",e.setLineDash([]),e.lineWidth=3,l()),e.strokeStyle=d?"#000":"#888",e.setLineDash([1]),e.lineWidth=1,l(),s-h-f>i&&e.fillText(u(n[r]),h+c,s-h)},d=0;d<t.length;d++)l(d);return e.restore(),c},I=function(){var t=$(w,N),e=s.apply(void 0,t);return L(t[0],e,S,0,o,v)},E=function(t){e.save(),e.rotate(-Math.PI/2),e.translate(-c,0);var n=void 0,o=void 0,r=void 0;V?(n=function(t){return p*(t-b)/(x-b)},o=$(b,x),r=s(o[0].map(function(t){return Math.pow(10,t)}),0)):(n=function(t){return p*(t-i[0])/(i[p-1]-i[0])},o=$(i[0],i[p-1]),r=s.apply(void 0,o)),L(o[0],r,n,h+t," "+g("units.hertz.a"),function(t){return!1}),e.restore()},O=function(){e.save(),e.translate(.5,.5),e.strokeStyle="#F00",e.beginPath();for(var t=0;t<p;t++){var o=t,i=S(n[t]);0==t?e.moveTo(o,i):e.lineTo(o,i)}e.stroke(),e.restore()};e.clearRect(0,0,p,c);var J=I();E(J),O()};E?P(L,w," "+g("units.decibel.a"),0,1,-100,function(t){return 0==t}):P(L,w,"",1,.1,0,function(t){return 0==t||1==t}),P(I,N,"π",0,.1,-(1/0),function(t){return t%2==0})},J=function(){try{O(S.getFilterNodes(v))}catch(t){}},j=a(J,50),P=$("<span class='node-option-section node-option-section-plot-header'>").append(g("options-output.filter.frequencyResponse")),M=$("<div class='node-option'>").append(P),B=void 0,G=!1,z=!1,T=function(t){B=$("<span class='node-option-section node-option-section-error'>").append(t),M.append(" ",B)},H=function(){var t=void 0;try{t=S.getFilterNodes(v)}catch(t){return void T(g("options-output.filter.nodeError"))}var e=F(),n=F(),o=$("<span class='node-option-section node-option-section-plot-settings'>").append($("<span class='setting'>").append($("<input type='checkbox' id='"+e+"'>").prop("checked",E).change(function(){E=$(this).prop("checked"),G&&z&&j()})," <label for='"+e+"'>"+g("options-output.filter.logMagnitude")+"</label>")," ",$("<span class='setting'>").append($("<input type='checkbox' id='"+n+"'>").prop("checked",V).change(function(){V=$(this).prop("checked"),G&&z&&j()})," <label for='"+n+"'>"+g("options-output.filter.logFrequency")+"</label>")),i=$("<canvas width='"+p+"' height='"+c+"'></canvas>");L=i[0].getContext("2d");var r=$("<span class='node-option-section node-option-section-plot-figure'>").append($("<figure>").append("<figcaption>"+g("options-output.filter.magnitude")+"</figcaption>",i)),a=$("<canvas width='"+p+"' height='"+c+"'></canvas>"),s=$("<span class='node-option-section node-option-section-plot-figure'>").append($("<figure>").append("<figcaption>"+g("options-output.filter.phase")+"</figcaption>",a));I=a[0].getContext("2d"),z=!0,O(t),B=o.add(r).add(s),M.append(" ",o," ",r," ",s);var u=S.writeExtraSection(v,g,F);u&&(B=B.add(u),M.append(" ",u))},D=function(){var t=$("<span>").html("More");return $("<button class='more' title='Show more options'>").append(t).click(function(){var e=$(this);G?(e.addClass("more").removeClass("less").attr("title","Show more options"),t.html("More"),B&&B.hide(),G=!1):(e.addClass("less").removeClass("more").attr("title","Show less options"),t.html("Less"),B?(B.show(),z&&J()):A()?H():T(g("options-output.filter.contextError")),G=!0)})};return P.append(" ",D()),S.$output.append(M),o.addUpdateCallback(function(){G&&z&&j()}),S}return o(r,i),r.prototype.writeExtraSection=function(t,e,n){},r}(u);i.exports=F},{10:10,28:28,44:44,7:7}],43:[function(t,n,o){var i=(t(50),t(49)),r=function t(n,o,r,a){var s=this;e(this,t);var u=32,p=6,c="#444",l="#C44",d=$("<svg xmlns='http://www.w3.org/2000/svg' version='1.1'><defs><marker id='circleMarker' markerWidth='8' markerHeight='8' refX='4' refY='4'><circle cx='4' cy='4' r='2' fill='"+c+"' stroke='none' /></marker></defs></svg>"),f=$("<div class='nodes'>"),h=0,g=void 0,v=function(t){return null==g&&(g=parseInt(s.$output.css("padding-left"))),g+u*t},y=function(t){return null==g&&(g=parseInt(s.$output.css("padding-left"))),Math.round((t-g)/u)},m=function(t,e,n,o){return $(document.createElementNS("http://www.w3.org/2000/svg","line")).attr({"marker-start":"url(#circleMarker)","marker-end":"url(#circleMarker)",stroke:c,"stroke-width":2,x1:t,y1:e,x2:n,y2:o})},b=function(t,e,n,o){return $(document.createElementNS("http://www.w3.org/2000/svg","line")).attr({stroke:c,"stroke-width":10,"stroke-opacity":0,x1:t,y1:e,x2:n,y2:o})},x=function(t,e){t.attr(e),d.append(t.detach())},w=function(t){var e=t.data("option"),n=t.data("index");return r("options."+e.fullName)+" #"+n},N=function(t,e){var n=t.position(),o=n.left+u/2+e*u*(p-1),i=n.top+1.5*u;return[o,i]},k=function(){var t=f.children().map(function(t){var e=$(this);return e.data("index",t),e.find(".number").text(t),$("<option value='"+t+"'>").append(w(e))});n.nodes=$.map(f.children(),function(t){var e=$(t),n=[];return e.data("outs").forEach(function(t,e){n.push($(e).data("index"))}),{entry:e.data("option"),next:n,x:0,y:0}}),f.children().each(function(e){var o=$(this),i=function(t,e){return $("<li>").append($("<a>").attr("href","#"+t.attr("id")).append(w(t))," ",$("<button>Disconnect</button>").click(function(){q(o,t,e)}))},r=o.find(".node-port-in .node-port-controls ul").empty();o.data("ins").forEach(function(t,e){r.append(i($(e),0))});var a=o.find(".node-port-out .node-port-controls ul").empty();o.data("outs").forEach(function(t,e){a.append(i($(e),1))});for(var s=o.find(".node-port-in .node-port-controls select").empty(),u=o.find(".node-port-out .node-port-controls select").empty(),p=0;p<t.length;p++)n.canConnectNodes(p,e)&&s.append(t[p]),n.canConnectNodes(e,p)&&u.append(t[p])})},q=function(t,e,n){var o=function(t,e){var n=t.data("outs").get(e[0]);t.data("outs").delete(e[0]),e.data("ins").delete(t[0]),n.remove()};n?o(t,e):o(e,t),k()},C=function(t,e,n){var o=function(o,i){var r=N(o,1),a=N(i,0),s=m.apply(void 0,r.concat(a)),u=b.apply(void 0,r.concat(a)),p=s.add(u);d.append(p),o.data("outs").set(i[0],p),i.data("ins").set(o[0],p),u.mouseover(function(){s.attr("stroke",l)}).mouseout(function(){s.attr("stroke",c)}).click(function(){q(t,e,n)})};n?o(t,e):o(e,t),k()},A=function(t){t.data("ins").forEach(function(e,n){$(n).data("outs").delete(t[0]),e.remove()}),t.data("outs").forEach(function(e,n){$(n).data("ins").delete(t[0]),e.remove()}),t.remove(),k()},F=function(t,e,o){var s=new i({root:t},a,r),u=s.$output,p=a(),c=null,l=null,g=function(t,e){var o=["in","out"],i=o[t];if(e)return $("<div class='node-port node-port-"+i+" node-port-closed'>");var r=$("<select>"),a=$("<div class='node-port-hole'>").mousedown(function(e){var o=u.data("index"),i=function(e){var i=e.data("index");return t?n.canConnectNodes(o,i):n.canConnectNodes(i,o)},r=N(u,t),a=r[0],s=r[1],p=m(a,s,a,s);d.append(p);var c={mouseup:function(){$(document).off(c),f.children().off(l),p.remove()},mousemove:function(t){var e=f.offset(),n=t.pageX-e.left,o=t.pageY-e.top;x(p,{x2:n,y2:o})}},l={mouseup:function(){var e=$(this);i(e)&&C(u,e,t)},mousemove:function(e){var n=$(this);if(i(n)){var o=N(n,1-t),r=o[0],a=o[1];x(p,{x2:r,y2:a}),e.stopPropagation()}}};return c.mousemove(e),$(document).on(c),f.children().on(l),!1});return $("<div class='node-port node-port-"+i+"'>").append(a,$("<div class='node-port-label'>").append("<span>audio </span>"+i+"<span> connected to:</span>"),$("<div class='node-port-controls'>").append($("<ul>"),r,$("<button title='connect audio "+i+" to selected node'>").append("<span>Connect</span>").click(function(){var e=parseInt(r.val());e in f&&C(u,u[e],t)})))},b=function(){var e=$("<div class='node-box'>");if(t.enableSwitch){var n=a();e.append($("<input type='checkbox' id='"+n+"'>").prop("checked",t.enabled).change(function(){t.enabled=$(this).prop("checked")})," <label for='"+n+"'>"+r("options-output.enabled")+"</label>")}return e},w=function(){if(t.enableSwitch){var e=a();return $("<div class='node-under-box-switch'>").append($("<input type='checkbox' id='"+e+"'>").prop("checked",t.enabledInput).change(function(){t.enabledInput=$(this).prop("checked")})," <label for='"+e+"'>switch</label>")}};u.attr({id:p}).css({left:v(e),top:v(o),"z-index":++h}).data({option:t,ins:new Map,outs:new Map}),u.children("legend").append(" <span class='number-mark'>#<span class='number'></span></span>").after($("<div class='node-head-controls'>").append($("<button class='delete' title='"+r("options-output.delete.tip")+"'>").append("<span>"+r("options-output.delete")+"</span>").click(function(){
cancelAnimationFrame(c),cancelAnimationFrame(l),A(u)})),$("<div class='node-ports'>").append(g(0,!t.inEdges),g(1,!t.outEdges),b(),w())),u.mousedown(function(t){cancelAnimationFrame(l);var e=t.pageX,n=t.pageY,o=function(t,e){u.css({left:t,top:e});var n=N(u,0),o=n[0],i=n[1];u.data("ins").forEach(function(t){x(t,{x2:o,y2:i})});var r=N(u,1),a=r[0],s=r[1];u.data("outs").forEach(function(t){x(t,{x1:a,y1:s})})},i={mouseup:function(){cancelAnimationFrame(c),c=null,$(document).off(i);var t=u.position(),e=t.left,n=t.top,r=y(e);r<0&&(r=0);var a=y(n);a<0&&(a=0);var s=v(r),p=v(a),d=150,f=performance.now(),h=function(t){var i=t-f;i>=d?(o(s,p),l=null):(o(e+(s-e)*i/d,n+(p-n)*i/d),l=requestAnimationFrame(h))};l=requestAnimationFrame(h)},mousemove:function(t){var i=t.pageX,r=t.pageY;null==c&&(c=requestAnimationFrame(function(){var t=u.position();o(t.left+i-e,t.top+r-n),e=i,n=r,c=null}))}};u.css("z-index")<h&&u.css("z-index",++h),$(document).on(i),t.preventDefault()}).on("mousedown","input, select, button",function(t){t.stopPropagation()}),f.append(u),k()},S=$("<div class='buttons'>");n.availableTypes.forEach(function(t,e){e&&S.append(" "),S.append($("<button type='button'>").html(r("options."+n.fullName+"."+t+".add")).click(function(){var e=n.makeEntry(t);F(e,0,0)}))});var L=$("<legend>"+r("options."+n.fullName)+"</legend>"),I=$("<div class='graph'>").append(d,f);this.$output=n.$=$("<fieldset class='option'>").append(L,S,I);var E=function(){d.width(I[0].clientWidth+I.scrollLeft()),d.height(I[0].clientHeight+I.scrollTop()),requestAnimationFrame(E)};E(),f.on("click","button.clone",function(){var t=$(this).data("coefs");if(t){var e=n.makeEntry("iir",t);F(e,0,0)}})};n.exports=r},{49:49,50:50}],44:[function(t,n,o){var i=function t(n,o,i,r){e(this,t),this.option=n,this.$output=n.$=$("<fieldset class='node-option'>").append("<legend>"+i("options."+n.fullName)+"</legend>",n.entries.map(o))};n.exports=i},{}],45:[function(t,e,n){var o="https://webaudio.github.io/web-audio-api/",i=function(t){return"<a href='https://github.com/WebAudio/web-audio-api/issues/"+t+"'>"+t+"</a>"},r="https://github.com/GoogleChrome/web-audio-samples/wiki/Detection-of-lowpass-BiquadFilter-implementation",a="{<span style='color:#800'>Red</span>,<span style='color:#080'>Green</span>,<span style='color:#008'>Blue</span>,Opacity}",s="{<span style='color:#800'>Красный</span>,<span style='color:#080'>Зелёный</span>,<span style='color:#008'>Синий</span>,Альфа-канал}",u={en:{"options.graph":"Audio graph","options.graph.{audio,video}":"{Audio,Video} element","options.graph.{audio,video}.add":"Add {} element","options.graph.sample":"Sample","options.graph.sample.add":"Add sample","options.graph.sample.repeat":"Repeat sample","options.graph.sample.interval":"Repeat interval","options.graph.sample.randomShift":"Random start time","options.graph.sample.pitch":"Pitch","options.graph.sample.randomPitch":"Random pitch","options.graph.sample.gain":"Gain","options.graph.sample.randomGain":"Random gain","options.graph.{audio,video,sample}.url":"URL","options.graph.video.{width,height}":"Player {}","options.graph.gain":"Gain","options.graph.gain.add":"Add gain","options.graph.gain.gain":"Gain","options.graph.panner":"Stereo panner","options.graph.panner.add":"Add stereo panner","options.graph.panner.pan":"Pan","options.graph.biquad":"Biquad filter","options.graph.biquad.add":"Add biquad filter","options.graph.biquad.type":"Filter type","options.graph.biquad.type.{lowpass,highpass,bandpass,lowshelf,highshelf,peaking,notch,allpass}":"{}","options.graph.biquad.frequency":"Frequency","options.graph.biquad.detune":"Detune","options.graph.biquad.Q":"log(Q)","options.graph.biquad.gain":"Gain","options.graph.iir":"IIR filter","options.graph.iir.add":"Add IIR filter","options.graph.iir.feedforward":"Feedforward coefficients","options.graph.iir.feedback":"Feedback coefficients","options.graph.convolver":"Convolver","options.graph.convolver.add":"Add convolver","options.graph.convolver.url":"Impulse response URL","options.graph.convolver.wet":"Reverb (dry/wet)","options.graph.equalizer":"Equalizer","options.graph.equalizer.add":"Add equalizer","options.graph.equalizer.gain{60,170,350,1000,3500,10000}":"{} Hz gain","options.graph.compressor":"Dynamics compressor","options.graph.compressor.add":"Add dynamics compressor","options.graph.{waveform,frequencyBars,frequencyOutline}":"Draw {waveform,frequency bars,frequency outline}","options.graph.{waveform,frequencyBars,frequencyOutline}.add":"Add {waveform,frequency bars,frequency outline} visualization","options.graph.volume":"Volume meter","options.graph.volume.add":"Add volume meter","options.graph.stereoVolume":"Stereo volume meter","options.graph.stereoVolume.add":"Add stereo volume meter","options.graph.{waveform,frequencyBars,frequencyOutline,volume,stereoVolume}.logFftSize":"log(FFT size)","options.graph.{waveform,frequencyOutline}.width":"Line width","options.graph.{waveform,frequencyOutline}.color":"Line color","options.graph.{waveform,frequencyOutline}.color.{r,g,b,a}":"{,}"+a,"options.graph.{frequencyBars,frequencyOutline}.cutoff":"<abbr title='Frequency'>Freq.</abbr> cutoff","options.graph.{frequencyBars,frequencyOutline}.base":"Frequency {bars extend from,outline centered at}","options.graph.{frequencyBars,frequencyOutline}.base.{bottom,middle}":"{,}{} of canvas","options.graph.frequencyBars.coloring":"Frequency bars coloring","options.graph.frequencyBars.coloring.component":"with single color component","options.graph.frequencyBars.coloring.spectral":"spectral","options.graph.frequencyBars.coloringInput":"Color depends on","options.graph.frequencyBars.coloringInput.{amplitude,frequency}":"{}","options.graph.destination":"Destination","options.graph.destination.add":"Add destination","options.graph.junction":"Junction","options.graph.analyser":"Analyser","options.canvas":"Canvas","options.canvas.{width,height}":"Canvas {}","options.canvas.background":"Background","options.canvas.background.type":"Background type","options.canvas.background.type.{clear,filled}":"{}","options.canvas.background.color":"Background fill color","options.canvas.background.color.{r,g,b,a}":"Background fill "+a,"options.loader":"Sample loader","options.loader.errors":"Error handling","options.loader.errors.none":"disabled","options.loader.errors.network":"network errors","options.loader.errors.http":"network and HTTP errors","options.api":"Web Audio API support","options.api.noVendorPrefix":"Can create an audio context without a vendor prefix","options.api.connectReturnValue":"Can use a return value of <code>AudioNode.connect()</code>","options-info.graph.{waveform,frequencyBars,frequencyOutline}.logFftSize":"[[Fast Fourier transform]] size. Use a larger size to get {a wider time window for the waveform,thinner frequency bars,more details on frequency outline}.","options-info.graph.{volume,stereoVolume}.logFftSize":"[[Fast Fourier transform]] size.","options-info.graph.{frequencyBars,frequencyOutline}.cutoff":"Limit plot to a fraction of low frequences.","options-info.canvas.background.color.a":"Lower opacity values lead to a blur effect.","options-output.input":"Editable","options-output.range":"with range","options-output.filter.frequencyResponse":"Frequency response","options-output.filter.magnitude":"Magnitude","options-output.filter.phase":"Phase","options-output.filter.logMagnitude":"log magnitude scale","options-output.filter.logFrequency":"log frequency scale","options-output.filter.contextError":"Error creating audio context. Your browser likely doesn't support Web Audio API.","options-output.filter.nodeError":"Error creating filter node. Your browser likely doesn't support this filter type.","options-output.filter.biquad.clone":"Clone as IIR","options-output.filter.biquad.clone.newCoefs":"following new API spec","options-output.filter.biquad.clone.info":"<a href='"+o+"'>The API specification</a> was self-contradictory and implementations weren't following it. Additionally, it was discovered that filter coefficient formulas need to be changed to accomodate a wider range of lowpass and highpass filters. See Web Audio API issues "+i(769)+", "+i(771)+" and "+i(791)+" for details. A possible method to check if an implementation has switched to the updated formulas is offered <a href='"+r+"'>here</a>.","options-output.iir-filter-coefs.invalid":"comma-separated numbers required","options-output.show":"Show","options-output.hide":"Hide","options-output.enabled":"Enabled","code-output.warning.jsfiddle-run":"You may have to click <kbd>Run</kbd> in JSFiddle to get sound output working.","code-output.warning.interesting":"You need at least one source, one active filter and one destination node connected together to get interesting JavaScript code.","code.title":"Web Audio API example — generated code","label.graph.sample.play":"Play sample","label.graph.sample.buffer.loading":"Loading and decoding the sample","label.graph.sample.buffer.error":"Error while loading the sample","label.graph.convolver.buffer.loading":"Loading and decoding the impulse response","label.graph.convolver.buffer.error":"Error while loading the impulse response","comment.context":"create [audio context][context]","comment.graph.junction":"create junction node as [gain node][gain]","comment.graph.audio":"create [audio source node][source]","comment.graph.video":"create [video source node][source]","comment.graph.sample":"load [sample][buffer]","comment.graph.gain":"create [gain node][gain]","comment.graph.panner":"create [stereo panner node][panner]","comment.graph.convolver":"create [convolver node][convolver]","comment.graph.convolver.drywet":"create dry and wet routes with [convolver node][convolver]","comment.graph.compressor":"create [dynamics compressor node][compressor]","comment.graph.analyser":"create [analyser node][analyser]","comment.graph.stereoVolume":"create [channel splitter node][splitter] connected to two [analyser nodes][analyser]","comment.graph.biquad":"create [biquad filter node][biquad]","comment.graph.iir":"create [IIR filter node][iir]","comment.graph.equalizer":"create equalizer as a sequence of [peaking][peaking] [biquad filter nodes][biquad]","comment.graph.equalizer.single":"create equalizer as a [peaking][peaking] [biquad filter node][biquad]","comment.graph.destination":"connect to [destination][destination]","units.pixel.a":"px","units.pixel.{1,2}":"pixel{,s}","units.hertz.a":"Hz","units.hertz.{1,2}":"Hertz","units.decibel.a":"dB","units.decibel.{1,2}":"decibel{,s}","units.second.a":"s","units.second.{1,2}":"second{,s}"},ru:{"options.graph":"Аудио-граф","options.graph.{audio,video}":"Элемент <code>{}</code>","options.graph.{audio,video}.add":"Добавить элемент <code>{}</code>","options.graph.sample":"Сэмпл","options.graph.sample.add":"Добавить сэмпл","options.graph.sample.repeat":"Повторить сэмпл","options.graph.sample.interval":"Интервал повторов","options.graph.sample.randomShift":"Случ. сдвиг начала","options.graph.sample.pitch":"Высота","options.graph.sample.randomPitch":"Случайная высота","options.graph.sample.gain":"Громкость","options.graph.sample.randomGain":"Случайная громкость","options.graph.{audio,video,sample}.url":"URL","options.graph.video.{width,height}":"{Ширина,Высота}","options.graph.gain":"Усилитель","options.graph.gain.add":"Добавить усилитель","options.graph.gain.gain":"Усиление","options.graph.panner":"Панорамирование","options.graph.panner.add":"Добавить панорамирование","options.graph.panner.pan":"Баланс","options.graph.biquad":"Биквадратный фильтр","options.graph.biquad.add":"Добавить биквадратичный фильтр","options.graph.biquad.type":"Тип фильтра","options.graph.biquad.type.lowpass":"нижних частот","options.graph.biquad.type.highpass":"верхних частот","options.graph.biquad.type.bandpass":"полосовой","options.graph.biquad.type.{lowshelf,highshelf,peaking}":"{}","options.graph.biquad.type.notch":"полосно-заграждающий","options.graph.biquad.type.allpass":"всепропускающий","options.graph.biquad.frequency":"Частота","options.graph.biquad.detune":"Detune","options.graph.biquad.Q":"Log добротности","options.graph.biquad.gain":"Усиление","options.graph.iir":"БИХ-фильтр","options.graph.iir.add":"Добавить БИХ-фильтр","options.graph.iir.feedforward":"Коэффициенты прямой связи","options.graph.iir.feedback":"Коэффициенты обратной связи","options.graph.convolver":"Свёртка","options.graph.convolver.add":"Добавить свёртку","options.graph.convolver.url":"URL импульсной <abbr title='характеристики'>хар-ки</abbr>","options.graph.convolver.wet":"Dry/wet","options.graph.equalizer":"Эквалайзер","options.graph.equalizer.add":"Добавить эквалайзер","options.graph.equalizer.gain{60,170,350,1000,3500,10000}":"{} Гц","options.graph.compressor":"Компрессор","options.graph.compressor.add":"Добавить компрессор","options.graph.{waveform,frequencyBars,frequencyOutline}":"Вид {волны,полос частот,контура частот}","options.graph.{waveform,frequencyBars,frequencyOutline}.add":"Добавить визуализацию {волны,полос частот,контура частот}","options.graph.volume":"Индикатор громкости","options.graph.volume.add":"Добавить индикатор громкости","options.graph.stereoVolume":"Стерео-громкость","options.graph.stereoVolume.add":"Добавить стерео-индикатор громкости","options.graph.{waveform,frequencyBars,frequencyOutline,volume,stereoVolume}.logFftSize":"log размера БПФ","options.graph.{waveform,frequencyOutline}.width":"Ширина линии","options.graph.{waveform,frequencyOutline}.color":"Цвет линии","options.graph.{waveform,frequencyOutline}.color.{r,g,b,a}":"{,}"+s,"options.graph.{frequencyBars,frequencyOutline}.cutoff":"Верх частот","options.graph.frequencyBars.base":"Полосы частот растут от","options.graph.frequencyBars.base.{bottom,middle}":"{низа,середины} элемента <code>canvas</code>","options.graph.frequencyOutline.base":"Контур частот центрирован по","options.graph.frequencyOutline.base.{bottom,middle}":"{низу,середине} элемента <code>canvas</code>","options.graph.frequencyBars.coloring":"Раскраска полос частот","options.graph.frequencyBars.coloring.component":"одним цветовым каналом","options.graph.frequencyBars.coloring.spectral":"спектральная","options.graph.frequencyBars.coloringInput":"Цвет полос зависит от","options.graph.frequencyBars.coloringInput.{amplitude,frequency}":"{амплитуды,частоты}","options.graph.destination":"Выход","options.graph.destination.add":"Добавить выход","options.graph.junction":"Узел для соединения","options.graph.analyser":"Анализатор","options.canvas":"Элемент <code>canvas</code>","options.canvas.{width,height}":"{Ширина,Высота} элемента <code>canvas</code>","options.canvas.background":"Фон","options.canvas.background.type":"Тип фона","options.canvas.background.type.{clear,filled}":"{прозрачный,закрашенный}","options.canvas.background.color":"Цвет фона","options.canvas.background.color.{r,g,b,a}":s+" фона","options.loader":"Загрузчик сэмплов","options.loader.errors":"Обработка ошибок загрузки","options.loader.errors.none":"отключена","options.loader.errors.network":"для сетевых ошибок","options.loader.errors.http":"для сетевых ошибок и ошибок HTTP","options.api":"Поддержка Web Audio API","options.api.noVendorPrefix":"Можно создавать аудио-контекст без префиксов производителей","options.api.connectReturnValue":"Можно использовать значение, возвращаемое <code>AudioNode.connect()</code>","options-info.graph.convolver.wet":"Соотношение прямого/обработанного звука.","options-info.graph.{waveform,frequencyBars,frequencyOutline}.logFftSize":"Размер [[Быстрое преобразование Фурье|Быстрого преобразования Фурье]]. Больший размер даёт {более широкое окно для формы волны,более тонкие полосы частот,более подробный контур частот}.","options-info.graph.{volume,stereoVolume}.logFftSize":"Размер [[Быстрое преобразование Фурье|Быстрого преобразования Фурье]].","options-info.graph.{frequencyBars,frequencyOutline}.cutoff":"Ограничить рисование долей низких частот.","options-info.canvas.background.color.a":"Низкие значения альфа-канала приводят к эффекту размывания.","options-output.input":"Изменяемо","options-output.range":"от и до","options-output.filter.frequencyResponse":"Частотная характеристика","options-output.filter.magnitude":"Амплитуда","options-output.filter.phase":"Фаза","options-output.filter.logMagnitude":"log-шкала амплитуды","options-output.filter.logFrequency":"log-шкала частоты","options-output.filter.contextError":"Ошибка создания аудио-контекста. Вероятно, браузер не поддерживает Web Audio API.","options-output.filter.nodeError":"Ошибка создания узла фильтра. Вероятно, браузер не поддерживает данный тип фильтров.","options-output.filter.biquad.clone":"БИХ-клон","options-output.filter.biquad.clone.newCoefs":"по новой версии API","options-output.filter.biquad.clone.info":"<a href='"+o+"'>Спецификация API</a> была противоречива и реализации ей не следовали. Также было обнаружено, что формулы для коэффициентов фильтров должны быть изменены, чтобы стало возможно задавать некоторые фильтры низких и высоких частот, которые ранее задать было невозможно. Подробности можно узнать из Web Audio API issues "+i(769)+", "+i(771)+" и "+i(791)+". Возможный метод обнаружения, перешла ли реализация на новые формулы, приводится <a href='"+r+"'>здесь</a>.","options-output.iir-filter-coefs.invalid":"требуются числа, разделённые запятой","options-output.show":"Показать","options-output.hide":"Скрыть","options-output.enabled":"Включен","code-output.warning.jsfiddle-run":"Для корректного вывода звука в JSFiddle может потребоваться нажатие кнопки <kbd>Run</kbd>.","code-output.warning.interesting":"Для нетривиального JavaScript-кода нужны по крайней мере один источник, один активный фильтр и один выход, соединённые вместе.","code.title":"Пример использования Web Audio API — сгенерированный код","label.graph.sample.play":"Играть сэмпл","label.graph.sample.buffer.loading":"Идёт загрузка и декодирование сэмпла","label.graph.sample.buffer.error":"Ошибка загрузки сэмпла","label.graph.convolver.buffer.loading":"Идёт загрузка и декодирование импульсной характеристики","label.graph.convolver.buffer.error":"Ошибка загрузки импульсной характеристики","comment.context":"создаём [аудио-контекст][context]","comment.graph.junction":"создаём узел для соединения в виде [узла усилителя][gain]","comment.graph.audio":"создаём [узел источника аудио][source]","comment.graph.video":"создаём [узел источника видео][source]","comment.graph.sample":"загружаем [сэмпл][buffer]","comment.graph.gain":"создаём [узел усилителя][gain]","comment.graph.panner":"создаём [узел панорамирования][panner]","comment.graph.convolver":"создаём [узел свёртки][convolver]","comment.graph.convolver.drywet":"создаём прямой путь и путь через [узел свёртки][convolver]","comment.graph.compressor":"создаём [узел компрессора][compressor]","comment.graph.analyser":"создаём [узел анализатора][analyser]","comment.graph.stereoVolume":"создаём [узел разделения каналов][splitter], соединённый с двумя [узлами анализатора][analyser]","comment.graph.biquad":"создаём [узел биквадратичного фильтра][biquad]","comment.graph.iir":"создаём [узел БИХ-фильтра][iir]","comment.graph.equalizer":"создаём эквалайзер в виде последовательности [peaking][peaking] [биквадратичных фильтров][biquad]","comment.graph.equalizer.single":"создаём эквалайзер в виде [peaking][peaking] [биквадратичного фильтра][biquad]","comment.graph.destination":"соединяем с [выходом][destination]","units.pixel.a":"px","units.pixel.{1,2,5}":"пиксел{ь,я,ей}","units.hertz.a":"Гц","units.hertz.{1,2,5}":"Герц{,а,}","units.decibel.a":"дБ","units.decibel.{1,2,5}":"децибел{,а,ов}","units.second.a":"с","units.second.{1,2,5}":"секунд{а,ы,}"}};for(var p in u){var c=u[p];c=t(12)(c),c=t(13)(p)(c),c=t(20)(p)(c),c=t(1)(p)(c),u[p]=c}u.ru["options-output.reset"]="Сброс",e.exports=t(14)(u)},{1:1,12:12,13:13,14:14,20:20}],46:[function(t,i,r){var a=t(42),s=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.getFilterNodes=function(t){return[t.createIIRFilter(JSON.parse("["+this.option.entries[0].value+"]"),JSON.parse("["+this.option.entries[1].value+"]"))]},i}(a);i.exports=s},{42:42}],47:[function(t,i,r){var a=t(26),s=t(16),u=t(41),p=function(t){function i(o){e(this,i);var r=n(this,t.call(this));return r.options=o,r}return o(i,t),i.prototype.requestFeatureContext=function(t){"none"!=this.options.errors&&(t.loaderOnError=!0)},i.prototype.getInitJsLines=function(t,e){if(!t.loader)return s.be();var n=s.b();return n("var xhr=new XMLHttpRequest();","xhr.open('GET',url);","xhr.responseType='arraybuffer';","xhr.onload=function(){"),"http"==this.options.errors?n("\tif (this.status==200) {","\t\tctx.decodeAudioData(this.response,onDecode);","\t} else {","\t\tthis.onerror();","\t}"):n("\tctx.decodeAudioData(this.response,onDecode);"),n("};"),"none"!=this.options.errors&&n("xhr.onerror=onError;"),n("xhr.send();"),a.b(s.bae("function loadSample(url,onDecode"+("none"!=this.options.errors?",onError":"")+") {"),s.bae("}")).ae(n.e())},i}(u);i.exports=p},{16:16,26:26,41:41}],48:[function(t,e,n){function o(){return"webaudio-starter-id-"+i++}var i=0,r=t(45),a=t(52),s=t(39),u=t(51),p=t(38);$(function(){$(".webaudio-starter").each(function(){var t=$(this),e=t.closest("[lang]").attr("lang"),n=r(e),i=new a,c=new p(function(){return new s(i.fix(),n)},n);i.addUpdateCallback(c.update);var l=new u(i,o,n);t.empty().append(l.$output,c.$output)})})},{38:38,39:39,45:45,51:51,52:52}],49:[function(t,i,r){var a=t(10),s=t(24),u=t(50),p=t(21),c=t(44),l=t(35),d=t(46),f=t(40),h=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.setOptionClassWriters=function(t){var e=this,n=function(t){var e=$("<span>").html("More");return $("<button class='more' title='Show more options'>").append(e).click(function(){var n=$(this);n.hasClass("more")?(n.addClass("less").removeClass("more").attr("title","Show less options"),e.html("Less"),t.show()):(n.addClass("more").removeClass("less").attr("title","Show more options"),e.html("More"),t.hide())})};t.set(u.Select,function(t,n,o,i){var r=function(e){return"options."+t.fullName+"."+e},a=i();return t.$=$("<div class='node-option'>").append($("<span class='node-option-section node-option-section-text'>").append(e.getLeadLabel(a,o,t),$("<select id='"+a+"'>").append(t.availableValues.map(function(t){return $("<option>").val(t).html(o(r(t)))})).val(t.value).change(function(){t.value=this.value})))}),t.set(u.LiveSelect,function(e,o,i,r){var a=t.get(u.Select)(e,o,i,r),s=a.children(".node-option-section-text"),p=s.children("select"),c=r(),l=$("<input type='checkbox' class='editable' id='"+c+"'>").prop("checked",e.input).change(function(){e.input=$(this).prop("checked")}),d=$("<span class='node-option-section node-option-section-extra'>").append(l," <label class='editable-middle' for='"+c+"'>"+i("options-output.input")+"</label> ",$("<button class='reset'>"+i("options-output.reset")+"</button>").click(function(){p.val(e.defaultValue).change(),l.prop("checked",!1).change()})).hide();return s.append(" ",n(d)),a.append(" ",d)}),t.set(u.Text,function(t,n,o,i){var r=i(),a=i();return t.$=$("<div class='node-option'>").append($("<span class='node-option-section node-option-section-text'>").append(e.getLeadLabel(r,o,t),$("<input type='text' id='"+r+"' list='"+a+"' />").val(t.value).on("input change",function(){t.value=this.value})," ",$("<datalist id='"+a+"'>").append(t.availableValues.map(function(t){return $("<option>").text(t)}))))}),t.set(u.IIRFilterCoefs,function(t,n,o,i){var r=i();return t.$=$("<div class='node-option'>").append($("<span class='node-option-section node-option-section-text'>").append(e.getLeadLabel(r,o,t),$("<input type='text' id='"+r+"' required>").val(t.value).on("input change",function(){u.IIRFilterCoefs.isValueValid(this.value)?(this.setCustomValidity(""),t.value=this.value):this.setCustomValidity(o("options-output.iir-filter-coefs.invalid"))})))}),t.set(u.Number,function(t,e,o,i){var r=t.precision,u={min:t.availableMin,max:t.availableMax,step:Math.pow(.1,r).toFixed(r)},p=function(e,n){return e.attr(u).val(t.value).on("input change",function(){this.checkValidity()&&(n.val(this.value),t.value=parseFloat(this.value))})},c=i(),l=$("<input type='range' id='"+c+"'>"),d=$("<input type='number' required>"),f=a({min:t.availableMin,max:t.availableMax},t.precision),h=$("<span class='node-option-section node-option-section-number'>").append($("<span class='range-label'>").append("<span class='min'>"+o.numberWithoutUnits(f.min,t.unit)+"</span> ",$("<label for='"+c+"'>"+o("options."+t.fullName)+"</label>")," <span class='max'>"+o.numberWithoutUnits(f.max,t.unit)+"</span>")," <span class='units'>"+o.numberUnits(f.max,t.unit)+"</span> ",p(l,d)," ",p(d,l));o.has("options-info."+t.fullName)&&h.append(" ",s("info",o("options-info."+t.fullName)));var g=$("<span class='node-option-section node-option-section-extra'>").append($("<button class='reset'>"+o("options-output.reset")+"</button>").click(function(){l.val(t.defaultValue).change()})).hide();return h.append(" ",n(g)),t.$=$("<div class='node-option'>").append(h," ",g)}),t.set(u.LiveNumber,function(e,n,o,i){var r=e.precision,a={min:e.availableMin,max:e.availableMax,step:Math.pow(.1,r).toFixed(r)},s=function(t){return $("<input type='number' class='"+t+"' required>").attr(a).val(e[t]).on("input change",function(){this.checkValidity()&&(e[t]=parseFloat(this.value))})},p=t.get(u.Number)(e,n,o,i),c=i(),l=$("<input type='checkbox' class='editable' id='"+c+"'>").prop("checked",e.input).change(function(){e.input=$(this).prop("checked")}),d=s("min"),f=s("max"),h=$("<span>"+o("options-output.range")+"</span>"),g=$("<span class='editable-bottom'>").append(d," <span class='dots'>..</span> ",f);return e.$range=h.add(g),p.find("button.reset").before(l," ",$("<span class='editable-top'>").append("<label for='"+c+"'>"+o("options-output.input")+"</label> ",h)," ",g," ").click(function(){l.prop("checked",!1).change(),d.val(e.defaultMin).change(),f.val(e.defaultMax).change()}),p}),t.set(u.Group,function(){return(new(Function.prototype.bind.apply(c,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(u.BiquadFilter,function(){return(new(Function.prototype.bind.apply(l,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(u.IIRFilter,function(){return(new(Function.prototype.bind.apply(d,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(u.EqualizerFilter,function(){return(new(Function.prototype.bind.apply(f,[null].concat(Array.prototype.slice.call(arguments))))).$output})},i}(p);i.exports=h},{10:10,21:21,24:24,35:35,40:40,44:44,46:46,50:50}],50:[function(i,r,a){var s=Object.create(i(19));s.LiveNumber=function(i){function r(t,o,a,s,u,p){e(this,r);var c=void 0,l=void 0,d=void 0,f=void 0;"object"==typeof a?(c=a.value,l=a.min,d=a.max,f=a.input):c=a;var h=n(this,i.apply(this,arguments));return void 0!==o.defaultMin?h.defaultMin=o.defaultMin:h.defaultMin=h.availableMin,void 0!==o.defaultMax?h.defaultMax=o.defaultMax:h.defaultMax=h.availableMax,h._min=void 0!==l?l:h.defaultMin,h._max=void 0!==d?d:h.defaultMax,h._input=!!f,h._$range=null,h}return o(r,i),r.prototype.updateInternalVisibility=function(){this._$range&&this._$range.toggle(this._input)},r.prototype.exportHelper=function(t){var e={};return t.value!=t.defaultValue&&(e.value=t.value),t.min!=t.availableMin&&(e.min=t.min),t.max!=t.availableMax&&(e.max=t.max),t.input&&(e.input=t.input),e},r.prototype.export=function(){return this.exportHelper(this)},r.prototype.fix=function(){var t=i.prototype.fix.call(this);return t.min=this.min,t.max=this.max,t.input=this.input,t.defaultValue=this.defaultValue,t},t(r,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateInternalVisibility(),this.update()}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.update()}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this.update()}},{key:"$range",get:function(){return this._$range},set:function(t){this._$range=t,this.updateInternalVisibility()}}]),r}(s.Number),s.LiveInt=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"precision",get:function(){return 0}}]),r}(s.LiveNumber),s.LiveFloat=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),t(r,[{key:"precision",get:function(){return 2}}]),r}(s.LiveNumber);var u=function(){function t(n){e(this,t),this.value=n.value,this.input=n.input,this.defaultValue=n.defaultValue,this.availableValues=n.availableValues,this.name=n.name}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t}();s.LiveSelect=function(i){function r(t,o,a,s,u,p){e(this,r);var c=void 0,l=void 0;"object"==typeof a?(c=a.value,l=a.input):c=a;var d=n(this,i.apply(this,arguments));return d._input=!!l,d}return o(r,i),r.prototype.export=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),this.input&&(t.input=this.input),t},r.prototype.fix=function(){return new u(this)},t(r,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.update()}}]),r}(s.Select),s.GraphNode=function(i){function r(t,o,a,s,u,p){e(this,r);var c=n(this,i.apply(this,arguments));return c.inEdges=void 0===o.inEdges||o.inEdges,c.outEdges=void 0===o.outEdges||o.outEdges,c.enableSwitch=!!o.enableSwitch,c.enableSwitch&&("object"==typeof a&&void 0!==a.enabled?c._enabled=!!a.enabled:c._enabled=!0),c}return o(r,i),r.prototype.export=function(){var t=i.prototype.export.call(this);return this.enableSwitch&&0==this._enabled&&(t.enabled=this._enabled),t},r.prototype.fix=function(){var t=i.prototype.fix.call(this);return this.enableSwitch&&(t.enabled=this._enabled),t},t(r,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this.enableSwitch&&this.update()}}]),r}(s.Group),s.AudioGraphNode=function(i){function r(t,o,a,s,u,p){e(this,r);var c=n(this,i.apply(this,arguments));return c.enableSwitch&&("object"==typeof a?c._enabledInput=!!a.enabledInput:c._enabledInput=!1),c}return o(r,i),r.collectArgs=function(t,e,n){return n=Object.create(n),void 0===n.enableSwitch&&(n.enableSwitch=!0),i.collectArgs.call(this,t,e,n)},r.prototype.export=function(){var t=i.prototype.export.call(this);return this.enableSwitch&&1==this._enabledInput&&(t.enabledInput=this._enabledInput),t},r.prototype.fix=function(){var t=i.prototype.fix.call(this);return this.enableSwitch&&(t.enabledInput=this._enabledInput),t},t(r,[{key:"enabledInput",get:function(){return this._enabledInput},set:function(t){this._enabledInput=t,this.enableSwitch&&this.update()}}]),r}(s.GraphNode),s.WetAudioGraphNode=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.collectArgs=function(e,n,o){return n=[["LiveFloat","wet",[0,1],1]].concat(n),t.collectArgs.call(this,e,n,o)},i}(s.AudioGraphNode),s.BiquadFilter=function(t){function i(o,r,a,u,p,c){e(this,i);var l=n(this,t.apply(this,arguments)),d=l.entries[0],f=l.entries[3],h=l.entries[4];return f.isVisible=function(){return d.input||s.BiquadFilter.typeUsesQ(d.value)},h.isVisible=function(){return d.input||s.BiquadFilter.typeUsesGain(d.value)},d.addUpdateCallback(function(){f.updateVisibility(),h.updateVisibility()}),l}return o(i,t),i.typeUsesQ=function(t){return!!{lowpass:!0,highpass:!0,bandpass:!0,peaking:!0,notch:!0,allpass:!0}[t]},i.typeUsesGain=function(t){return!!{lowshelf:!0,highshelf:!0,peaking:!0}[t]},i.collectArgs=function(e,n,o){return o=Object.create(o),o.descriptions=[["LiveSelect","type",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]],["LiveInt","frequency",[0,22050],350,{unit:"hertz"}],["LiveInt","detune",[0,100],{unit:"¢"}],["LiveFloat","Q",[-4,4],0],["LiveInt","gain",[-30,30],0,{unit:"decibel"}]],t.collectArgs.call(this,e,n,o)},i}(s.AudioGraphNode),s.IIRFilterCoefs=function(t){function i(o,r,a,u,p,c){e(this,i),void 0===r.defaultValue&&(r.defaultValue="1");
var l=n(this,t.apply(this,arguments));return s.IIRFilterCoefs.isValueValid(l.value)||(l.value="1"),l}return o(i,t),i.isValueValid=function(t){try{var e=JSON.parse("["+t+"]");return e.length>0&&e.every(function(t){return"number"==typeof t})}catch(t){return!1}},i}(s.Text),s.IIRFilter=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.collectArgs=function(e,n,o){return o=Object.create(o),o.descriptions=[["IIRFilterCoefs","feedforward"],["IIRFilterCoefs","feedback"]],t.collectArgs.call(this,e,n,o)},i}(s.AudioGraphNode),s.EqualizerFilter=function(i){function r(){return e(this,r),n(this,i.apply(this,arguments))}return o(r,i),r.collectArgs=function(t,e,n){return n=Object.create(n),n.descriptions=s.EqualizerFilter.frequencies.map(function(t){return["LiveInt","gain"+t,[-30,30],0,{unit:"decibel"}]}),i.collectArgs.call(this,t,e,n)},t(r,null,[{key:"frequencies",get:function(){return[60,170,350,1e3,3500,1e4]}}]),r}(s.AudioGraphNode),s.Graph=function(r){function a(){return e(this,a),n(this,r.apply(this,arguments))}return o(a,r),a.prototype.getElementsPropertyName=function(){return"nodes"},a.prototype.populateEntries=function(t,e){for(var n=Array(e.length),o=0,i=0;i<e.length;i++)o+=!e[i],n[i]=o;for(var r=[],a=0;a<e.length;a++){var s=t[a],u=e[a];if(u){var p={entry:u,next:[],x:0,y:0};if(void 0!==s.x&&(p.x=s.x),void 0!==s.y&&(p.y=s.y),void 0!==s.next){var c=s.next;Array.isArray(c)||(c=[c]);for(var l=0;l<c.length;l++){var d=c[l];d=parseInt(d),e[d]&&p.next.push(d-n[d])}}r.push(p)}}this.storeNodes(r)},a.prototype.getEntryFromElement=function(t){return t.entry},a.prototype.setElementExportData=function(t,e){t.next.length>1?e.next=t.next:1==t.next.length&&(e.next=t.next[0]),e.x=t.x,e.y=t.y},a.prototype.setElementFixData=function(t,e){e.next=t.next},a.prototype.storeNodes=function(t){this._nodes=t.map(function(t){return{entry:t.entry,next:[],x:t.x,y:t.y}}),this.resetNodeConnectionData();for(var e=0;e<t.length;e++)for(var n=t[e].next,o=0;o<n.length;o++){var i=n[o];this.connectNodes(e,i)}},a.prototype.resetNodeConnectionData=function(){},a.prototype.addConnectionData=function(t,e){},a.prototype.canConnectNodes=function(t,e){return this._nodes[t].entry.outEdges&&this._nodes[e].entry.inEdges&&!i(27)(this._nodes[t].next)(e)},a.prototype.connectNodes=function(t,e){this.canConnectNodes(t,e)&&(this._nodes[t].next.push(e),this.addConnectionData(t,e))},t(a,[{key:"nodes",get:function(){return this._nodes},set:function(t){this.storeNodes(t),this.update()}}]),a}(s.Collection),s.AcyclicGraph=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.resetNodeConnectionData=function(){var t=this._nodes.length;this._connectivityMatrix=new Int8Array(t*t)},i.prototype.addConnectionData=function(t,e){var n=this._nodes.length;this._connectivityMatrix[t*n+e]=1;for(var o=0;o<n;o++)this._connectivityMatrix[t*n+o]|=this._connectivityMatrix[e*n+o]},i.prototype.canConnectNodes=function(e,n){if(!t.prototype.canConnectNodes.call(this,e,n))return!1;var o=this._nodes.length;return e!=n&&!this._connectivityMatrix[n*o+e]},i}(s.Graph),r.exports=s},{19:19,27:27}],51:[function(t,i,r){var a=t(50),s=t(21),u=t(43),p=function(t){function i(){return e(this,i),n(this,t.apply(this,arguments))}return o(i,t),i.prototype.setOptionClassWriters=function(e){t.prototype.setOptionClassWriters.call(this,e),e.set(a.Graph,function(){return(new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))).$output})},i}(s);i.exports=p},{21:21,43:43,50:50}],52:[function(i,r,a){var s=i(22),u=function(r){function a(){return e(this,a),n(this,r.apply(this,arguments))}return o(a,r),t(a,[{key:"entriesDescription",get:function(){return[["AcyclicGraph","graph",[["AudioGraphNode","audio",[["Checkbox","enabled",!0],["Text","url",["http://mainline.i3s.unice.fr/mooc/guitarRiff1.mp3","http://mainline.i3s.unice.fr/mooc/drums.mp3","http://mainline.i3s.unice.fr/mooc/LaSueur.mp3","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/bass.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/drums.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/guitar.ogg"]]],{inEdges:!1}],["AudioGraphNode","video",[["Checkbox","enabled",!0],["Text","url",["http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.webm","http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.mp4","http://mainline.i3s.unice.fr/mooc/sintel.webm","http://mainline.i3s.unice.fr/mooc/sintel.mp4"]],["Int","width",[1,1920],320,{unit:"pixel"}],["Int","height",[1,1080],240,{unit:"pixel"}]],{inEdges:!1}],["AudioGraphNode","sample",[["Text","url",["http://mainline.i3s.unice.fr/mooc/shoot1.mp3","http://mainline.i3s.unice.fr/mooc/shoot2.mp3"]],["Int","repeat",[1,20]],["Float","interval",[0,1],.1,{unit:"second"}],["Float","randomShift",[0,1],{unit:"second"}],["Float","pitch",[0,2],1],["Float","randomPitch",[0,1]],["Float","gain",[0,2],1],["Float","randomGain",[0,1]]],{inEdges:!1,enableSwitch:!1}],["AudioGraphNode","gain",[["Checkbox","enabled",!0],["LiveFloat","gain",[0,10],1,{defaultMax:1}]]],["AudioGraphNode","panner",[["Checkbox","enabled",!0],["LiveFloat","pan",[-1,1],0]]],["BiquadFilter","biquad"],["IIRFilter","iir"],["WetAudioGraphNode","convolver",[["Text","url",["http://mainline.i3s.unice.fr/mooc/Scala-Milan-Opera-Hall.wav","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/irHall.ogg"]]]],["EqualizerFilter","equalizer"],["AudioGraphNode","compressor",[["Checkbox","enabled",!0]]],["AudioGraphNode","waveform",[["Int","logFftSize",[5,12],8],["Float","width",[0,10],1,{unit:"pixel"}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]]]],{enableSwitch:!1}],["AudioGraphNode","frequencyBars",[["Int","logFftSize",[5,12],8],["Int","cutoff",[10,100],100,{unit:"%"}],["Select","base",["bottom","middle"]],["Select","coloring",["component","spectral"]],["Select","coloringInput",["amplitude","frequency"]]],{enableSwitch:!1}],["AudioGraphNode","frequencyOutline",[["Int","logFftSize",[5,12],8],["Int","cutoff",[10,100],100,{unit:"%"}],["Select","base",["bottom","middle"]],["Float","width",[0,10],1,{unit:"pixel"}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]]]],{enableSwitch:!1}],["AudioGraphNode","volume",[["Int","logFftSize",[5,12],8]],{enableSwitch:!1}],["AudioGraphNode","stereoVolume",[["Int","logFftSize",[5,12],8]],{outEdges:!1,enableSwitch:!1}],["AudioGraphNode","destination",[["Checkbox","enabled",!0]],{outEdges:!1}]],"nodeType"],["Group","canvas",[["Int","width",[1,1920],300,{unit:"pixel"}],["Int","height",[1,1080],100,{unit:"pixel"}],["Group","background",[["Select","type",["clear","filled"]],["Group","color",[["Int","r",[0,100],100,{unit:"%"}],["Int","g",[0,100],100,{unit:"%"}],["Int","b",[0,100],100,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"canvas.background.type":["filled"]}}]]]]],["Group","loader",[["Select","errors",["none","network","http"]]]],["Group","api",[["Checkbox","noVendorPrefix"],["Checkbox","connectReturnValue"]]]]}},{key:"optionClasses",get:function(){return i(50)}}]),a}(s);r.exports=u},{22:22,50:50}]},{},[48])}();
//# sourceMappingURL=webaudio-starter.js.map
