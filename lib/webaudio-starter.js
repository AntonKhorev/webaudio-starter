!function(){var t={"typeof":function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},createClass:function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},possibleConstructorReturn:function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},inherits:function(t,e){function n(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var o=n[i],r=Object.getOwnPropertyDescriptor(e,o);r&&r.configurable&&void 0===t[o]&&Object.defineProperty(t,o,r)}return t}if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&n(t,e)},taggedTemplateLiteralLoose:function(t,e){return t.raw=e,t}};!function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,i){"use strict";var o=function(){function e(n,i,o,r){var a=this;t.classCallCheck(this,e),this.option=n,this.$dragged=null,this.$entries=$("<div>").append(n.entries.map(function(t){return a.writeDraggableSubOption(t,i,o)}));var s=$("<div class='buttons'>");n.availableTypes.forEach(function(t,e){e&&s.append(" "),s.append($("<button type='button'>").html(o("options."+n.fullName+"."+t+".add")).click(function(){a.$entries.append(a.writeDraggableSubOption(n.makeEntry(t),i,o)),a.updateArrayEntries()}))}),this.$output=n.$=$("<fieldset>").append("<legend>"+o("options."+n.fullName)+"</legend>",this.$entries,s)}return e.prototype.canDeleteEntry=function(t){return!0},e.prototype.updateArrayEntries=function(){this.option.entries=this.$entries.children().map(function(){return $(this).data("option")}).get()},e.prototype.writeDraggableSubOption=function(t,e,n){var i=this,o=function(t){t.prev().before(t),i.updateArrayEntries()},r=function(t){t.next().after(t),i.updateArrayEntries()},a=function(t){i.canDeleteEntry(t)&&(t.remove(),i.updateArrayEntries())},s=this;return $("<div class='draggable-with-handle'>").data("option",t).append(e(t)," ",$("<span draggable='true' tabindex='0' title='"+n("options-output.drag.tip")+"'>").append("<span>"+n("options-output.drag")+"</span>").on("dragstart",function(t){s.$dragged=$(this).parent(),t.originalEvent.dataTransfer.effectAllowed="move",t.originalEvent.dataTransfer.setData("Text",name),t.originalEvent.dataTransfer.setDragImage&&t.originalEvent.dataTransfer.setDragImage(s.$dragged[0],0,0),setTimeout(function(){s.$dragged.addClass("ghost")},0)}).on("touchstart",function(t){var e=$(this).parent();return e.addClass("ghost"),!1}).on("touchmove",function(t){var e=$(this).parent(),n=e.height(),i=e.offset().top,a=t.originalEvent.touches[0].pageY,s=e.prev();s.length&&i>a&&a-s.offset().top<n&&o(e);var u=e.next();return u.length&&a>i+n&&a-u.offset().top>u.height()-n&&r(e),!1}).on("touchend touchcancel",function(t){var e=$(this).parent();e.removeClass("ghost")}).keydown(function(t){var e=$(this),n=e.parent();return 38==t.keyCode?(o(n),e.focus(),!1):40==t.keyCode?(r(n),e.focus(),!1):void 0})," ",$("<button class='delete' title='"+n("options-output.delete.tip")+"'>").append("<span>"+n("options-output.delete")+"</span>").click(function(){a($(this).parent())}).keydown(function(t){return 13==t.keyCode||32==t.keyCode?(a($(this).parent()),!1):void 0})).on("dragover",function(t){t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move";var e=$(this);if(s.$dragged)if(e.next().is(s.$dragged)){var n=s.$dragged.height(),i=t.pageY-e.offset().top;n>i&&o(s.$dragged)}else if(e.nextAll().is(s.$dragged))o(s.$dragged);else if(e.prev().is(s.$dragged)){var a=e.height(),u=s.$dragged.height(),c=t.pageY-e.offset().top;c>a-u&&r(s.$dragged)}else e.prevAll().is(s.$dragged)&&r(s.$dragged)}).on("drop",function(t){t.preventDefault()}).on("dragend",function(t){t.preventDefault(),s.$dragged&&(s.$dragged.removeClass("ghost"),s.$dragged=null)})},e}();n.exports=o},{}],2:[function(t,e,n){"use strict";e.exports=function(t){return function(e){var n="code-output",i={en:{save:"Save source code",run:"Run in new window","open.codepen":"Open in CodePen","open.jsfiddle":"Open in JSFiddle","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"embedded in HTML source code","mode.full":"complete HTML","mode.body":"only HTML body","mode.embed":"embed in HTML","mode.paste":"extract to paste into HTML later","mode.file":"extract to load as external resource",formatting:"Formatting","formatting.indent":"indent with tabs","formatting.indentNumber":"spaces per indent","formatting.jsSemicolons":"JavaScript semicolons","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (hosted on <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) is not loaded. Syntax highlighting is disabled."},ru:{save:"Сохранить исходный код",run:"Запустить в новом окне","open.codepen":"Открыть в CodePen","open.jsfiddle":"Открыть в JSFiddle","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"встроен в код HTML","mode.full":"полностью","mode.body":"только <code>body</code>","mode.embed":"встроить в HTML","mode.paste":"извлечь для последующей вставки в HTML","mode.file":"извлечь для загрузки в качестве внешнего ресурса",formatting:"Форматирование","formatting.indent":"отступы с помощью tab","formatting.indentNumber":"пробелов в отступе","formatting.jsSemicolons":"<code>;</code> в JavaScript","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (с сервера <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) не загружен. Подсветка синтаксиса отключена."}};for(var o in i[t])e[n+"."+o]=i[t][o];return e}}},{}],3:[function(e,n,i){"use strict";var o=e(8),r=e(10),a=e(5),s=function(t){return"data:text/html;charset=utf-8,"+encodeURIComponent(t)},u=function(t,e){var n={},i=function(i){Object.defineProperty(n,i,{get:function(){return t[i]},set:function(n){t[i]=n,e()}})};for(var o in t)i(o);return n},c=function(){function e(n,i){var s=this;t.classCallCheck(this,e),this.formatting=u(this.defaultFormatting,function(){s.update.flush(),s.applyUpdatedCode(i)}),this.sectionModes=u({html:"full",css:"embed",js:"embed"},function(){s.update.flush(),s.applyUpdatedCode(i)}),this._code=n(),this.update=o(function(){s._code=n(),s.applyUpdatedCode(i)},200),this.initDomProps();var c=function(){var t=s,e=void 0,n=void 0,o=function(){var t="	";if(!e.prop("checked")){var i=4;n[0].checkValidity()&&(i=Number(n.val())),t=r(" ",i)}s.formatting.indent=t};return $("<details>").append("<summary>"+i("code-output.formatting")+"</summary>",$("<div>").append($("<label>").append(e=$("<input type='checkbox'>").prop("checked","	"==s.formatting.indent).change(o)," "+i("code-output.formatting.indent"))),$("<div>").append($("<label>").append(n=$("<input type='number' min='0' max='32' required>").val("	"==s.formatting.indent?4:s.formatting.indent.length).on("input change",o)," "+i("code-output.formatting.indentNumber"))),$("<div>").append($("<label>").append($("<input type='checkbox'>").prop("checked",s.formatting.jsSemicolons).change(function(){t.formatting.jsSemicolons=this.checked})," "+i("code-output.formatting.jsSemicolons")))).each(a)},l=function(t){return $("<details open>").append(s.writeSectionSummary(t,i),s.$sectionCode[t]=$("<div class='code'>")).each(a)},p=$("<div class='code-output'>").append(this.writeButtons(i)).append(c(),l("html"),l("css"),l("js"));window.hljs||p.append("<p>"+i("code-output.warning.no-hljs")+"</p>"),p.append(this.writeButtons(i)),this.applyUpdatedCode(i),this.$output=p}return e.prototype.initDomProps=function(){this.$sectionCode={},this.$saveButtons={}},e.prototype.applyUpdatedCode=function(t){var e=this.code.extractSections(this.sectionModes);for(var n in e){if("embed"==this.sectionModes[n])this.$sectionCode[n].empty().append("<p>"+t("code-output.embedded")+"</p>");else{var i=void 0;this.$sectionCode[n].empty().append($("<pre>").append(i=$("<code class='"+n+"'>"))),i.html(e[n].getHtml(this.formatting).join("\n")),window.hljs&&hljs.highlightBlock(i[0])}"html"!=n&&this.$saveButtons[n].prop("disabled","embed"==this.sectionModes[n])}},e.prototype.writeButtons=function(t){var e=this;return $("<div>").append($("<button type='button'>"+t("code-output.run")+"</button>").click(function(){var t=e.code.get(e.formatting).join("\n");if(navigator.msSaveOrOpenBlob){var n=window.open("","generatedCode");n.document.open(),n.document.write(t),n.document.close()}else window.open(s(t),"generatedCode")})," ",$("<button type='button'>"+t("code-output.open.codepen")+"</button>").click(function(){var t=e.code.extractSections({html:"body",css:"paste",js:"paste"}),n=function(n){return t[n].get(e.formatting).join("\n")};$("<form method='post' action='http://codepen.io/pen/define/' target='codepenGeneratedCode'>").append($("<input type='hidden' name='data'>").val(JSON.stringify({html:n("html"),css:n("css"),js:n("js"),title:code.title}))).appendTo("body").submit().remove()})," ",$("<button type='button'>"+t("code-output.open.jsfiddle")+"</button>").click(function(){var t=e.code.extractSections({html:"body",css:"paste",js:"paste"}),n=function(n){return t[n].get(e.formatting).join("\n")},i=function(t){return $("<input type='hidden'>").attr("name",t).val(n(t))};$("<form method='post' action='http://jsfiddle.net/api/post/library/pure/' target='jsfiddleGeneratedCode'>").append(i("html"),i("css"),i("js"),$("<input type='hidden' name='title'>").val(e.code.title),"<input type='hidden' name='wrap' value='b'>").appendTo("body").submit().remove()}))},e.prototype.writeSectionSummary=function(t,e){var n=this,i=$("<summary>"+e("code-output.section."+t)+"</summary>");return i.append(" ",$("<select>").append(("html"==t?["full","body"]:["embed","paste","file"]).map(function(t){return $("<option>").val(t).html(e("code-output.mode."+t))})).val(this.sectionModes[t]).change(function(){n.sectionModes[t]=this.value})," ",this.$saveButtons[t]=$("<button type='button'>"+e("code-output.save")+"</button>").click(function(){var e=n.code.extractSections(n.sectionModes)[t],i=new Blob([e.get(n.formatting).join("\n")],{type:e.mimeType});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,e.filename);else{var o=$("<a>").attr("download",e.filename).attr("href",URL.createObjectURL(i)).appendTo("body");o.get(0).click(),o.remove()}})),i},t.createClass(e,[{key:"code",get:function(){return this.update.flush(),this._code}},{key:"defaultFormatting",get:function(){return{indent:"	",jsSemicolons:!1}}}]),e}();n.exports=c},{10:10,5:5,8:8}],4:[function(e,n,i){"use strict";var o=function(){function e(n,i,o){t.classCallCheck(this,e),this.filename=n,this.mimeType=i,this.lines=o}return e.prototype.get=function(t){return this.lines.get(t)},e.prototype.getHtml=function(t){return this.lines.getHtml(t)},e}();n.exports=o},{}],5:[function(t,e,n){"use strict";var i="open"in document.createElement("details");e.exports=function(){if(!i){var t=$(this),e=function(){t.attr("open")?t.removeAttr("open"):t.attr("open","")},n=13,o=32,r=function(t){return $(t.target).closest("summary, :input, a[href]").is("summary")};t.addClass("polyfill").children("summary").attr("tabindex",0).click(function(t){r(t)&&e()}).keydown(function(t){return!r(t)||t.keyCode!=n&&t.keyCode!=o?void 0:(e(),!1)})}}},{}],6:[function(t,e,n){var i=t(7);e.exports=function(t){return t.split(".").map(function(t,e){return e>0?i(t):t}).join("")}},{7:7}],7:[function(t,e,n){e.exports=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{}],8:[function(t,e,n){e.exports=function(t,e){var n=null,i=function(){clearTimeout(n),n=setTimeout(function(){n=null,t()},e)};return i.flush=function(){n&&(n=null,t())},i}},{}],9:[function(t,e,n){e.exports=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(t).replace(/[&<>"']/g,function(t){return e[t]})}},{}],10:[function(t,e,n){e.exports=function(t,e){return Array(e+1).join(t)}},{}],11:[function(t,e,n){"use strict";var i=function(t,e,n,i){var o=0;n&&(o=1);var r=!1;for(var a in t){var s=void 0;if(void 0!==e)s=e;else{if(void 0===t[a].precision)throw new Error("formatNumbers received no precision");s=t[a].precision}var u=Number(t[a]),c=u.toFixed(s);Number(c)<0&&(r=!0),s>0&&(s-=c.match(/0*$/)[0].length),s>o&&(o=s)}var l=Array.isArray(t)?[]:{};for(var p in t){var f=Number(t[p]),d=f.toFixed(o);Number(d)>=0&&"-"==d.charAt(0)&&(d=d.slice(1)),!i&&r&&f>0&&(d="+"+d),l[p]=d}return l},o=function(t,e){return i(t,e)};o.html=function(t,e){return i(t,e,!1,!0)},o.js=function(t,e){return i(t,e)},o.glsl=function(t,e){return i(t,e,!0)},e.exports=o},{}],12:[function(e,n,i){"use strict";var o=function r(e,n,i,o){t.classCallCheck(this,r),this.option=e,this.$output=e.$=$("<fieldset>").append("<legend>"+i("options."+e.fullName)+"</legend>").append(e.entries.map(n))};n.exports=o},{}],13:[function(t,e,n){"use strict";e.exports=function(t){function e(t,o){var r=void 0;(r=i.exec(t))?!function(){var t=r[1],n=r[2].split(","),a=r[3];(r=i.exec(o))?!function(){var i=r[1],o=r[2],s=o.split(","),u=r[3];n.forEach(function(n,r){var c=s[r];""!=o?e(t+n+a,i+c+u):e(t+n+a,i+n+u)})}():n.forEach(function(n){e(t+n+a,o)})}():n[t]=o}var n={},i=/^([^{]*)\{([^}]*)\}(.*)$/;for(var o in t)e(o,t[o]);return n}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){return function(e){for(var n in e)e[n]=e[n].replace(/\[\[(.*?)\]\]/g,function(e,n){var i=void 0,o=void 0,r=n.indexOf("|");return 0>r?(i=n,o=n):(i=n.slice(0,r),o=n.slice(r+1)),"<a href='https://"+t+".wikipedia.org/wiki/"+i.replace(/ /g,"_")+"'>"+o+"</a>"});return e}}},{}],15:[function(t,e,n){"use strict";var i=t(9);e.exports=function(t){return function(e){var n="en";e=e||n,e=e.split("-")[0];var o=t[e];void 0===o&&(e=n,o=t[e]);var r=function(t){if(void 0!==o[t])return o[t];throw new Error("undefined string "+t)};return r.lang=e,r.has=function(t){return void 0!==o[t]},"en"==e?(r.number=function(t){return String(t).replace("-","−")},r.pluralSuffix=function(t){var e=String(t);if(e.indexOf(".")<0){var n=Number(t);return 1==Math.abs(n)?"1":"2"}return"2"}):"ru"==e&&(r.number=function(t){return String(t).replace("-","−").replace(".",",")},r.pluralSuffix=function(t){var e=String(t);if(e.indexOf(".")<0){var n="1"===e.slice(-2,-1);return"1"!==e.slice(-1)||n?"234".indexOf(e.slice(-1))>=0&&!n?"2":"5":"1"}return"2"}),r.plural=function(t,e){return this(e+"."+this.pluralSuffix(t))},r.numberWithUnits=function(t,e,n){void 0===n&&(n=function(t,e){return"<abbr title='"+i(e)+"'>"+t+"</abbr>"});var o=this.number(t);if(void 0!==e)if(1==e.length&&/^\W/.test(e))o+=e;else{o+=" ";var a=void 0;a="1/second"==e?r("units.second.a")+"<sup>−1</sup>":r("units."+e+".a");var s=this.plural(t,"units."+e);o+=n(a,s)}return o},r}}},{9:9}],16:[function(e,n,i){"use strict";var o=e(9),r=e(18),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.doGet=function(t,e){var n=[],i=!0,a=function(){i?i=!1:n.push("")};return this.data.forEach(function(i){if(i instanceof r){var s=i.doGet(t,e);s.length>0&&(a(),n.push.apply(n,s))}else if("string"==typeof i){a();var u=e?o(i):i;n.push(u)}}),n},n}(r);n.exports=a},{18:18,9:9}],17:[function(e,n,i){"use strict";var o=e(18),r=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.processStringInGet=function(t,e){return e.jsSemicolons?t.replace(/^;/,""):t.replace(/;$/,"")},n}(o);n.exports=r},{18:18}],18:[function(e,n,i){"use strict";var o=e(9),r=e(10),a={},s=function(){function e(n){if(t.classCallCheck(this,e),!Array.isArray(n))throw new TypeError("attempted to construct Lines with non-array data argument");this.data=n}return e.prototype.isDataEmpty=function(){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(n instanceof e){if(!n.isEmpty())return!1}else if("string"==typeof n)return!1}return!0},e.prototype.processStringInGet=function(t,e){return t},e.prototype.doGet=function(t,n){var i=this,s=[],u=!1;return this.data.forEach(function(c){if(c===a)u=!0;else if(c instanceof e){var l=c.doGet(t,n);u&&l.length>0&&s.push(s.pop()+l.shift()),s.push.apply(s,l),u=!1}else if("string"==typeof c){var p=i.processStringInGet(c,t);void 0!==t.indent&&"	"!=t.indent&&(p=p.replace(/^(\t)+/,function(e){return r(t.indent,e.length)})),p=n?o(p):p,u?s.push(s.pop()+p):s.push(p),u=!1}}),s},e.b=function(){var t=this,e=arguments,n=[],i=function(){return new(Function.prototype.bind.apply(t,[null].concat([n],Array.prototype.slice.call(e))))},o=function(){return o.a.apply(o,arguments)};return o.a=function(){return n.push.apply(n,arguments),this},o.t=function(){return n.push.apply(n,[a].concat(Array.prototype.slice.call(arguments))),this},o.e=i,o.ae=function(){return this.a.apply(this,arguments).e()},o},e.ba=function(){var t;return(t=this.b()).a.apply(t,arguments)},e.be=function(){return this.b().e()},e.bae=function(){var t;return(t=this.b()).a.apply(t,arguments).e()},e.prototype.isEmpty=function(){return this.isDataEmpty()},e.prototype.get=function(t){return void 0===t&&(t={}),this.doGet(t,!1)},e.prototype.getHtml=function(t){return void 0===t&&(t={}),this.doGet(t,!0)},e.prototype.count=function(){return this.doGet({},!1).length},e.html=function(t){var e=arguments;return t.reduce(function(t,n,i){var o=e[i];switch(t.slice(-1)){case"=":return o===!1?t.replace(/\s+[a-zA-Z0-9-]+=$/,"")+n:o===!0?t.replace(/=$/,"")+n:(o=String(o).replace(/&/g,"&amp;"),""==o?t.replace(/=$/,"")+n:/[\s"'=<>`]/.test(o)?/'/.test(o)?(o=o.replace(/"/g,"&quot;"),t+'"'+o+'"'+n):t+"'"+o+"'"+n:t+o+n);case">":return o=String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;"),t+o+n}throw new Error("invalid character before substitution")})},e}();n.exports=s},{10:10,9:9}],19:[function(e,n,i){"use strict";var o=e(27),r=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.isEmpty=function(){return this.isDataEmpty()},n.prototype.doGet=function(t,n){return this.isEmpty()?[]:e.prototype.doGet.call(this,t,n)},n}(o);n.exports=r},{27:27}],20:[function(e,n,i){"use strict";var o={};o.Base=function(){function e(n,i,o,r,a,s){if(t.classCallCheck(this,e),this.parent=r,this.name=n,this.fullName=n,r&&null!==r.fullName&&(this.fullName=r.fullName+"."+n),this.updateCallbacks=[],this._$=null,this.isVisible=function(){return!0},a&&(a.register(this),void 0!==i.visibilityData)){"or"!=i.visibilityDataLogic?this.isVisible=function(){for(var t in i.visibilityData){var e=a.options[t].value;if(i.visibilityData[t].indexOf(e)<0)return!1}return!0}:this.isVisible=function(){for(var t in i.visibilityData){var e=a.options[t].value;if(i.visibilityData[t].indexOf(e)>=0)return!0}return!1};for(var u in i.visibilityData)a.declareAffectedBy(this,u)}}return e.make=function(t){for(var e=0,n=0,i=0,o=void 0,r=[],a={},s=1;s<arguments.length;s++){var u=arguments[s];"string"==typeof u||"number"==typeof u||"boolean"==typeof u?0==e++&&(o=u):Array.isArray(u)?0==n++&&(r=u):u instanceof Object&&0==i++&&(a=u)}var c=this,l=this.collectArgs(o,r,a);return function(e,n,i,o){return new c(t,l,e,n,i,o)}},e.collectArgs=function(t,e,n){return n},e.prototype.updateVisibility=function(){this.$&&this.$.toggle(this.isVisible())},e.prototype.update=function(){this.updateCallbacks.forEach(function(t){t()}),this.parent&&this.parent.update()},e.prototype.addUpdateCallback=function(t){this.updateCallbacks.push(t)},e.prototype.shortenExport=function(t){var e=Object.keys(t);return 1==e.length&&"value"==e[0]?t.value:t},e.prototype.shortenExportAssign=function(t,e,n){var i=Object.keys(t);1==i.length&&"value"==i[0]?e[n]=t.value:i.length>0&&(e[n]=t)},t.createClass(e,[{key:"$",get:function(){return this._$},set:function(t){this._$=t,this.updateVisibility()}}]),e}(),o.Input=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.defaultValue=o.defaultValue,"object"==typeof r&&(r=r.value),void 0!==r?c._value=r:c._value=c.defaultValue,c}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.defaultValue&&(i.defaultValue=t),e.collectArgs.call(this,t,n,i)},n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),t},t.createClass(n,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.update()}}]),n}(o.Base),o.Boolean=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.collectArgs=function(t,n,i){return e.collectArgs.call(this,!!t,n,i)},n.prototype.fix=function(){return this.value},n}(o.Input),o.NonBoolean=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.fix=function(){var t=this.value;return{name:this.name,value:t,valueOf:function(){return t},toString:function(){return String(t)}}},n}(o.Input),o.Factor=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.availableValues=o.availableValues,c}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.availableValues&&(i.availableValues=n),void 0===t&&(t=i.availableValues[0]),e.collectArgs.call(this,t,n,i)},n}(o.NonBoolean),o.Number=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.availableMin=o.availableMin,c.availableMax=o.availableMax,c.unit=o.unit,c}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.availableMin&&(i.availableMin=n[0]),void 0===i.availableMax&&(i.availableMax=n[1]),void 0===t&&(t=i.availableMin),e.collectArgs.call(this,t,n,i)},n.prototype.fix=function(){var t=e.prototype.fix.call(this);return t.precision=this.precision,t.unit=this.unit,t},n}(o.NonBoolean),o.Collection=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.entries=o.descriptions.map(function(t){var e=t[1],n=void 0;return"object"==typeof r&&(n=r[e]),u(t,n,c,s)}),c}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.descriptions&&(i.descriptions=n),e.collectArgs.call(this,t,n,i)},n.prototype["export"]=function(){var t={};return this.entries.forEach(function(e){e.shortenExportAssign(e["export"](),t,e.name)}),t},n.prototype.fix=function(){var t=[],e={name:this.name,entries:t};return this.entries.forEach(function(n){t.push(e[n.name]=n.fix())}),e},n}(o.Base),o.Void=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype["export"]=function(){return{}},n.prototype.fix=function(){return{name:this.name}},n}(o.Base),o.Checkbox=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Boolean),o.Select=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Factor),o.Text=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Factor),o.Int=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"precision",get:function(){return 0}}]),n}(o.Number),o.Float=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return void 0!==o.precision?c.precision=o.precision:c.availableMax>=100?c.precision=1:c.availableMax>=10?c.precision=2:c.precision=3,c}return t.inherits(n,e),n}(o.Number),o.Root=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Collection),o.Group=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Collection),o.Array=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));c.availableConstructors=new Map,s&&s.enterArray(),o.descriptions.forEach(function(t){var e=t[1],n=function(e){return u(t,e,c,s)};c.availableConstructors.set(e,n)}),s&&s.exitArray(),void 0!==o.typePropertyName?c.typePropertyName=o.typePropertyName:c.typePropertyName="type",c._entries=[];var l=[];Array.isArray(r)?l=r:"object"==typeof r&&(l=r.value);for(var p=c.availableTypes[0],f=0;f<l.length;f++){var d=l[f],h=p;"object"==typeof d&&void 0!==d[c.typePropertyName]&&(h=d[c.typePropertyName]);var v=c.availableConstructors.get(h);v&&c._entries.push(v(d))}return c}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.descriptions&&(i.descriptions=n),void 0===i.typePropertyName&&(i.typePropertyName=t),e.collectArgs.call(this,t,n,i)},n.prototype.makeEntry=function(t,e){return this.availableConstructors.get(t)(e)},n.prototype["export"]=function(){var t=this,e=this.availableTypes[0];return{value:this._entries.map(function(n){var i=n["export"](),o=n.name;return o!=e&&(i[t.typePropertyName]=o),n.shortenExport(i)})}},n.prototype.fix=function(){var t=this;return{name:this.name,entries:this._entries.map(function(e){var n=e.fix();return"object"==typeof n&&(n[t.typePropertyName]=e.name),n})}},t.createClass(n,[{key:"availableTypes",get:function(){var t=[];return this.availableConstructors.forEach(function(e,n){t.push(n)}),t}},{key:"entries",get:function(){return this._entries},set:function(t){this._entries=t,this.update()}}]),n}(o.Base),n.exports=o},{}],21:[function(t,e,n){"use strict";e.exports=function(t){return function(e){var n="options-output",i={en:{reset:"Reset",drag:"Drag","drag.tip":"Drag or press ↑/↓ while in focus to reorder items","delete":"Delete","delete.tip":"Delete item"},ru:{reset:"Сбросить",drag:"Перетащить","drag.tip":"Перетаскивайте или нажимайте ↑/↓, пока элемент в фокусе, чтобы изменить порядок элементов","delete":"Удалить","delete.tip":"Удалить элемент"}};for(var o in i[t])e[n+"."+o]=i[t][o];return e}}},{}],22:[function(e,n,i){"use strict";var o=e(11),r=e(25),a=e(20),s=e(1),u=e(12),c=function(){function e(n,i,o){function r(t){for(var e=t;e=Object.getPrototypeOf(e);){var n=a.get(e.constructor);if(n)return n(t,r,o,i)}}t.classCallCheck(this,e);var a=new Map;this.setOptionClassWriters(a),this.$output=r(n.root)}return e.prototype.getLeadLabel=function(t,e,n){return"<label for='"+t+"'>"+e("options."+n.fullName)+":</label><span class='space'> </span>"},e.prototype.setOptionClassWriters=function(t){var e=this;t.set(a.Root,function(t,e,n,i){return t.$=$("<div class='options-output'>").append(t.entries.map(e))}),t.set(a.Group,function(){return(new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.Void,function(t,e,n,i){return t.$=$("<div class='option no-lead'>").html(n("options."+t.fullName))}),t.set(a.Checkbox,function(t,e,n,i){var o=i();return t.$=$("<div class='option no-lead'>").append($("<input type='checkbox' id='"+o+"'>").prop("checked",t.value).change(function(){t.value=$(this).prop("checked")})," <label for='"+o+"'>"+n("options."+t.fullName)+"</label>")}),t.set(a.Select,function(t,n,i,o){var a=function(e){return"options."+t.fullName+"."+e},s=function(e){return"options-info."+t.fullName+"."+e},u=o(),c=void 0;return t.$=$("<div class='option'>").append(e.getLeadLabel(u,i,t),c=$("<select id='"+u+"'>").append(t.availableValues.map(function(t){return $("<option>").val(t).html(i(a(t)))})).val(t.value).change(function(){t.value=this.value})),t.availableValues.some(function(t){return i.has(s(t))})&&!function(){var e=r("info","");t.$.append(" ",e);var n=function(){i.has(s(this.value))?(e.find(".tip-content").html(i(s(this.value))),e.css("display","")):(e.css("display","none"),e.find(".tip-content").empty())};n.call(c[0]),c.change(n)}(),t.$}),t.set(a.Text,function(t,n,i,o){var r=o(),a=o();return t.$=$("<div class='option'>").append(e.getLeadLabel(r,i,t),$("<input type='text' id='"+r+"' list='"+a+"' />").val(t.value).on("input change",function(){t.value=this.value})," ",$("<datalist id='"+a+"'>").append(t.availableValues.map(function(t){return $("<option>").text(t)})))}),t.set(a.Number,function(t,n,i,a){var s=t.precision,u=function(e){return e.attr("min",t.availableMin).attr("max",t.availableMax).attr("step",Math.pow(.1,s).toFixed(s))},c=function(e,n){return u(e).val(t.value).on("input change",function(){if(this.checkValidity()){var e=n();e.val(this.value),t.value=parseFloat(this.value)}})},l=a(),p=void 0,f=void 0,d=o({min:t.availableMin,max:t.availableMax},t.precision);t.$=$("<div class='option'>").append(e.getLeadLabel(l,i,t),$("<span class='nowrap'>").append("<span class='min'>"+i.numberWithUnits(d.min,t.unit)+"</span> ",p=c($("<input type='range' id='"+l+"'>"),function(){return f})," <span class='max'>"+i.numberWithUnits(d.max,t.unit)+"</span>")," ",f=c($("<input type='number' required>"),function(){return p})," ",$("<button type='button'>"+i("options-output.reset")+"</button>").click(function(){p.val(t.defaultValue).change()}));var h="options-info."+t.fullName;return i.has(h)&&t.$.append(" ",r("info",i(h))),t.$}),t.set(a.Array,function(){return(new(Function.prototype.bind.apply(s,[null].concat(Array.prototype.slice.call(arguments))))).$output})},e}();n.exports=c},{1:1,11:11,12:12,20:20,25:25}],23:[function(e,n,i){"use strict";var o=function(){function e(){t.classCallCheck(this,e),this.options={},this.affects={},this.inArray=0}return e.prototype.register=function(t){var e=this;this.inArray||(this.options[t.fullName]=t,t.addUpdateCallback(function(){e.updateVisibilityAffectedBy(t.fullName)}))},e.prototype.declareAffectedBy=function(t,e){void 0===this.affects[e]&&(this.affects[e]=[]),this.affects[e].push(t)},e.prototype.updateVisibilityAffectedBy=function(t){void 0!==this.affects[t]&&this.affects[t].forEach(function(t){t.updateVisibility()})},e.prototype.enterArray=function(){this.inArray+=1},e.prototype.exitArray=function(){this.inArray-=1},e}(),r=function(){function n(e){t.classCallCheck(this,n);var i=this.optionClasses,r=function(t,e,n,o){var a,s=t[0];if(void 0===i[s])throw new Error("invalid option type '"+s+"'");var u=t.slice(1);return(a=i[s]).make.apply(a,u)(e,n,o,r)};this.root=i.Root.make(null,this.entriesDescription)(e,null,new o,r)}return n.prototype.addUpdateCallback=function(t){this.root.addUpdateCallback(t)},n.prototype["export"]=function(){return this.root.shortenExport(this.root["export"]())},n.prototype.fix=function(){return this.root.fix()},t.createClass(n,[{key:"optionClasses",get:function(){return e(20)}},{key:"entriesDescription",get:function(){return[]}}]),n}();n.exports=r},{20:20}],24:[function(e,n,i){"use strict";var o=e(9),r=e(18),a=function(e){function n(i,o){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this,i));return r.ref=o,r}return t.inherits(n,e),n.parse=function(t){for(var e=r.ba(""),n=/^(.*?)\[([^\]]+)\]\[([^\]]+)\]/;t.length>0;){var i=n.exec(t);
if(!i){e.t(t);break}e.t(i[1]),e.t(this.b(i[3]).ae(i[2])),t=t.substr(i[0].length)}return e.e()},n.prototype.doGet=function(t,n){var i=e.prototype.doGet.call(this,t,n),r=void 0;return n&&"object"==typeof t.refs&&(r=t.refs[this.ref]),void 0!==r?i.map(function(t){return"<a href='"+o(r)+"'>"+t+"</a>"}):i},n}(r);n.exports=a},{18:18,9:9}],25:[function(t,e,n){"use strict";e.exports=function(t,e){var n=$("<span class='tip-"+t+"' tabindex='0'><span class='tip-content'>"+e+"</span></span>"),i=null,o=0,r=function(t,e){void 0===e&&(e=200),1==t&&0==o?(clearTimeout(i),i=setTimeout(function(){n.addClass("open")},e)):-1==t&&1==o&&(clearTimeout(i),i=setTimeout(function(){n.removeClass("open")},e)),o+=t};return n.mouseenter(function(){r(1)}).focusin(function(){r(1,0)}).on("mouseleave focusout",function(){r(-1)}),n}},{}],26:[function(e,n,i){"use strict";var o=t.taggedTemplateLiteralLoose(["<link rel=stylesheet href=",">"],["<link rel=stylesheet href=",">"]),r=t.taggedTemplateLiteralLoose(["<script src=","></script>"],["<script src=","></script>"]),a=t.taggedTemplateLiteralLoose(["<html lang=",">"],["<html lang=",">"]),s=e(18),u=e(19),c=e(4),l=function(){function e(){t.classCallCheck(this,e)}return e.prototype.get=function(t){return this.getLines().get(t)},e.prototype.getHtml=function(t){return this.getLines().getHtml(t)},e.prototype.extractSections=function(t){void 0===t&&(t={});var e=u.b("<style>","</style>").ae(this.cachedStyleLines),n=s.be();"paste"==t.css?(e="body"==t.html?s.be():s.bae("<!-- <style> "+this.getSectionPasteComment("css")+" </style> -->"),n=this.cachedStyleLines):"file"==t.css&&(e=s.bae(s.html(o,this.basename+".css")),n=this.cachedStyleLines);var i=u.b("<script>","</script>").ae(this.cachedScriptLines),a=s.be();"paste"==t.js?(i="body"==t.html?s.be():s.bae("<!-- <script> "+this.getSectionPasteComment("js")+" </script> -->"),a=this.cachedScriptLines):"file"==t.js&&(i=s.bae(s.html(r,this.basename+".js")),a=this.cachedScriptLines);var l=void 0;l="body"==t.html?this.getBodyHtmlSectionLines(e,i):this.getFullHtmlSectionLines(e,i);var p=function(t){return"text/"+("js"==t?"javascript":t)};return{html:new c(this.filename,p("html"),l),css:new c(this.basename+".css",p("css"),n),js:new c(this.basename+".js",p("js"),a)}},e.prototype.getLines=function(){return this.getFullHtmlSectionLines(u.b("<style>","</style>").ae(this.cachedStyleLines),u.b("<script>","</script>").ae(this.cachedScriptLines))},e.prototype.getFullHtmlSectionLines=function(t,e){var n=s.b();return n("<!DOCTYPE html>"),n(null!==this.lang?s.html(a,this.lang):"<html>"),n("<head>","<meta charset=utf-8>"),null!==this.title&&n("<title>"+this.title+"</title>"),n(t,this.cachedHeadLines,"</head>","<body>",this.cachedBodyLines,e,"</body>","</html>"),n.e()},e.prototype.getBodyHtmlSectionLines=function(t,e){return s.bae(t,this.cachedHeadLines,this.cachedBodyLines,e)},e.prototype.getSectionPasteComment=function(t){return t+" goes here"},t.createClass(e,[{key:"filename",get:function(){return this.basename+".html"}},{key:"mimeType",get:function(){return"text/html"}},{key:"cachedStyleLines",get:function(){return this._styleLines||(this._styleLines=this.styleLines),this._styleLines}},{key:"cachedHeadLines",get:function(){return this._headLines||(this._headLines=this.headLines),this._headLines}},{key:"cachedBodyLines",get:function(){return this._bodyLines||(this._bodyLines=this.bodyLines),this._bodyLines}},{key:"cachedScriptLines",get:function(){return this._scriptLines||(this._scriptLines=this.scriptLines),this._scriptLines}},{key:"basename",get:function(){return"source"}},{key:"lang",get:function(){return null}},{key:"title",get:function(){return null}},{key:"styleLines",get:function(){return s.be()}},{key:"headLines",get:function(){return s.be()}},{key:"bodyLines",get:function(){return s.be()}},{key:"scriptLines",get:function(){return s.be()}}]),e}();n.exports=l},{18:18,19:19,4:4}],27:[function(e,n,i){"use strict";var o=e(9),r=e(18),a=function(e){function n(i){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this,i));o.wrappers=[];for(var r=1;r<arguments.length;r++)o.wrappers.push(arguments[r]);return o}return t.inherits(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.doGet=function(t,e){var n=this,i="	";void 0!==t.indent&&(i=t.indent);var a=[],s=0,u=function(){var i=n.wrappers[s];if(i instanceof r){var u=i.doGet(t,e);a.push.apply(a,u)}else if("string"==typeof i){var c=e?o(i):i;a.push(c)}s++};return u(),this.data.forEach(function(s){if(s instanceof r){var c=s.doGet(t,e);a.push.apply(a,c.map(function(t){return i+t})),2!=n.wrappers.length&&u()}else if("string"==typeof s){var l=e?o(s):s;a.push(i+l),2!=n.wrappers.length&&u()}}),2==this.wrappers.length&&u(),a},n}(r);n.exports=a},{18:18,9:9}],28:[function(e,n,i){"use strict";var o=e(17),r=e(24),a=e(36),s=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,e,n){var i=o.b();return t.audioContext&&i(r.parse("// "+e("comment.context")),"var ctx=new (AudioContext || webkitAudioContext);"),i.e()},n}(a);n.exports=s},{17:17,24:24,36:36}],29:[function(e,n,i){"use strict";var o=e(25),r=e(37),a=function(e){function n(i,r,a,s){t.classCallCheck(this,n);var u=t.possibleConstructorReturn(this,e.call(this,i,r,a,s)),c=function(t,e,n,i,o,r,a){var s=t,u=n*Math.pow(2,i/1200),c=r,l=Math.pow(10,c/40),p=2*Math.PI*u/s,f=Math.sin(p)/(2*o),d=Math.pow(10,o/20),h=Math.sin(p)/2*Math.sqrt((4-Math.sqrt(16-16/(d*d)))/2),v=Math.sin(p)/(2*d),y=1,m=Math.sin(p)/2*Math.sqrt((l+1/l)*(1/y-1)+2),g=Math.cos(p),b=2*m*Math.sqrt(l);switch(e){case"lowpass":return{feedforward:[(1-g)/2,1-g,(1-g)/2],feedback:a?[1+v,-2*g,1-v]:[1+h,-2*g,1-h]};case"highpass":return{feedforward:[(1+g)/2,-(1+g),(1+g)/2],feedback:a?[1+v,-2*g,1-v]:[1+h,-2*g,1-h]};case"bandpass":return{feedforward:[f,0,-f],feedback:[1+f,-2*g,1-f]};case"notch":return{feedforward:[1,-2*g,1],feedback:[1+f,-2*g,1-f]};case"allpass":return{feedforward:[1-f,-2*g,1+f],feedback:[1+f,-2*g,1-f]};case"peaking":return{feedforward:[1+f*l,-2*g,1-f*l],feedback:[1+f/l,-2*g,1-f/l]};case"lowshelf":return{feedforward:[l*(l+1-(l-1)*g+b),2*l*(l-1-(l+1)*g),l*(l+1-(l-1)*g-b)],feedback:[l+1+(l-1)*g+b,-2*(l-1+(l+1)*g),l+1+(l-1)*g-b]};case"highshelf":return{feedforward:[l*(l+1+(l-1)*g+b),-2*l*(l-1+(l+1)*g),l*(l+1+(l-1)*g-b)],feedback:[l+1-(l-1)*g+b,2*(l-1-(l+1)*g),l+1-(l-1)*g-b]}}},l=u,p=void 0,f=function(t){return $("<button type='button' class='clone'>"+a("options-output.filter.biquad.clone."+(t?"post":"pre"))+"</button>").click(function(){var e=this;l.runIfCanCreateAudioContext(function(n){var o=i.fix(),r=c(n.sampleRate,o.type.value,o.frequency.value,o.detune.value,Math.pow(10,o.Q.value),o.gain.value,t);r?$(e).data("coefs",r):$(e).removeData("coefs")},p,a("options-output.filter.contextError"))})};return u.$output.append($("<div class='option only-buttons'>").append("<label>"+a("options-output.filter.biquad.clone")+":</label><span class='space'> </span>",p=$("<span>").append(f(!1)," ",f(!0)," ",o("info",a("options-output.filter.biquad.clone.info"))))),u}return t.inherits(n,e),n.prototype.getFilterNodes=function(t){var e=t.createBiquadFilter(),n=this.option.fix();return e.type=n.type.value,e.frequency.value=n.frequency.value,e.detune.value=n.detune.value,e.Q.value=Math.pow(10,n.Q.value),e.gain.value=n.gain.value,[e]},n}(r);n.exports=a},{25:25,37:37}],30:[function(e,n,i){"use strict";var o=t.taggedTemplateLiteralLoose(["	<canvas id=my.canvas width="," height=","></canvas>"],["	<canvas id=my.canvas width="," height=","></canvas>"]),r=e(18),a=e(17),s=e(36),u=function(e){function n(i){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this));return o.options=i,o}return t.inherits(n,e),n.getStyleLines=function(t,e){var n=a.b(),i=["r","g","b"],o=i.map(function(t){return e[t]+"%"}).join(),r=i.every(function(t){return 0==e[t]});return 100==e.a?r||n("canvasContext."+t+"='rgb("+o+")';"):n("canvasContext."+t+"='rgba("+o+","+(e.a/100).toFixed(2)+")';"),n.e()},n.prototype.getHtmlLines=function(t,e){var n=r.b();return t.canvas&&n("<div>",r.html(o,this.options.width,this.options.height),"</div>"),n.e()},n.prototype.getJsInitLines=function(t,e,n){var i=a.b();return t.canvas&&i("var canvas=document.getElementById('my.canvas');","var canvasContext=canvas.getContext('2d');"),i.e()},n.prototype.getJsLoopPreLines=function(t,e){var i=a.b();return t.canvas&&("clear"==this.options.background.type?i("canvasContext.clearRect(0,0,canvas.width,canvas.height);"):(i(n.getStyleLines("fillStyle",this.options.background.color)),i("canvasContext.fillRect(0,0,canvas.width,canvas.height);"))),i.e()},n}(s);n.exports=u},{17:17,18:18,36:36}],31:[function(e,n,i){"use strict";var o=e(25),r=e(3),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.initDomProps=function(){e.prototype.initDomProps.call(this),this.$warnings=$()},n.prototype.applyUpdatedCode=function(t){e.prototype.applyUpdatedCode.call(this,t),this.$warnings.css("display",this.code.isInteresting?"none":"")},n.prototype.writeButtons=function(t){var n=o("warn",t("code-output.warning.jsfiddle-run"));return e.prototype.writeButtons.call(this,t).append(" ",n)},n.prototype.writeSectionSummary=function(t,n){var i=e.prototype.writeSectionSummary.call(this,t,n);if("html"==t||"js"==t){var r=o("warn",n("code-output.warning.interesting"));i.append(" ",r),this.$warnings=this.$warnings.add(r)}return i},t.createClass(n,[{key:"defaultFormatting",get:function(){var t=e.prototype.defaultFormatting;return t.refs={context:"https://www.w3.org/TR/webaudio/#AudioContext",source:"https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode",gain:"https://www.w3.org/TR/webaudio/#GainNode",panner:"https://www.w3.org/TR/webaudio/#the-stereopannernode-interface",biquad:"https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface",iir:"https://www.w3.org/TR/webaudio/#the-iirfilternode-interface",convolver:"https://www.w3.org/TR/webaudio/#ConvolverNode",peaking:"https://www.w3.org/TR/webaudio/#idl-def-BiquadFilterType.peaking",destination:"https://www.w3.org/TR/webaudio/#AudioDestinationNode",compressor:"https://www.w3.org/TR/webaudio/#the-dynamicscompressornode-interface",analyser:"https://www.w3.org/TR/webaudio/#the-analysernode-interface"},t}}]),n}(r);n.exports=a},{25:25,3:3}],32:[function(e,n,i){"use strict";var o=e(28),r=e(45),a=e(38),s=e(34),u=e(30),c=e(18),l=e(17),p=e(16),f=e(19),d=e(26),h=function(e){function n(i,c){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.call(this));return l.i18n=c,l.featureContext={},l.features=[new o,new r(i.sources),new a(i.filters),new s(i.destination),new u(i.canvas)],l.features.forEach(function(t){t.requestFeatureContext(l.featureContext)}),l.isInteresting=!!l.featureContext.audioContext,l}return t.inherits(n,e),t.createClass(n,[{key:"basename",get:function(){return"webaudio"}},{key:"lang",get:function(){return this.i18n.lang}},{key:"title",get:function(){return this.i18n("code.title")}},{key:"styleLines",get:function(){var t=c.b();return this.featureContext.alignedInputs&&t("label {","	display: inline-block;","	width: 15em;","	text-align: right;","	line-height: 0.8em;","}",".min {","	display: inline-block;","	width: 5em;","	text-align: right;","}",".max {","	display: inline-block;","	width: 5em;","	text-align: left;","}"),this.featureContext.canvas&&t("canvas {","	border: 1px solid;","}"),t.e()}},{key:"bodyLines",get:function(){var t=this;return c.bae.apply(c,this.features.map(function(e){return e.getHtmlLines(t.featureContext,t.i18n)}))}},{key:"scriptLines",get:function(){var t,e=this,n=void 0;return p.bae.apply(p,this.features.map(function(t){var i=t.getJsInitLines(e.featureContext,e.i18n,n);return n=t.getNodeJsNames(e.featureContext,n),i}).concat([(t=f.b(l.bae("function visualize() {"),l.bae("	requestAnimationFrame(visualize);","}","requestAnimationFrame(visualize);"))).ae.apply(t,this.features.map(function(t){return t.getJsLoopPreLines(e.featureContext,e.i18n)}).concat(this.features.map(function(t){return t.getJsLoopVisLines(e.featureContext,e.i18n)})))]))}}]),n}(d);n.exports=h},{16:16,17:17,18:18,19:19,26:26,28:28,30:30,34:34,38:38,45:45}],33:[function(e,n,i){"use strict";var o=e(18),r=e(36),a=function(e){function n(i){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this)),r=new Map;i.entries.forEach(function(t){var e=o.getEntryClass(t);r.set(e,r.get(e)+1||1)});var a=new Map;return o.entries=i.entries.map(function(t){var e=o.getEntryClass(t);if(r.get(e)>1){var n=a.get(e)||0;return a.set(e,n+1),new e(t,n)}return new e(t)}),o}return t.inherits(n,e),n.prototype.getHtmlLines=function(t,e){return o.bae.apply(o,this.entries.map(function(n){return n.getHtmlLines(t,e)}))},n}(r);n.exports=a},{18:18,36:36}],34:[function(e,n,i){"use strict";var o=t.taggedTemplateLiteralLoose(["<label for=my.compressor>","</label>"],["<label for=my.compressor>","</label>"]),r=e(18),a=e(17),s=e(19),u=e(24),c=e(36),l=e(30),p=function(e){function n(i){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this));return o.options=i,o}return t.inherits(n,e),n.prototype.requestFeatureContext=function(t){t.audioProcessing&&((this.options.compressor||this.options.waveform.enabled||this.options.frequencies.enabled)&&(t.audioContext=!0),(this.options.waveform.enabled||this.options.frequencies.enabled)&&(t.canvas=!0))},n.prototype.getHtmlLines=function(t,e){var n=s.b("<div>","</div>");return t.audioProcessing&&this.options.compressor&&n("<input id=my.compressor type=checkbox checked>",r.html(o,e("label.destination.compressor"))),n.e()},n.prototype.getJsInitLines=function(t,e,n){var i=this,o=a.b();if(t.audioProcessing&&t.audioContext){if(this.options.compressor&&!function(){var t=i.options.waveform.enabled||i.options.frequencies.enabled?"analyserNode":"ctx.destination";o.apply(void 0,[u.parse("// "+e("comment.destination.compressor")),"var compressorNode=ctx.createDynamicsCompressor();"].concat(n.map(function(t){return t+".connect(compressorNode);"}))),n.length>0&&o.apply(void 0,["document.getElementById('my.compressor').onchange=function(){","	if (this.checked) {"].concat(n.map(function(e){return"		"+e+".disconnect("+t+");"}),n.map(function(t){return"		"+t+".connect(compressorNode);"}),["	} else {"],n.map(function(t){return"		"+t+".disconnect(compressorNode);"}),n.map(function(e){return"		"+e+".connect("+t+");"}),["	}","};",""])),n=["compressorNode"]}(),this.options.waveform.enabled||this.options.frequencies.enabled){var r=void 0;r=this.options.frequencies.enabled?this.options.waveform.enabled?"waveform+frequencies":"frequencies":"waveform",o.apply(void 0,[u.parse("// "+e("comment.destination."+r)),"var analyserNode=ctx.createAnalyser();"].concat(n.map(function(t){return t+".connect(analyserNode);"}))),11!=this.options.logFftSize&&o("analyserNode.fftSize="+Math.pow(2,this.options.logFftSize)+";"),o("var analyserData=new Uint8Array(analyserNode.frequencyBinCount);",""),n=["analyserNode"]}o.apply(void 0,[u.parse("// "+e("comment.destination"))].concat(n.map(function(t){return t+".connect(ctx.destination);"})))}return o.e()},n.prototype.getJsLoopVisLines=function(t,e){var n=this,i=a.b();return t.audioProcessing&&(this.options.frequencies.enabled&&i("canvasContext.save();"),this.options.frequencies.enabled&&!function(){var t="analyserData.length";100!=n.options.frequencies.cutoff&&(i("var nBars=Math.floor(analyserData.length*"+(n.options.frequencies.cutoff/100).toFixed(2)+");"),t="nBars");var e="bottom"==n.options.frequencies.base?"canvas.height-barHeight":"(canvas.height-barHeight)/2",o="amplitude"==n.options.frequencies.coloringInput?"analyserData[i]":"Math.round(i*255/"+t+")",r="component"==n.options.frequencies.coloring?"'rgb('+("+o+"+100)+',50,50)'":"'hsl('+(255-"+o+")+',100%,50%)'";if(i("var barWidth=canvas.width/"+t+"*0.8;","analyserNode.getByteFrequencyData(analyserData);","for (var i=0;i<"+t+";i++) {","	var x=i*canvas.width/"+t+";","	canvasContext.fillStyle="+r+";","	var barHeight=analyserData[i]*canvas.height/256;","	var y="+e+";","	canvasContext.fillRect(x,y,barWidth,barHeight);","}"),n.options.frequencies.outline.enabled){var u=function(e){return a.bae("for (var i=0;i<"+t+";i++) {","	var x=i*canvas.width/"+t+";","	var barHeight=analyserData[i]*canvas.height/256;","	var y="+e+";","	if (i==0) {","		canvasContext.moveTo(0,y);","	}","	canvasContext.lineTo(x+barWidth/2,y);","	if (i=="+t+"-1) {","		canvasContext.lineTo(canvas.width,y);","	}","}")};1!=n.options.frequencies.outline.width&&i("canvasContext.lineWidth="+n.options.frequencies.outline.width+";"),i(l.getStyleLines("strokeStyle",n.options.frequencies.outline.color)),i("canvasContext.beginPath();"),i("bottom"==n.options.frequencies.base?u(e):s.b(a.bae(";[-1,+1].forEach(function(aboveOrBelow){"),a.bae("});")).ae(u("(canvas.height+aboveOrBelow*barHeight)/2"))),i("canvasContext.stroke();")}}(),this.options.waveform.enabled&&this.options.frequencies.enabled&&(i("canvasContext.restore();"),i("canvasContext.save();")),this.options.waveform.enabled&&(1!=this.options.waveform.width&&i("canvasContext.lineWidth="+this.options.waveform.width+";"),i(l.getStyleLines("strokeStyle",this.options.waveform.color),"analyserNode.getByteTimeDomainData(analyserData);","canvasContext.beginPath();","for (var i=0;i<analyserData.length;i++) {","	var x=i*canvas.width/analyserData.length;","	var y=analyserData[i]*canvas.height/256;","	if (i==0) {","		canvasContext.moveTo(x,y);","	} else {","		canvasContext.lineTo(x,y);","	}","}","canvasContext.stroke();")),this.options.frequencies.enabled&&i("canvasContext.restore();")),i.e()},n.prototype.getNodeJsNames=function(t,e){return t.audioProcessing&&t.audioContext?["ctx.destination"]:e},n}(c);n.exports=p},{17:17,18:18,19:19,24:24,30:30,36:36}],35:[function(e,n,i){"use strict";var o=e(42),r=e(37),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getFilterNodes=function(t){var e=this.option.fix();return o.EqualizerFilter.frequencies.map(function(n){var i=t.createBiquadFilter();return i.type="peaking",i.frequency.value=n,i.gain.value=e["gain"+n].value,i})},n}(r);n.exports=a},{37:37,42:42}],36:[function(e,n,i){"use strict";var o=e(18),r=function(){function e(){t.classCallCheck(this,e)}return e.prototype.requestFeatureContext=function(t){},e.prototype.getHtmlLines=function(t,e){return o.be()},e.prototype.getJsInitLines=function(t,e,n){return o.be()},e.prototype.getJsLoopPreLines=function(t,e){return o.be()},e.prototype.getJsLoopVisLines=function(t,e){return o.be()},e.prototype.getNodeJsNames=function(t,e){return e},e}();n.exports=r},{18:18}],37:[function(e,n,i){"use strict";var o=e(8),r=e(11),a=e(12),s=300,u=300,c=30,l=10,p=10,f=3,d=10,h=void 0,v=void 0,y=void 0,m=void 0,g=void 0,b=void 0,C=void 0,w=void 0,x=void 0,k=function(t){return Math.log(t)/Math.LN10},q=function(t,e,n){return t*(1-n)+e*n},L=function(e){function n(i,a,d,k){t.classCallCheck(this,n);var L=t.possibleConstructorReturn(this,e.call(this,i,a,d,k)),N=$(),A=function(){return N.length>0},F=void 0,S=void 0,I=!0,M=!1,E=function(t){function e(t,e){return t%=2*e,Math.abs(t)<=e?t:t-(t>0?1:-1)*e*2}for(var n=function(t){for(var e=function(e,n){var i=e>=0,o=n<t.length,r=void 0,a=void 0;i||o?(r=i?t[e]:t[n],a=o?t[n]:t[e]):r=a=0;for(var s=e+1;n>s;s++){var u=(s-e)/(n-e);t[s]=q(r,a,u)}},n=-1,i=0;i<t.length;i++)isFinite(t[i])?n>=0&&(e(n-1,i),n=-1):0>n&&(n=i);n>=0&&e(n-1,t.length)},i=M?y:v,o=0;o<b.length;o++)b[o]=1;for(var a=0;a<C.length;a++)C[a]=0;if(t.forEach(function(t){t.getFrequencyResponse(i,w,x),n(w),n(x);for(var e=0;e<b.length;e++)b[e]*=w[e];for(var o=0;o<C.length;o++)C[o]+=x[o]}),I)for(var h=0;s>h;h++)b[h]=20*Math.log(b[h])/Math.LN10;for(var k=0,$=0,L=0;s>L;L++){var N=e(C[L]/Math.PI,1);k+=$>N&&$-N>N+2-$,k-=N>$&&N-$>$-(N-2),$=N,C[L]=$+2*k}var A=function(t,e,n,o,a,h,v){var y,b,C=void 0,w=void 0,x=function(t,e){var n=c/u;C=((t+e)*n-t)/(2*n-1),w=((t+e)*n-e)/(2*n-1)},k=(y=Math).min.apply(y,e),q=(b=Math).max.apply(b,e),$=Math.max(k,h)-o,L=Math.max(q,h)-o;x(o+Math.min(0,-a+Math.max(0,L-a),$),o+Math.max(0,a-Math.max(0,-a-$),L));var N=function(t){return u*(1-(t-C)/(w-C))},A=function(t,e){var n=Math.log(e-t)-Math.log(l),i=void 0,o=1/0;[1,2,5].forEach(function(t){var e=Math.ceil((n-Math.log(t))/Math.LN10);o>e&&(o=e,i=t)});for(var r=i*Math.pow(10,o),a=Math.ceil(t/r)*r,s=[],u=a;e>u;u+=r)s.push(u);return[s,0>o?-o:0]},F=function(e,n,i,o,r,a){var u;t.save(),t.translate(0,.5),t.fillStyle="#444",t.font=p+"px",t.textAlign="right";for(var c=function(t){return""+d.number(t)+r},l=(u=Math).max.apply(u,n.map(function(e){return t.measureText(c(e)).width})),h=function(r){var u=Math.round(i(e[r])),d=function(){t.beginPath(),t.moveTo(0,u),t.lineTo(s,u),t.stroke()},h=a(Number(n[r]));h&&(t.strokeStyle="rgba(70%,70%,100%,0.3)",t.setLineDash([]),t.lineWidth=3,d()),t.strokeStyle=h?"#000":"#888",t.setLineDash([1]),t.lineWidth=1,d(),u-f-p>o&&t.fillText(c(n[r]),f+l,u-f)},v=0;v<e.length;v++)h(v);return t.restore(),l},S=function(){var t=A(C,w),e=r.apply(void 0,t);return F(t[0],e,N,0,n,v)},I=function(e){t.save(),t.rotate(-Math.PI/2),t.translate(-u,0);var n=void 0,o=void 0,a=void 0;M?(n=function(t){return s*(t-m)/(g-m)},o=A(m,g),a=r(o[0].map(function(t){return Math.pow(10,t)}),0)):(n=function(t){return s*(t-i[0])/(i[s-1]-i[0])},o=A(i[0],i[s-1]),a=r.apply(void 0,o)),F(o[0],a,n,f+e," "+d("units.hertz.a"),function(t){return!1}),t.restore()},E=function(){t.save(),t.translate(.5,.5),t.strokeStyle="#F00",t.beginPath();for(var n=0;s>n;n++){var i=n,o=N(e[n]);0==n?t.moveTo(i,o):t.lineTo(i,o)}t.stroke(),t.restore()};t.clearRect(0,0,s,u);var R=S();I(R),E()};I?A(F,b," "+d("units.decibel.a"),0,1,-100,function(t){return 0==t}):A(F,b,"",1,.1,0,function(t){return 0==t||1==t}),A(S,C,"π",0,.1,-(1/0),function(t){return t%2==0})},R=o(function(){try{E(L.getFilterNodes(h))}catch(t){}},50),j=void 0,P=L;return L.$output.append(j=$("<div class='option only-buttons'>").append("<label>"+d("options-output.filter.frequencyResponse")+":</label><span class='space'> </span>",$("<button type='button'>"+d("options-output.show")+"</button>").click(function(){var t=$(this);A()?(N.remove(),N=$(),t.text(d("options-output.show")),j.addClass("only-buttons")):P.runIfCanCreateAudioContext(function(e){var n=void 0;try{n=P.getFilterNodes(e)}catch(i){return void t.replaceWith(d("options-output.filter.nodeError"))}var o=void 0,r=void 0;N=N.add($("<span>").append(" ",$("<label class='nowrap'>").append($("<input type='checkbox'>").prop("checked",I).change(function(){I=$(this).prop("checked"),R()})," "+d("options-output.filter.logMagnitude"))," ",$("<label class='nowrap'>").append($("<input type='checkbox'>").prop("checked",M).change(function(){M=$(this).prop("checked"),R()})," "+d("options-output.filter.logFrequency"))," ")).add($("<div>").append($("<figure>").append("<figcaption>"+d("options-output.filter.magnitude")+"</figcaption>",o=$("<canvas width='"+s+"' height='"+u+"'></canvas>")),$("<figure>").append("<figcaption>"+d("options-output.filter.phase")+"</figcaption>",r=$("<canvas width='"+s+"' height='"+u+"'></canvas>")))),t.after(N).text(d("options-output.hide")),F=o[0].getContext("2d"),S=r[0].getContext("2d"),E(n),j.removeClass("only-buttons")},t,d("options-output.filter.contextError"))}))),i.addUpdateCallback(function(){A()&&R()}),L}return t.inherits(n,e),n.prototype.runIfCanCreateAudioContext=function(t,e,n){var i=function(){h=new(AudioContext||webkitAudioContext),v=new Float32Array(s),y=new Float32Array(s),b=new Float32Array(s),C=new Float32Array(s),w=new Float32Array(s),x=new Float32Array(s);for(var t=h.sampleRate/2,e=k(d),n=k(t),i=0;s>i;i++){var o=(i+.5)/s;v[i]=t*o,y[i]=Math.pow(10,q(e,n,o))}m=q(e,n,.5/s),g=q(e,n,1-.5/s)};if(!h)try{i()}catch(o){return void e.replaceWith(n)}t(h)},n}(a);n.exports=L},{11:11,12:12,8:8}],38:[function(e,n,i){"use strict";var o=t.taggedTemplateLiteralLoose(["<abbr title=",">"],["<abbr title=",">"]),r=t.taggedTemplateLiteralLoose(["<label for=",">",":</label>"],["<label for=",">",":</label>"]),a=t.taggedTemplateLiteralLoose(["<input id="," type=range value="," min="," max="," step=",">"],["<input id="," type=range value="," min="," max="," step=",">"]),s=t.taggedTemplateLiteralLoose(["<select id=",">"],["<select id=",">"]),u=t.taggedTemplateLiteralLoose(["<option selected="," value=",">","</option>"],["<option selected="," value=",">","</option>"]),c=t.taggedTemplateLiteralLoose(["<span id=",">","</span>"],["<span id=",">","</span>"]),l=e(6),p=e(11),f=e(18),d=e(17),h=e(27),v=e(19),y=e(16),m=e(24),g=e(42),b=e(33),C=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getPropertyOptionName=function(t){return"options.filters."+this.type+"."+t.name},e.prototype.getPropertyInputHtmlName=function(t){return"my."+this.type+this.nSuffix+"."+t},e.prototype.getPropertyInputJsName=function(t){return l(this.type+this.nSuffix+"."+t+".input")},e.prototype.requestFeatureContext=function(t){var e=this,n=this.nodeProperties.some(function(t){if("range"==t.type){var n=e.options[t.name];return n.input}return!1});n&&(t.alignedInputs=!0)},e.prototype.getHtmlPropertyLines=function(t,e){var n=this;if(e.skip)return f.be();var i=this.options[e.name],l=this.getPropertyInputHtmlName(e.name),d=f.b();if("range"==e.type&&i.input){var v=i.precision,y=p.html({min:i.min,max:i.max,value:i.value},v),m=p({min:i.min,max:i.max},v),g=function(e){return t.numberWithUnits(e,i.unit,function(t,e){return f.html(o,e)+t+"</abbr>"})};d(f.html(r,l,t(this.getPropertyOptionName(e))),"<span class=min>"+g(m.min)+"</span>",f.html(a,l,y.value,y.min,y.max,v?Math.pow(.1,v).toFixed(v):!1),"<span class=max>"+g(m.max)+"</span>")}else if("select"==e.type&&i.input){var b;d(f.html(r,l,t(this.getPropertyOptionName(e))),(b=h.b(f.html(s,l),"</select>")).ae.apply(b,i.availableValues.map(function(o){var r=t(n.getPropertyOptionName(e)+"."+o);return f.html(u,i.value==o,o!=r&&o,r)})))}else"xhr"==e.type&&d(f.html(c,l,t(this.getPropertyOptionName(e)+".loading")));return d.e()},e.prototype.getHtmlLines=function(t,e){var n=this;return f.bae.apply(f,this.nodeProperties.map(function(t){return v.b("<div>","</div>").ae(n.getHtmlPropertyLines(e,t))}))},e.prototype.getJsInitLines=function(t,e){var n=this;return d.bae.apply(d,[m.parse("// "+t("comment.filters."+this.type)),"var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"();"].concat(e.map(function(t){return t+".connect("+n.nodeJsName+");"})))},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"nodeJsName",get:function(){return l(this.type+this.nSuffix+".node")}},{key:"skipNode",get:function(){return!1}},{key:"nodeJsNames",get:function(){return[this.nodeJsName]}}]),e}(),w=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,n){var i=this;return f.bae.apply(f,[e.prototype.getJsInitLines.call(this,t,n)].concat(this.nodeProperties.map(function(t){if(t.skip)return f.be();var e=i.options[t.name],n=i.nodeJsName+"."+t.name+("range"==t.type?".value":""),o=d.b();if(e.input){var r=i.getPropertyInputJsName(t.name),a=i.getPropertyInputHtmlName(t.name),s=r+".value";t.fn&&(s=t.fn(s));var u="range"==t.type?"oninput":"onchange";o("var "+r+"=document.getElementById('"+a+"');",";("+r+"."+u+"=function(){","	"+n+"="+s+";","})();")}else if(e.value!=e.defaultValue){var c=e.value;"select"==t.type&&(c="'"+c+"'"),t.fn&&(c=t.fn(c)),o(n+"="+c+";")}return o.e()})))},n}(C),x=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"skipNode",get:function(){var t=this;return this.nodeProperties.every(function(e){var n=t.options[e.name];return n.value==n.defaultValue&&!n.input})}}]),n}(w),k={gain:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"gain"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}},{key:"nodeProperties",get:function(){return[{name:"gain",type:"range"}]}}]),n}(x),panner:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"panner"}},{key:"ctxCreateMethodName",get:function(){return"createStereoPanner"}},{key:"nodeProperties",get:function(){return[{name:"pan",type:"range"}]}}]),n}(x),biquad:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"biquad"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"nodeProperties",get:function(){return[{name:"type",type:"select"},{name:"frequency",type:"range"},{name:"detune",type:"range"},{name:"Q",type:"range",fn:function(t){return"Math.pow(10,"+t+")"},skip:!this.options.type.input&&!g.BiquadFilter.typeUsesQ(this.options.type.value)},{name:"gain",type:"range",skip:!this.options.type.input&&!g.BiquadFilter.typeUsesGain(this.options.type.value)}]}},{key:"skipNode",get:function(){return!this.options.type.input&&["lowshelf","highshelf","peaking"].indexOf(this.options.type.value)>=0&&!this.options.gain.input&&0==this.options.gain}}]),n}(w),iir:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,e){var n=this;return d.bae.apply(d,[m.parse("// "+t("comment.filters."+this.type)),"var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"(["+this.options.feedforward.entries+"],["+this.options.feedback.entries+"]);"].concat(e.map(function(t){return t+".connect("+n.nodeJsName+");"})))},t.createClass(n,[{key:"type",get:function(){return"iir"}},{key:"ctxCreateMethodName",get:function(){return"createIIRFilter"}},{key:"nodeProperties",get:function(){return[]}}]),n}(w),convolver:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,e){var n=this,i=this.getPropertyInputHtmlName("buffer"),o=d.b();if(o(this.options.reverb.input||1!=this.options.reverb?m.parse("// "+t("comment.filters."+this.type)):m.parse("// "+t("comment.filters."+this.type+".single"))),o.apply(void 0,["var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"();"].concat(e.map(function(t){return t+".connect("+n.nodeJsName+");"}))),(this.options.reverb.input||1!=this.options.reverb)&&(o.apply(void 0,["var "+this.wetGainNodeJsName+"=ctx.createGain();",this.nodeJsName+".connect("+this.wetGainNodeJsName+");","var "+this.dryGainNodeJsName+"=ctx.createGain();"].concat(e.map(function(t){return t+".connect("+n.dryGainNodeJsName+");"}))),this.options.reverb.input)){var r=this.getPropertyInputHtmlName("reverb"),a=this.getPropertyInputJsName("reverb");o("var "+a+"=document.getElementById('"+r+"');",";("+a+".oninput=function(){","	"+this.wetGainNodeJsName+".gain.value="+a+".value;","	"+this.dryGainNodeJsName+".gain.value=1-"+a+".value;","})();")}return o("var xhr=new XMLHttpRequest();","xhr.open('GET','"+this.options.url+"');","xhr.responseType='arraybuffer';","xhr.onload=function(){","	if (this.status==200) {","		ctx.decodeAudioData(this.response,function(buffer){","			"+this.nodeJsName+".buffer=buffer;","			document.getElementById('"+i+"').textContent='';","		});","	} else {","		this.onerror();","	}","};","xhr.onerror=function(){","	document.getElementById('"+i+"').textContent='"+t("options.filters.convolver.buffer.error")+"';","};","xhr.send();"),o.e()},t.createClass(n,[{key:"type",get:function(){return"convolver"}},{key:"ctxCreateMethodName",get:function(){return"createConvolver"}},{key:"nodeProperties",
get:function(){return[{name:"reverb",type:"range"},{name:"buffer",type:"xhr"}]}},{key:"dryGainNodeJsName",get:function(){return l(this.type+this.nSuffix+".dry.gain.node")}},{key:"wetGainNodeJsName",get:function(){return l(this.type+this.nSuffix+".wet.gain.node")}},{key:"skipNode",get:function(){return 0==this.options.reverb&&!this.options.reverb.input}},{key:"nodeJsNames",get:function(){return this.options.reverb.input||1!=this.options.reverb?[this.wetGainNodeJsName,this.dryGainNodeJsName]:[this.nodeJsName]}}]),n}(C),equalizer:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getFrequencyOption=function(t){return this.options[this.nodeProperties[t].name]},n.prototype.requestFeatureContext=function(t){this.allGainsConstant||(t.alignedInputs=!0)},n.prototype.getJsInitLines=function(t,e){var n=this,i=1==this.affectedFreqsAndOptions.length,o=this.affectedFreqsAndOptions.every(function(t){return 0==t.option.input}),r=this.affectedFreqsAndOptions.every(function(t){return 1==t.option.input}),a=function(){return n.affectedFreqsAndOptions.map(function(t){return r?t.freq:"["+t.freq+","+(t.option.input?"null":t.option.value)+"]"}).join()},s=function(){return r?"freq":"freqData"},u=function(){var t=i?n.affectedFreqsAndOptions[0].freq:"freq",a=i?n.affectedFreqsAndOptions[0].option.value:"gain",s=o||i?n.nodeJsName:"node",u=i?n.getPropertyInputJsName("gain"+t):"input",c=i?"'"+n.getPropertyInputHtmlName("gain"+t)+"'":"'"+n.getPropertyInputHtmlName("gain")+"'+freq",l=d.b();r||i||l("var freq=freqData[0], gain=freqData[1];"),l(o&&!i?"":"var "),l.t(s+"=ctx."+n.ctxCreateMethodName+"();"),i?l.apply(void 0,e.map(function(t){return t+".connect("+s+");"})):1==e.length?l("prevNode.connect("+s+");"):l("prevNodes.forEach(function(prevNode){","	prevNode.connect("+s+");","});"),l(s+".type='peaking';",s+".frequency.value="+t+";");var p=d.bae(s+".gain.value="+a+";"),f=d.bae("var "+u+"=document.getElementById("+c+");",";("+u+".oninput=function(){","	"+s+".gain.value="+u+".value;","})();");if(!r&&o?l(p):r&&!o?l(f):r||o||l(h.b("if (gain!==null) {","} else {","}").ae(p,f)),!i){var v=o?s:n.nodeJsName+"="+s;l(1==e.length?"prevNode="+v+";":"prevNodes=["+v+"];")}return l.e()};if(i)return d.bae(m.parse("// "+t("comment.filters."+this.type+".single")),u());var c=d.b();return c(m.parse("// "+t("comment.filters."+this.type))),c(1==e.length?"var prevNode="+e[0]+";":"var prevNodes=["+e.join()+"];"),c("var "+this.nodeJsName+";",h.b(d.bae(";["+a()+"].forEach(function("+s()+"){"),d.bae("});")).ae(u())),c.e()},t.createClass(n,[{key:"type",get:function(){return"equalizer"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"frequencies",get:function(){return g.EqualizerFilter.frequencies}},{key:"nodeProperties",get:function(){return this.frequencies.map(function(t){return{name:"gain"+t,type:"range"}})}},{key:"affectedFreqsAndOptions",get:function(){var t=this;return this.frequencies.map(function(e,n){var i=t.getFrequencyOption(n);return{freq:e,option:i}}).filter(function(t){return 0!=t.option.input||0!=t.option.value})}},{key:"skipNode",get:function(){return 0==this.affectedFreqsAndOptions.length}}]),n}(C)},q=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return k[t.filter]},n.prototype.requestFeatureContext=function(t){t.audioProcessing&&this.entries.forEach(function(e){e.skipNode||(t.audioContext=!0,e.requestFeatureContext(t))})},n.prototype.getHtmlLines=function(t,e){return t.audioProcessing?f.bae.apply(f,this.entries.filter(function(t){return!t.skipNode}).map(function(n){return n.getHtmlLines(t,e)})):f.be()},n.prototype.getJsInitLines=function(t,e,n){return t.audioProcessing?y.bae.apply(y,this.entries.filter(function(t){return!t.skipNode}).map(function(t){var i=t.getJsInitLines(e,n);return n=t.nodeJsNames,i})):f.be()},n.prototype.getNodeJsNames=function(t,e){return t.audioProcessing?(this.entries.forEach(function(t){t.skipNode||(e=t.nodeJsNames)}),e):e},n}(b);n.exports=q},{11:11,16:16,17:17,18:18,19:19,24:24,27:27,33:33,42:42,6:6}],39:[function(t,e,n){"use strict";var i="https://webaudio.github.io/web-audio-api/",o=function(t){return"<a href='https://github.com/WebAudio/web-audio-api/issues/"+t+"'>"+t+"</a>"},r="https://github.com/GoogleChrome/web-audio-samples/wiki/Detection-of-lowpass-BiquadFilter-implementation",a="{<span style='color:#800'>red</span>,<span style='color:#080'>green</span>,<span style='color:#008'>blue</span>,opacity}",s="{<span style='color:#800'>Красный</span> ,<span style='color:#080'>Зелёный</span> ,<span style='color:#008'>Синий</span> ,Альфа-}канал",u={en:{"options.sources":"Sources","options.sources.{audio,video}":"{Audio,Video} element","options.sources.{audio,video}.add":"Add {} element","options.sources.{audio,video}.url":"Source URL","options.sources.video.{width,height}":"Player {}","options.filters":"Filters","options.filters.gain":"Gain","options.filters.gain.add":"Add gain","options.filters.gain.gain":"Gain","options.filters.panner":"Stereo panner","options.filters.panner.add":"Add stereo panner","options.filters.panner.pan":"Pan","options.filters.biquad":"Biquad filter","options.filters.biquad.add":"Add biquad filter","options.filters.biquad.type":"Filter type","options.filters.biquad.type.{lowpass,highpass,bandpass,lowshelf,highshelf,peaking,notch,allpass}":"{}","options.filters.biquad.frequency":"Frequency","options.filters.biquad.detune":"Detune","options.filters.biquad.Q":"log(Q)","options.filters.biquad.gain":"Gain","options.filters.iir":"IIR filter","options.filters.iir.add":"Add IIR filter","options.filters.iir.feedforward":"Feedforward coefficients","options.filters.iir.feedforward.b":"b","options.filters.iir.feedforward.b.add":"Add coefficient","options.filters.iir.feedback":"Feedback coefficients","options.filters.iir.feedback.a":"a","options.filters.iir.feedback.a.add":"Add coefficient","options.filters.convolver":"Convolver","options.filters.convolver.add":"Add convolver","options.filters.convolver.url":"Impulse responce URL","options.filters.convolver.reverb":"Reverb (dry/wet)","options.filters.convolver.buffer.loading":"Loading and decoding the impulse response","options.filters.convolver.buffer.error":"Error while loading the impulse response","options.filters.equalizer":"Equalizer","options.filters.equalizer.add":"Add equalizer","options.filters.equalizer.gain{60,170,350,1000,3500,10000}":"{} Hz gain","options.destination":"Destination","options.destination.compressor":"Add dynamics compressor before the destination","options.destination.{waveform,frequencies}":"{Waveform,Frequencies} visualization","options.destination.{waveform,frequencies}.enabled":"Enable {} visualization","options.destination.waveform.width":"Waveform line width","options.destination.waveform.color":"Waveform line color","options.destination.waveform.color.{r,g,b,a}":"Waveform line "+a,"options.destination.frequencies.cutoff":"Limit plot to a fraction of low frequences","options.destination.frequencies.base":"Frequency bars extend from","options.destination.frequencies.base.{bottom,middle}":"{} of canvas","options.destination.frequencies.coloring":"Frequency bars coloring","options.destination.frequencies.coloring.component":"with single color component","options.destination.frequencies.coloring.spectral":"spectral","options.destination.frequencies.coloringInput":"Frequency bars color depends on","options.destination.frequencies.coloringInput.{amplitude,frequency}":"{}","options.destination.frequencies.outline":"Frequency bars outline","options.destination.frequencies.outline.enabled":"Enable frequency bars outline","options.destination.frequencies.outline.width":"Frequency bars outline width","options.destination.frequencies.outline.color":"Frequency bars outline color","options.destination.frequencies.outline.color.{r,g,b,a}":"Frequency bars outline "+a,"options.destination.logFftSize":"FFT size (power of 2)","options.canvas":"Canvas","options.canvas.{width,height}":"Canvas {}","options.canvas.background":"Background","options.canvas.background.type":"Background type","options.canvas.background.type.{clear,filled}":"{}","options.canvas.background.color":"Background fill color","options.canvas.background.color.{r,g,b,a}":"Background fill "+a,"options-info.destination.logFftSize":"[[Fast Fourier transform]] size for the waveform/frequency visualization. Use a larger size to get finer details of the waveform and thinner frequency bars.","options-info.canvas.background.color.a":"Lower opacity values lead to a blur effect.","options-output.input":"Editable","options-output.range":"with range","options-output.filter.frequencyResponse":"Frequency response","options-output.filter.magnitude":"Magnitude","options-output.filter.phase":"Phase","options-output.filter.logMagnitude":"log magnitude scale","options-output.filter.logFrequency":"log frequency scale","options-output.filter.contextError":"Error creating audio context. Your browser likely doesn't support Web Audio API.","options-output.filter.nodeError":"Error creating filter node. Your browser likely doesn't support this filter type.","options-output.filter.biquad.clone":"Clone as IIR filter","options-output.filter.biquad.clone.{pre,post}":"Clone with {}-2016-04-15 coefficients","options-output.filter.biquad.clone.info":"<a href='"+i+"'>The API specification</a> was self-contradictory and implementations weren't following it. Additionally, it was discovered that filter coefficient formulas need to be changed to accomodate a wider range of lowpass and highpass filters. See Web Audio API issues "+o(769)+", "+o(771)+" and "+o(791)+" for details. A possible method to check if an implementation has switched to the updated formulas is offered <a href='"+r+"'>here</a>.","options-output.show":"Show","options-output.hide":"Hide","code-output.warning.jsfiddle-run":"You may have to click <kbd>Run</kbd> in JSFiddle to get sound output working","code-output.warning.interesting":"You need at least one source and some processing enabled to get interesting JavaScript code","code.title":"Web Audio API example — generated code","label.destination.compressor":"Enable dynamics compressor","comment.context":"create [audio context][context]","comment.sources.audio":"create [audio source node][source]","comment.sources.video":"create [video source node][source]","comment.filters.gain":"create [gain node][gain]","comment.filters.panner":"create [stereo panner node][panner]","comment.filters.biquad":"create [biquad filter node][biquad]","comment.filters.iir":"create [IIR filter node][iir]","comment.filters.convolver":"create dry and wet routes with [convolver node][convolver]","comment.filters.convolver.single":"create [convolver node][convolver]","comment.filters.equalizer":"create equalizer as a sequence of [peaking][peaking] [biquad filter nodes][biquad]","comment.filters.equalizer.single":"create equalizer as a [peaking][peaking] [biquad filter node][biquad]","comment.destination":"connect last node to [destination][destination]","comment.destination.compressor":"create [dynamics compressor node][compressor]","comment.destination.{waveform,frequencies,waveform+frequencies}":"create [analyser node][analyser] for {waveform,frequencies,waveform and frequencies} visualization","units.pixel.a":"px","units.pixel.{1,2}":"pixel{,s}","units.hertz.a":"Hz","units.hertz.{1,2}":"Hertz","units.decibel.a":"dB","units.decibel.{1,2}":"decibel{,s}"},ru:{"options.sources":"Источники","options.sources.{audio,video}":"Элемент <code>{}</code>","options.sources.{audio,video}.add":"Добавить элемент <code>{}</code>","options.sources.{audio,video}.url":"URL источника","options.sources.video.{width,height}":"{Ширина,Высота} проигрывателя","options.filters":"Фильтры","options.filters.gain":"Усилитель","options.filters.gain.add":"Добавить усилитель","options.filters.gain.gain":"Коэффициент усиления","options.filters.panner":"Панорамирование","options.filters.panner.add":"Добавить панорамирование","options.filters.panner.pan":"Баланс","options.filters.biquad":"Биквадратичный фильтр","options.filters.biquad.add":"Добавить биквадратичный фильтр","options.filters.biquad.type":"Тип фильтра","options.filters.biquad.type.lowpass":"нижних частот","options.filters.biquad.type.highpass":"верхних частот","options.filters.biquad.type.bandpass":"полосовой","options.filters.biquad.type.{lowshelf,highshelf,peaking}":"{}","options.filters.biquad.type.notch":"полосно-заграждающий","options.filters.biquad.type.allpass":"всепропускающий","options.filters.biquad.frequency":"Частота","options.filters.biquad.detune":"Detune","options.filters.biquad.Q":"Логарифм добротности","options.filters.biquad.gain":"Усиление","options.filters.iir":"БИХ-фильтр","options.filters.iir.add":"Добавить БИХ-фильтр","options.filters.iir.feedforward":"Коэффициенты прямой связи","options.filters.iir.feedforward.b":"b","options.filters.iir.feedforward.b.add":"Добавить коэффициент","options.filters.iir.feedback":"Коэффициенты обратной связи","options.filters.iir.feedback.a":"a","options.filters.iir.feedback.a.add":"Добавить коэффициент","options.filters.convolver":"Свёртка","options.filters.convolver.add":"Добавить свёртку","options.filters.convolver.url":"URL импульсной характеристики","options.filters.convolver.reverb":"Соотношение прямого/обработанного звука","options.filters.convolver.buffer.loading":"Идёт загрузка и декодирование импульсной характеристики","options.filters.convolver.buffer.error":"Ошибка загрузки импульсной характеристики","options.filters.equalizer":"Эквалайзер","options.filters.equalizer.add":"Добавить эквалайзер","options.filters.equalizer.gain{60,170,350,1000,3500,10000}":"Усиление частоты {} Гц","options.destination":"Выход","options.destination.compressor":"Добавить компрессор перед выходом","options.destination.{waveform,frequencies}":"Визуализация {формы волны,частот}","options.destination.{waveform,frequencies}.enabled":"Включить визуализацию {формы волны,частот}","options.destination.waveform.width":"Ширина линии волны","options.destination.waveform.color":"Цвет линии волны","options.destination.waveform.color.{r,g,b,a}":s+" линии волны","options.destination.frequencies.cutoff":"Ограничить рисование долей низких частот","options.destination.frequencies.base":"Полосы частот растут от","options.destination.frequencies.base.{bottom,middle}":"{низа,середины} элемента <code>canvas</code>","options.destination.frequencies.coloring":"Раскраска полос частот","options.destination.frequencies.coloring.component":"одним цветовым каналом","options.destination.frequencies.coloring.spectral":"спектральная","options.destination.frequencies.coloringInput":"Цвет полос зависит от","options.destination.frequencies.coloringInput.{amplitude,frequency}":"{амплитуды,частоты}","options.destination.frequencies.outline":"Контур полос частот","options.destination.frequencies.outline.enabled":"Включить рисование контура частот","options.destination.frequencies.outline.width":"Ширина контура частот","options.destination.frequencies.outline.color":"Цвет контура частот","options.destination.frequencies.outline.color.{r,g,b,a}":s+" контура частот","options.destination.logFftSize":"Размер БПФ (степень 2)","options.canvas":"Элемент <code>canvas</code>","options.canvas.{width,height}":"{Ширина,Высота} элемента <code>canvas</code>","options.canvas.background":"Фон","options.canvas.background.type":"Тип фона","options.canvas.background.type.{clear,filled}":"{прозрачный,закрашенный}","options.canvas.background.color":"Цвет фона","options.canvas.background.color.{r,g,b,a}":s+" фона","options-info.destination.logFftSize":"Размер [[Быстрое преобразование Фурье|Быстрого преобразования Фурье]] для визуализаций формы волны и частот. Больший размер даёт более детализированную форму волны и более тонкие полосы частот.","options-info.canvas.background.color.a":"Низкие значения альфа-канала приводят к эффекту размывания.","options-output.input":"Значение изменяемо","options-output.range":"в диапазоне","options-output.filter.frequencyResponse":"Частотная характеристика","options-output.filter.magnitude":"Амплитуда","options-output.filter.phase":"Фаза","options-output.filter.logMagnitude":"логарифмическая шкала амплитуды","options-output.filter.logFrequency":"логарифмическая шкала частоты","options-output.filter.contextError":"Ошибка создания аудио-контекста. Вероятно, браузер не поддерживает Web Audio API.","options-output.filter.nodeError":"Ошибка создания узла фильтра. Вероятно, браузер не поддерживает данный тип фильтров.","options-output.filter.biquad.clone":"Клонировать в виде БИХ-фильтра","options-output.filter.biquad.clone.{pre,post}":"Клонировать с коэффициентами по версиям {до,после} 2016-04-15","options-output.filter.biquad.clone.info":"<a href='"+i+"'>Спецификация API</a> была противоречива и реализации ей не следовали. Также было обнаружено, что формулы для коэффициентов фильтров должны быть изменены, чтобы стало возможно задавать некоторые фильтры низких и высоких частот, которые ранее задать было невозможно. Подробности можно узнать из Web Audio API issues "+o(769)+", "+o(771)+" и "+o(791)+". Возможный метод обнаружения, перешла ли реализация на новые формулы, приводится <a href='"+r+"'>здесь</a>.","options-output.show":"Показать","options-output.hide":"Скрыть","code-output.warning.jsfiddle-run":"Для корректного вывода звука в JSFiddle может потребоваться нажатие кнопки <kbd>Run</kbd>","code-output.warning.interesting":"Для нетривиального JavaScript-кода нужно включить по крайней мере один источник и последующую обработку звука","code.title":"Пример использования Web Audio API — сгенерированный код","label.destination.compressor":"Включить компрессор","comment.context":"создаём [аудио-контекст][context]","comment.sources.audio":"создаём [узел источника аудио][source]","comment.sources.video":"создаём [узел источника видео][source]","comment.filters.gain":"создаём [узел усилителя][gain]","comment.filters.panner":"создаём [узел панорамирования][panner]","comment.filters.biquad":"создаём [узел биквадратичного фильтра][biquad]","comment.filters.iir":"создаём [узел БИХ-фильтра][iir]","comment.filters.convolver":"создаём прямой путь и путь через [узел свёртки][convolver]","comment.filters.convolver.single":"создаём [узел свёртки][convolver]","comment.filters.equalizer":"создаём эквалайзер в виде последовательности [peaking][peaking] [биквадратичных фильтров][biquad]","comment.filters.equalizer.single":"создаём эквалайзер в виде [peaking][peaking] [биквадратичного фильтра][biquad]","comment.destination":"соединяем последний узел с [выходом][destination]","comment.destination.compressor":"создаём [узел компрессора][compressor]","comment.destination.{waveform,frequencies,waveform+frequencies}":"создаём [узел анализатора][analyser] для визуализации {формы волны,частот,формы волны и частот}","units.pixel.a":"px","units.pixel.{1,2,5}":"пиксел{ь,я,ей}","units.hertz.a":"Гц","units.hertz.{1,2,5}":"Герц{,а,}","units.decibel.a":"дБ","units.decibel.{1,2,5}":"децибел{,а,ов}"}};for(var c in u){var l=u[c];l=t(13)(l),l=t(14)(c)(l),l=t(21)(c)(l),l=t(2)(c)(l),u[c]=l}e.exports=t(15)(u)},{13:13,14:14,15:15,2:2,21:21}],40:[function(e,n,i){"use strict";var o=e(37),r=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getFilterNodes=function(t){return[t.createIIRFilter(this.option.entries[0].entries.map(function(t){return t.value}),this.option.entries[1].entries.map(function(t){return t.value}))]},n}(o);n.exports=r},{37:37}],41:[function(t,e,n){"use strict";function i(){return"webaudio-starter-id-"+o++}var o=0,r=t(39),a=t(44),s=t(32),u=t(43),c=t(31);$(function(){$(".webaudio-starter").each(function(){var t=$(this),e=t.closest("[lang]").attr("lang"),n=r(e),o=new a,l=new c(function(){return new s(o.fix(),n)},n);o.addUpdateCallback(l.update);var p=new u(o,i,n);t.empty().append(p.$output,l.$output)})})},{31:31,32:32,39:39,43:43,44:44}],42:[function(e,n,i){"use strict";var o=Object.create(e(20));o.LiveNumber=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=void 0,l=void 0,p=void 0,f=void 0;"object"==typeof r?(c=r.value,l=r.min,p=r.max,f=r.input):c=r;var d=t.possibleConstructorReturn(this,e.apply(this,arguments));return void 0!==o.defaultMin?d.defaultMin=o.defaultMin:d.defaultMin=d.availableMin,void 0!==o.defaultMax?d.defaultMax=o.defaultMax:d.defaultMax=d.availableMax,d._min=void 0!==l?l:d.defaultMin,d._max=void 0!==p?p:d.defaultMax,d._input=!!f,d._$range=null,d}return t.inherits(n,e),n.prototype.updateInternalVisibility=function(){this._$range&&this._$range.toggle(this._input)},n.prototype.exportHelper=function(t){var e={};return t.value!=t.defaultValue&&(e.value=t.value),t.min!=t.availableMin&&(e.min=t.min),t.max!=t.availableMax&&(e.max=t.max),t.input&&(e.input=t.input),e},n.prototype["export"]=function(){return this.exportHelper(this)},n.prototype.fix=function(){var t=e.prototype.fix.call(this);return t.min=this.min,t.max=this.max,t.input=this.input,t.defaultValue=this.defaultValue,t},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateInternalVisibility(),this.update()}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.update()}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this.update()}},{key:"$range",get:function(){return this._$range},set:function(t){this._$range=t,this.updateInternalVisibility()}}]),n}(o.Number),o.LiveInt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"precision",get:function(){return 0}}]),n}(o.LiveNumber),o.LiveFloat=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"precision",get:function(){return 2}}]),n}(o.LiveNumber);var r=function(){function e(n){t.classCallCheck(this,e),this.value=n.value,this.input=n.input,this.defaultValue=n.defaultValue,this.availableValues=n.availableValues,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e}();o.LiveSelect=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=void 0,l=void 0;"object"==typeof r?(c=r.value,l=r.input):c=r;var p=t.possibleConstructorReturn(this,e.apply(this,arguments));return p._input=!!l,p}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),this.input&&(t.input=this.input),t},n.prototype.fix=function(){return new r(this)},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.update()}}]),n}(o.Select),o.AnyFloat=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.NonBoolean),o.BiquadFilter=function(e){function n(i,r,a,s,u,c){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.apply(this,arguments)),p=l.entries[0],f=l.entries[3],d=l.entries[4];return f.isVisible=function(){return p.input||o.BiquadFilter.typeUsesQ(p.value)},d.isVisible=function(){return p.input||o.BiquadFilter.typeUsesGain(p.value)},p.addUpdateCallback(function(){f.updateVisibility(),d.updateVisibility()}),l}return t.inherits(n,e),n.typeUsesQ=function(t){return!!{lowpass:!0,highpass:!0,bandpass:!0,peaking:!0,notch:!0,allpass:!0}[t]},n.typeUsesGain=function(t){return!!{lowshelf:!0,highshelf:!0,peaking:!0}[t]},n.collectArgs=function(t,n,i){return i=Object.create(i),i.descriptions=[["LiveSelect","type",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]],["LiveInt","frequency",[0,22050],350,{unit:"hertz"}],["LiveInt","detune",[0,100],{unit:"¢"}],["LiveFloat","Q",[-4,4],0],["LiveInt","gain",[-30,30],0,{unit:"decibel"}]],e.collectArgs.call(this,t,n,i)},n}(o.Group),o.IIRFilterCoefs=function(e){function n(i,o,r,a,s,u){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));if(0==c._entries.length){var l=c.availableTypes[0];c._entries.push(c.makeEntry(l))}return c}return t.inherits(n,e),n}(o.Array),o.IIRFilter=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),i.descriptions=[["IIRFilterCoefs","feedforward",[["AnyFloat","b",1]]],["IIRFilterCoefs","feedback",[["AnyFloat","a",1]]]],e.collectArgs.call(this,t,n,i)},n}(o.Group),o.EqualizerFilter=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.collectArgs=function(t,n,i){return i=Object.create(i),i.descriptions=o.EqualizerFilter.frequencies.map(function(t){return["LiveInt","gain"+t,[-30,30],0,{unit:"decibel"}]}),e.collectArgs.call(this,t,n,i)},t.createClass(n,null,[{key:"frequencies",get:function(){return[60,170,350,1e3,3500,1e4]}}]),n}(o.Group),o.Filters=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(o.Array),n.exports=o},{20:20}],43:[function(e,n,i){"use strict";var o=e(42),r=e(22),a=e(1),s=e(29),u=e(40),c=e(35),l=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.writeDraggableSubOption=function(t,n,i){var r=e.prototype.writeDraggableSubOption.call(this,t,n,i),a=this;return t instanceof o.BiquadFilter&&r.find("button.clone").click(function(){var t=$(this),e=t.data("coefs");if(e){var o=a.option.makeEntry("iir",e);a.$entries.append(a.writeDraggableSubOption(o,n,i)),a.updateArrayEntries()}}),r},n}(a),p=function(e){function n(i,o,r,a){t.classCallCheck(this,n);var s=t.possibleConstructorReturn(this,e.call(this,i,o,r,a));return s.updateArrayEntryLabels(),s}return t.inherits(n,e),n.prototype.canDeleteEntry=function(t){return this.option.entries.length>1},n.prototype.updateArrayEntries=function(){e.prototype.updateArrayEntries.call(this),this.updateArrayEntryLabels()},n.prototype.updateArrayEntryLabels=function(){this.$entries.children().each(function(t){var e=$(this).data("option").name;$(this).find("label").addClass("short").html(e+"<sub>"+t+"</sub>:")})},n}(a),f=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.setOptionClassWriters=function(t){var n=this;e.prototype.setOptionClassWriters.call(this,t),t.set(o.LiveNumber,function(e,n,i,r){var a=e.precision,s=function(t){return t.attr("min",e.availableMin).attr("max",e.availableMax).attr("step",Math.pow(.1,a).toFixed(a))},u=function(t){return s($("<input type='number' required>")).val(e[t]).on("input change",function(){this.checkValidity()&&(e[t]=parseFloat(this.value))})},c=void 0,l=void 0,p=void 0,f=t.get(o.Number)(e,n,i,r);return f.find("button").before($("<label class='nowrap'>").append(c=$("<input type='checkbox'>").prop("checked",e.input).change(function(){e.input=$(this).prop("checked")})," "+i("options-output.input"))," ",e.$range=$("<span class='range'>").append(i("options-output.range")+" ",$("<span class='nowrap'>").append(l=u("min")," .. ",p=u("max")))," ").click(function(){c.prop("checked",!1).change(),l.val(e.defaultMin).change(),p.val(e.defaultMax).change()}),f}),t.set(o.LiveSelect,function(t,e,i,o){var r=o(),a=void 0,s=void 0;return t.$=$("<div class='option'>").append(n.getLeadLabel(r,i,t),a=$("<select id='"+r+"'>").append(t.availableValues.map(function(e){return $("<option>").val(e).html(i("options."+t.fullName+"."+e))})).val(t.value).change(function(){t.value=this.value})," ",$("<label class='nowrap'>").append(s=$("<input type='checkbox'>").prop("checked",t.input).change(function(){t.input=$(this).prop("checked")})," "+i("options-output.input"))," ",$("<button type='button'>"+i("options-output.reset")+"</button>").click(function(){a.val(t.defaultValue).change(),s.prop("checked",!1).change()}))}),t.set(o.AnyFloat,function(t,e,i,o){var r=o();return t.$=$("<div class='option'>").append(n.getLeadLabel(r,i,t),$("<input type='number' id='"+r+"' step='any' required>").val(t.value).on("input change",function(){this.checkValidity()&&(t.value=parseFloat(this.value))}))}),t.set(o.IIRFilterCoefs,function(){return(new(Function.prototype.bind.apply(p,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(o.BiquadFilter,function(){return(new(Function.prototype.bind.apply(s,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(o.IIRFilter,function(){return(new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(o.EqualizerFilter,function(){return(new(Function.prototype.bind.apply(c,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(o.Filters,function(){return(new(Function.prototype.bind.apply(l,[null].concat(Array.prototype.slice.call(arguments))))).$output})},n}(r);n.exports=f},{1:1,22:22,29:29,35:35,40:40,42:42}],44:[function(e,n,i){"use strict";var o=e(23),r=function(n){function i(){return t.classCallCheck(this,i),t.possibleConstructorReturn(this,n.apply(this,arguments))}return t.inherits(i,n),t.createClass(i,[{key:"entriesDescription",get:function(){return[["Array","sources",[["Group","audio",[["Text","url",["https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/bass.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/drums.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/guitar.ogg"]]]],["Group","video",[["Text","url",["http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.webm","http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.mp4","http://mainline.i3s.unice.fr/mooc/sintel.webm","http://mainline.i3s.unice.fr/mooc/sintel.mp4"]],["Int","width",[1,1920],320,{unit:"pixel"}],["Int","height",[1,1080],240,{unit:"pixel"}]]]],"source"],["Filters","filters",[["Group","gain",[["LiveFloat","gain",[0,10],1,{defaultMax:1}]]],["Group","panner",[["LiveFloat","pan",[-1,1],0]]],["BiquadFilter","biquad"],["IIRFilter","iir"],["Group","convolver",[["LiveFloat","reverb",[0,1]],["Text","url",["https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/irHall.ogg"]]]],["EqualizerFilter","equalizer"]],"filter"],["Group","destination",[["Checkbox","compressor"],["Group","waveform",[["Checkbox","enabled"],["Float","width",[0,10],1,{unit:"pixel",visibilityData:{"destination.waveform.enabled":[!0]}}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"destination.waveform.enabled":[!0]}}]]],["Group","frequencies",[["Checkbox","enabled"],["Int","cutoff",[10,100],100,{unit:"%",visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","base",["bottom","middle"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","coloring",["component","spectral"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","coloringInput",["amplitude","frequency"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Group","outline",[["Checkbox","enabled"],["Float","width",[0,10],1,{unit:"pixel",visibilityData:{"destination.frequencies.outline.enabled":[!0]}}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"destination.frequencies.outline.enabled":[!0]}}]],{visibilityData:{"destination.frequencies.enabled":[!0]
}}]]],["Int","logFftSize",[5,12],8,{visibilityData:{"destination.waveform.enabled":[!0],"destination.frequencies.enabled":[!0]},visibilityDataLogic:"or"}]]],["Group","canvas",[["Int","width",[1,1920],300,{unit:"pixel"}],["Int","height",[1,1080],100,{unit:"pixel"}],["Group","background",[["Select","type",["clear","filled"]],["Group","color",[["Int","r",[0,100],100,{unit:"%"}],["Int","g",[0,100],100,{unit:"%"}],["Int","b",[0,100],100,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"canvas.background.type":["filled"]}}]]]],{visibilityData:{"destination.waveform.enabled":[!0],"destination.frequencies.enabled":[!0]},visibilityDataLogic:"or"}]]}},{key:"optionClasses",get:function(){return e(42)}}]),i}(o);n.exports=r},{23:23,42:42}],45:[function(e,n,i){"use strict";var o=t.taggedTemplateLiteralLoose(["<audio src="," id="," controls loop crossorigin=","></audio>"],["<audio src="," id="," controls loop crossorigin=","></audio>"]),r=t.taggedTemplateLiteralLoose(["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"],["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"]),a=e(6),s=e(18),u=e(17),c=e(27),l=e(16),p=e(24),f=e(33),d=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getHtmlLines=function(t,e){return c.b("<div>","</div>").ae(this.getElementHtmlLines(t,e))},e.prototype.getJsInitLines=function(t){return u.bae(p.parse("// "+t("comment.sources."+this.type)),"var "+this.nodeJsName+"=ctx.createMediaElementSource(document.getElementById('"+this.elementHtmlName+"'));")},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"elementHtmlName",get:function(){return"my."+this.type+this.nSuffix}},{key:"nodeJsName",get:function(){return a(this.type+this.nSuffix+".node")}}]),e}(),h={audio:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return s.bae(s.html(o,this.options.url,this.elementHtmlName,t.audioContext?"anonymous":!1))},t.createClass(n,[{key:"type",get:function(){return"audio"}}]),n}(d),video:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return s.bae(s.html(r,this.options.url,this.elementHtmlName,this.options.width,this.options.height,t.audioContext?"anonymous":!1))},t.createClass(n,[{key:"type",get:function(){return"video"}}]),n}(d)},v=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return h[t.source]},n.prototype.requestFeatureContext=function(t){this.entries.length>0&&(t.audioProcessing=!0)},n.prototype.getJsInitLines=function(t,e,n){var i=l.b();return t.audioContext&&i.apply(void 0,this.entries.map(function(t){return t.getJsInitLines(e)})),i.e()},n.prototype.getNodeJsNames=function(t,e){return t.audioContext?this.entries.map(function(t){return t.nodeJsName}):e},n}(f);n.exports=v},{16:16,17:17,18:18,24:24,27:27,33:33,6:6}]},{},[41])}();
//# sourceMappingURL=webaudio-starter.js.map
