!function(){"use strict";function e(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return t&&i(e.prototype,t),n&&i(e,n),e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){function n(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var o=n[i],r=Object.getOwnPropertyDescriptor(t,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&n(e,t)}function o(e,t){return e.raw=t,e}!function r(e,t,n){function i(a,s){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,n,i){var o=function(){function e(n,i,o,r){var a=this;t(this,e),this.option=n,this.$dragged=null,this.$entries=$("<div>").append(n.entries.map(function(e){return a.writeDraggableSubOption(e,i,o)}));var s=$("<div class='buttons'>");n.availableTypes.forEach(function(e,t){t&&s.append(" "),s.append($("<button type='button'>").html(o("options."+n.fullName+"."+e+".add")).click(function(){a.$entries.append(a.writeDraggableSubOption(n.makeEntry(e),i,o)),a.updateArrayEntries()}))}),this.$output=n.$=$("<fieldset>").append("<legend>"+o("options."+n.fullName)+"</legend>",this.$entries,s)}return e.prototype.canDeleteEntry=function(e){return!0},e.prototype.updateArrayEntries=function(){this.option.entries=this.$entries.children().map(function(){return $(this).data("option")}).get()},e.prototype.writeDraggableSubOption=function(e,t,n){var i=this,o=function(e){e.prev().before(e),i.updateArrayEntries()},r=function(e){e.next().after(e),i.updateArrayEntries()},a=function(e){i.canDeleteEntry(e)&&(e.remove(),i.updateArrayEntries())},s=this;return $("<div class='draggable-with-handle'>").data("option",e).append(t(e)," ",$("<span draggable='true' tabindex='0' title='"+n("options-output.drag.tip")+"'>").append("<span>"+n("options-output.drag")+"</span>").on("dragstart",function(e){s.$dragged=$(this).parent(),e.originalEvent.dataTransfer.effectAllowed="move",e.originalEvent.dataTransfer.setData("Text",name),e.originalEvent.dataTransfer.setDragImage&&e.originalEvent.dataTransfer.setDragImage(s.$dragged[0],0,0),setTimeout(function(){s.$dragged.addClass("ghost")},0)}).on("touchstart",function(e){var t=$(this).parent();return t.addClass("ghost"),!1}).on("touchmove",function(e){var t=$(this).parent(),n=t.height(),i=t.offset().top,a=e.originalEvent.touches[0].pageY,s=t.prev();s.length&&i>a&&a-s.offset().top<n&&o(t);var u=t.next();return u.length&&a>i+n&&a-u.offset().top>u.height()-n&&r(t),!1}).on("touchend touchcancel",function(e){var t=$(this).parent();t.removeClass("ghost")}).keydown(function(e){var t=$(this),n=t.parent();return 38==e.keyCode?(o(n),t.focus(),!1):40==e.keyCode?(r(n),t.focus(),!1):void 0})," ",$("<button class='delete' title='"+n("options-output.delete.tip")+"'>").append("<span>"+n("options-output.delete")+"</span>").click(function(){a($(this).parent())}).keydown(function(e){return 13==e.keyCode||32==e.keyCode?(a($(this).parent()),!1):void 0})).on("dragover",function(e){e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move";var t=$(this);if(s.$dragged)if(t.next().is(s.$dragged)){var n=s.$dragged.height(),i=e.pageY-t.offset().top;n>i&&o(s.$dragged)}else if(t.nextAll().is(s.$dragged))o(s.$dragged);else if(t.prev().is(s.$dragged)){var a=t.height(),u=s.$dragged.height(),p=e.pageY-t.offset().top;p>a-u&&r(s.$dragged)}else t.prevAll().is(s.$dragged)&&r(s.$dragged)}).on("drop",function(e){e.preventDefault()}).on("dragend",function(e){e.preventDefault(),s.$dragged&&(s.$dragged.removeClass("ghost"),s.$dragged=null)})},e}();n.exports=o},{}],2:[function(e,t,n){t.exports=function(e){return function(t){var n="code-output",i={en:{save:"Save source code",run:"Run in new window","open.codepen":"Open in CodePen","open.jsfiddle":"Open in JSFiddle","open.plunker":"Open in Plunker","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"embedded in HTML source code","mode.full":"complete HTML","mode.body":"only HTML body","mode.embed":"embed in HTML","mode.paste":"extract to paste into HTML later","mode.file":"extract to load as external resource",formatting:"Formatting","formatting.indent":"indent with tabs","formatting.indentNumber":"spaces per indent","formatting.jsSemicolons":"JavaScript semicolons","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (hosted on <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) is not loaded. Syntax highlighting is disabled."},ru:{save:"Сохранить исходный код",run:"Запустить в новом окне","open.codepen":"Открыть в CodePen","open.jsfiddle":"Открыть в JSFiddle","open.plunker":"Открыть в Plunker","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"встроен в код HTML","mode.full":"полностью","mode.body":"только <code>body</code>","mode.embed":"встроить в HTML","mode.paste":"извлечь для последующей вставки в HTML","mode.file":"извлечь для загрузки в качестве внешнего ресурса",formatting:"Форматирование","formatting.indent":"отступы с помощью tab","formatting.indentNumber":"пробелов в отступе","formatting.jsSemicolons":"<code>;</code> в JavaScript","warning.no-hljs":"<a href=https://highlightjs.org/>highlight.js</a> (с сервера <a href=http://cdnjs.cloudflare.com>cdnjs.cloudflare.com</a>) не загружен. Подсветка синтаксиса отключена."}};for(var o in i[e])t[n+"."+o]=i[e][o];return t}}},{}],3:[function(n,i,o){var r=n(8),a=n(5),s=function(e){return"data:text/html;charset=utf-8,"+encodeURIComponent(e)},u=function(e,t){var n={},i=function(i){Object.defineProperty(n,i,{get:function(){return e[i]},set:function(n){e[i]=n,t()}})};for(var o in e)i(o);return n},p=function(){function i(e,o){var s=this;t(this,i),this.formatting=u(this.defaultFormatting,function(){s.update.flush(),s.applyUpdatedCode(o)}),this.sectionModes=u({html:"full",css:"embed",js:"embed"},function(){s.update.flush(),s.applyUpdatedCode(o)}),this._code=e(),this.update=r(function(){s._code=e(),s.applyUpdatedCode(o)},200),this.initDomProps();var p=function(){var e=s,t=void 0,i=void 0,r=function(){var e="	";if(!t.prop("checked")){var o=4;i[0].checkValidity()&&(o=Number(i.val())),e=n(29)(" ")(o)}s.formatting.indent=e};return $("<details>").append("<summary>"+o("code-output.formatting")+"</summary>",$("<div>").append($("<label>").append(t=$("<input type='checkbox'>").prop("checked","	"==s.formatting.indent).change(r)," "+o("code-output.formatting.indent"))),$("<div>").append($("<label>").append(i=$("<input type='number' min='0' max='32' required>").val("	"==s.formatting.indent?4:s.formatting.indent.length).on("input change",r)," "+o("code-output.formatting.indentNumber"))),$("<div>").append($("<label>").append($("<input type='checkbox'>").prop("checked",s.formatting.jsSemicolons).change(function(){e.formatting.jsSemicolons=this.checked})," "+o("code-output.formatting.jsSemicolons")))).each(a)},c=function(e){return $("<details open>").append(s.writeSectionSummary(e,o),s.$sectionCode[e]=$("<div class='code'>")).each(a)},l=$("<div class='code-output'>").append(this.writeButtons(o)).append(p(),c("html"),c("css"),c("js"));window.hljs||l.append("<p>"+o("code-output.warning.no-hljs")+"</p>"),l.append(this.writeButtons(o)),this.applyUpdatedCode(o),this.$output=l}return i.prototype.initDomProps=function(){this.$sectionCode={},this.$saveButtons={}},i.prototype.applyUpdatedCode=function(e){var t=this.code.extractSections(this.sectionModes);for(var n in t){if("embed"==this.sectionModes[n])this.$sectionCode[n].empty().append("<p>"+e("code-output.embedded")+"</p>");else{var i=void 0;this.$sectionCode[n].empty().append($("<pre>").append(i=$("<code class='"+n+"'>"))),i.html(t[n].getHtml(this.formatting).join("\n")),window.hljs&&hljs.highlightBlock(i[0])}"html"!=n&&this.$saveButtons[n].prop("disabled","embed"==this.sectionModes[n])}},i.prototype.writeButtons=function(e){var t=this,n=function(e,t,n){var i=$("<form method='post' action='"+e+"' target='"+t+"'>");for(var o in n)i.append($("<input type='hidden'>").attr("name",o).val(n[o]));i.appendTo("body").submit().remove()};return $("<div>").append($("<button type='button'>"+e("code-output.run")+"</button>").click(function(){var e=t.code.get(t.formatting).join("\n");if(navigator.msSaveOrOpenBlob){var n=window.open("","generatedCode");n.document.open(),n.document.write(e),n.document.close()}else window.open(s(e),"generatedCode")})," ",$("<button type='button'>"+e("code-output.open.codepen")+"</button>").click(function(){var e=t.code.extractSections({html:"body",css:"paste",js:"paste"}),i=function(n){return e[n].get(t.formatting).join("\n")};n("http://codepen.io/pen/define/","codepenGeneratedCode",{data:JSON.stringify({html:i("html"),css:i("css"),js:i("js"),title:t.code.title})})})," ",$("<button type='button'>"+e("code-output.open.jsfiddle")+"</button>").click(function(){var e=t.code.extractSections({html:"body",css:"paste",js:"paste"}),i=function(n){return e[n].get(t.formatting).join("\n")};n("http://jsfiddle.net/api/post/library/pure/","jsfiddleGeneratedCode",{html:i("html"),css:i("css"),js:i("js"),title:t.code.title,wrap:"b"})})," ",$("<button type='button'>"+e("code-output.open.plunker")+"</button>").click(function(){var e,i=t.code.extractSections({html:"full",css:"file",js:"file"}),o=function(e){return i[e].get(t.formatting).join("\n")};n("http://plnkr.co/edit/?p=preview","plunkerGeneratedCode",(e={},e["files[index.html]"]=o("html"),e["files["+i.css.filename+"]"]=o("css"),e["files["+i.js.filename+"]"]=o("js"),e["private"]=!0,e))}))},i.prototype.writeSectionSummary=function(e,t){var n=this,i=$("<summary>"+t("code-output.section."+e)+"</summary>");return i.append(" ",$("<select>").append(("html"==e?["full","body"]:["embed","paste","file"]).map(function(e){return $("<option>").val(e).html(t("code-output.mode."+e))})).val(this.sectionModes[e]).change(function(){n.sectionModes[e]=this.value})," ",this.$saveButtons[e]=$("<button type='button'>"+t("code-output.save")+"</button>").click(function(){var t=n.code.extractSections(n.sectionModes)[e],i=new Blob([t.get(n.formatting).join("\n")],{type:t.mimeType});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,t.filename);else{var o=$("<a>").attr("download",t.filename).attr("href",URL.createObjectURL(i)).appendTo("body");o.get(0).click(),o.remove()}})),i},e(i,[{key:"code",get:function(){return this.update.flush(),this._code}},{key:"defaultFormatting",get:function(){return{indent:"	",jsSemicolons:!1}}}]),i}();i.exports=p},{29:29,5:5,8:8}],4:[function(e,n,i){var o=function(){function e(n,i,o){t(this,e),this.filename=n,this.mimeType=i,this.lines=o}return e.prototype.get=function(e){return this.lines.get(e)},e.prototype.getHtml=function(e){return this.lines.getHtml(e)},e}();n.exports=o},{}],5:[function(e,t,n){var i="open"in document.createElement("details");t.exports=function(){if(!i){var e=$(this),t=function(){e.attr("open")?e.removeAttr("open"):e.attr("open","")},n=13,o=32,r=function(e){return $(e.target).closest("summary, :input, a[href]").is("summary")};e.addClass("polyfill").children("summary").attr("tabindex",0).click(function(e){r(e)&&t()}).keydown(function(e){return!r(e)||e.keyCode!=n&&e.keyCode!=o?void 0:(t(),!1)})}}},{}],6:[function(e,t,n){var i=e(7);t.exports=function(e){return e.split(".").map(function(e,t){return t>0?i(e):e}).join("")}},{7:7}],7:[function(e,t,n){t.exports=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{}],8:[function(e,t,n){t.exports=function(e,t){var n=null,i=function(){clearTimeout(n),n=setTimeout(function(){n=null,e()},t)};return i.flush=function(){n&&(n=null,e())},i}},{}],9:[function(e,t,n){t.exports=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(/[&<>"']/g,function(e){return t[e]})}},{}],10:[function(e,t,n){var i=function(e,t,n,i){var o=0;n&&(o=1);var r=!1;for(var a in e){var s=void 0;if(void 0!==t)s=t;else{if(void 0===e[a].precision)throw new Error("formatNumbers received no precision");s=e[a].precision}var u=Number(e[a]),p=u.toFixed(s);Number(p)<0&&(r=!0),s>0&&(s-=p.match(/0*$/)[0].length),s>o&&(o=s)}var c=Array.isArray(e)?[]:{};for(var l in e){var d=Number(e[l]),f=d.toFixed(o);Number(f)>=0&&"-"==f.charAt(0)&&(f=f.slice(1)),!i&&r&&d>0&&(f="+"+f),c[l]=f}return c},o=function(e,t){return i(e,t)};o.html=function(e,t){return i(e,t,!1,!0)},o.js=function(e,t){return i(e,t)},o.glsl=function(e,t){return i(e,t,!0)},t.exports=o},{}],11:[function(e,n,i){var o=function r(e,n,i,o){t(this,r),this.option=e,this.$output=e.$=$("<fieldset>").append("<legend>"+i("options."+e.fullName)+"</legend>").append(e.entries.map(n))};n.exports=o},{}],12:[function(e,t,n){t.exports=function(e){function t(e,o){var r=i.exec(e);r?!function(){var e=r[1],n=r[2],a=r[3],s=n.split(","),u=i.exec(o);u?!function(){var n=u[1],i=u[2],o=u[3],r=i.split(",");s.forEach(function(s,u){if(""!=i){var p=r[u];t(e+s+a,n+p+o)}else t(e+s+a,n+s+o)})}():s.forEach(function(n){t(e+n+a,o)})}():n[e]=o}var n={},i=/^([^{]*)\{([^}]*)\}(.*)$/;for(var o in e)t(o,e[o]);return n}},{}],13:[function(e,t,n){t.exports=function(e){return function(t){for(var n in t)t[n]=t[n].replace(/\[\[(.*?)\]\]/g,function(t,n){var i=void 0,o=void 0,r=n.indexOf("|");return 0>r?(i=n,o=n):(i=n.slice(0,r),o=n.slice(r+1)),"<a href='https://"+e+".wikipedia.org/wiki/"+i.replace(/ /g,"_")+"'>"+o+"</a>"});return t}}},{}],14:[function(e,t,n){var i=e(9);t.exports=function(t){return function(n){var o="en";n=n||o,n=n.split("-")[0];var r=t[n];void 0===r&&(n=o,r=t[n]);var a=function(e){if(void 0!==r[e])return r[e];throw new Error("undefined string "+e)};return a.lang=n,a.has=function(e){return void 0!==r[e]},"en"==n?(a.number=function(e){return String(e).replace("-","−")},a.pluralSuffix=function(t){var n=String(t);if(e(28)(n)("."))return"2";var i=Number(t);return 1==Math.abs(i)?"1":"2"}):"ru"==n&&(a.number=function(e){return String(e).replace("-","−").replace(".",",")},a.pluralSuffix=function(t){var n=String(t);if(e(28)(n)("."))return"2";var i="1"===n.slice(-2,-1);return"1"!==n.slice(-1)||i?e(28)("234")(n.slice(-1))&&!i?"2":"5":"1"}),a.plural=function(e,t){return this(t+"."+this.pluralSuffix(e))},a.numberWithUnits=function(e,t,n){void 0===n&&(n=function(e,t){return"<abbr title='"+i(t)+"'>"+e+"</abbr>"});var o=this.number(e);if(void 0!==t)if(1==t.length&&/^\W/.test(t))o+=t;else{o+=" ";var r=void 0;r="1/second"==t?a("units.second.a")+"<sup>−1</sup>":a("units."+t+".a");var s=this.plural(e,"units."+t);o+=n(r,s)}return o},a}}},{28:28,9:9}],15:[function(e,o,r){var a=e(9),s=e(17),u=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.doGet=function(e,t){for(var n=[],i=!0,o=function(){i?i=!1:n.push("")},r=this.data,u=0;u<r.length;u++){var p=r[u];if(p instanceof s){var c=p.doGet(e,t);c.length>0&&(o(),n.push.apply(n,c))}else if("string"==typeof p){o();var l=t?a(p):p;n.push(l)}}return n},o}(s);o.exports=u},{17:17,9:9}],16:[function(e,o,r){var a=e(17),s=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.processStringInGet=function(e,t){return t.jsSemicolons?e.replace(/^;/,""):e.replace(/;$/,"")},o}(a);o.exports=s},{17:17}],17:[function(e,n,i){var o=e(9),r={},a=function(){function n(e){if(t(this,n),!Array.isArray(e))throw new TypeError("attempted to construct Lines with non-array data argument");this.data=e}return n.prototype.isDataEmpty=function(){for(var e=this.data,t=0;t<e.length;t++){var i=e[t];if(i instanceof n){if(!i.isEmpty())return!1}else if("string"==typeof i)return!1}return!0},n.prototype.processStringInGet=function(e,t){return e},n.prototype.doGet=function(t,i){for(var a=[],s=!1,u=this.data,p=0;p<u.length;p++){var c=u[p];if(c===r)s=!0;else if(c instanceof n){var l=c.doGet(t,i);s&&l.length>0&&a.push(a.pop()+l.shift()),a.push.apply(a,l),s=!1}else if("string"==typeof c){var d=this.processStringInGet(c,t);void 0!==t.indent&&"	"!=t.indent&&(d=d.replace(/^(\t)+/,function(n){return e(29)(t.indent)(n.length)})),d=i?o(d):d,s?a.push(a.pop()+d):a.push(d),s=!1}}return a},n.b=function(){var e=this,t=arguments,n=[],i=function(){return new(Function.prototype.bind.apply(e,[null].concat([n],Array.prototype.slice.call(t))))},o=function(){return o.a.apply(o,arguments)};return o.a=function(){return n.push.apply(n,arguments),this},o.t=function(){return n.push.apply(n,[r].concat(Array.prototype.slice.call(arguments))),this},o.e=i,o.ae=function(){return this.a.apply(this,arguments).e()},o},n.ba=function(){var e;return(e=this.b()).a.apply(e,arguments)},n.be=function(){return this.b().e()},n.bae=function(){var e;return(e=this.b()).a.apply(e,arguments).e()},n.prototype.isEmpty=function(){return this.isDataEmpty()},n.prototype.get=function(e){return void 0===e&&(e={}),this.doGet(e,!1)},n.prototype.getHtml=function(e){return void 0===e&&(e={}),this.doGet(e,!0)},n.prototype.count=function(){return this.doGet({},!1).length},n.html=function(e){var t=arguments;return e.reduce(function(e,n,i){var o=t[i];switch(e.slice(-1)){case"=":return o===!1?e.replace(/\s+[a-zA-Z0-9-]+=$/,"")+n:o===!0?e.replace(/=$/,"")+n:(o=String(o).replace(/&/g,"&amp;"),""==o?e.replace(/=$/,"")+n:/[\s"'=<>`]/.test(o)?/'/.test(o)?(o=o.replace(/"/g,"&quot;"),e+'"'+o+'"'+n):e+"'"+o+"'"+n:e+o+n);case">":return o=String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;"),e+o+n}throw new Error("invalid character before substitution")})},n}();n.exports=a},{29:29,9:9}],18:[function(e,o,r){var a=e(26),s=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.isEmpty=function(){return this.isDataEmpty()},o.prototype.doGet=function(t,n){return this.isEmpty()?[]:e.prototype.doGet.call(this,t,n)},o}(a);o.exports=s},{26:26}],19:[function(o,r,a){var s={};s.Base=function(){function n(e,i,o,r,a,s){if(t(this,n),this.parent=r,this.name=e,this.fullName=e,r&&null!==r.fullName&&(this.fullName=r.fullName+"."+e),this.updateCallbacks=[],this._$=null,this.isVisible=function(){return!0},a&&(a.register(this),void 0!==i.visibilityData)){"or"!=i.visibilityDataLogic?this.isVisible=function(){for(var e in i.visibilityData){var t=a.options[e].value;if(i.visibilityData[e].indexOf(t)<0)return!1}return!0}:this.isVisible=function(){for(var e in i.visibilityData){var t=a.options[e].value;if(i.visibilityData[e].indexOf(t)>=0)return!0}return!1};for(var u in i.visibilityData)a.declareAffectedBy(this,u)}}return n.make=function(e){for(var t=0,n=0,i=0,o=void 0,r=[],a={},s=arguments.length,u=Array(s>1?s-1:0),p=1;s>p;p++)u[p-1]=arguments[p];for(var c=0;c<u.length;c++){var l=u[c];"string"==typeof l||"number"==typeof l||"boolean"==typeof l?0==t++&&(o=l):Array.isArray(l)?0==n++&&(r=l):l instanceof Object&&0==i++&&(a=l)}var d=this,f=this.collectArgs(o,r,a);return function(t,n,i,o){return new d(e,f,t,n,i,o)}},n.collectArgs=function(e,t,n){return n},n.prototype.updateVisibility=function(){this.$&&this.$.toggle(this.isVisible())},n.prototype.update=function(){this.updateCallbacks.forEach(function(e){e()}),this.parent&&this.parent.update()},n.prototype.addUpdateCallback=function(e){this.updateCallbacks.push(e)},n.prototype.shortenExport=function(e){var t=Object.keys(e);return 1==t.length&&"value"==t[0]?e.value:e},n.prototype.shortenExportAssign=function(e,t,n){var i=Object.keys(e);1==i.length&&"value"==i[0]?t[n]=e.value:i.length>0&&(t[n]=e)},e(n,[{key:"$",get:function(){return this._$},set:function(e){this._$=e,this.updateVisibility()}}]),n}(),s.Input=function(o){function r(e,i,a,s,u,p){t(this,r);var c=n(this,o.apply(this,arguments));return c.defaultValue=i.defaultValue,"object"==typeof a&&(a=a.value),void 0!==a?c._value=a:c._value=c.defaultValue,c}return i(r,o),r.collectArgs=function(e,t,n){return n=Object.create(n),void 0===n.defaultValue&&(n.defaultValue=e),o.collectArgs.call(this,e,t,n)},r.prototype["export"]=function(){var e={};return this.value!=this.defaultValue&&(e.value=this.value),e},e(r,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.update()}}]),r}(s.Base),s.Boolean=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.collectArgs=function(t,n,i){return e.collectArgs.call(this,!!t,n,i)},o.prototype.fix=function(){return this.value},o}(s.Input),s.NonBoolean=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.fix=function(){var e=this.value;return{name:this.name,value:e,valueOf:function(){return e},toString:function(){return String(e)}}},o}(s.Input),s.Factor=function(e){function o(i,r,a,s,u,p){t(this,o);var c=n(this,e.apply(this,arguments));return c.availableValues=r.availableValues,c}return i(o,e),o.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.availableValues&&(i.availableValues=n),void 0===t&&(t=i.availableValues[0]),e.collectArgs.call(this,t,n,i)},o}(s.NonBoolean),s.Number=function(e){function o(i,r,a,s,u,p){t(this,o);var c=n(this,e.apply(this,arguments));return c.availableMin=r.availableMin,c.availableMax=r.availableMax,c.unit=r.unit,c}return i(o,e),o.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.availableMin&&(i.availableMin=n[0]),void 0===i.availableMax&&(i.availableMax=n[1]),void 0===t&&(t=i.availableMin),e.collectArgs.call(this,t,n,i)},o.prototype.fix=function(){var t=e.prototype.fix.call(this);return t.precision=this.precision,t.unit=this.unit,t},o}(s.NonBoolean),s.Collection=function(e){function o(i,r,a,s,u,p){t(this,o);var c=n(this,e.apply(this,arguments));return c.entries=r.descriptions.map(function(e){var t=e[1],n=void 0;return"object"==typeof a&&(n=a[t]),p(e,n,c,u)}),c}return i(o,e),o.collectArgs=function(t,n,i){return i=Object.create(i),void 0===i.descriptions&&(i.descriptions=n),e.collectArgs.call(this,t,n,i)},o.prototype["export"]=function(){for(var e={},t=this.entries,n=0;n<t.length;n++){var i=t[n];i.shortenExportAssign(i["export"](),e,i.name)}return e},o.prototype.fix=function(){for(var e=[],t={name:this.name,entries:e},n=this.entries,i=0;i<n.length;i++){var o=n[i];e.push(t[o.name]=o.fix())}return t},o}(s.Base),s.Void=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype["export"]=function(){return{}},o.prototype.fix=function(){return{name:this.name}},o}(s.Base),s.Checkbox=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Boolean),s.Select=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Factor),s.Text=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Factor),s.Int=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"precision",get:function(){return 0}}]),r}(s.Number),s.Float=function(e){function o(i,r,a,s,u,p){t(this,o);var c=n(this,e.apply(this,arguments));return void 0!==r.precision?c.precision=r.precision:c.availableMax>=100?c.precision=1:c.availableMax>=10?c.precision=2:c.precision=3,c}return i(o,e),o}(s.Number),s.Root=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Collection),s.Group=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Collection),s.Array=function(o){function r(e,i,a,s,u,p){t(this,r);var c=n(this,o.apply(this,arguments));c.availableConstructors=new Map,u&&u.enterArray();for(var l=i.descriptions,d=function(){var e=l[f],t=e[1],n=function(t){return p(e,t,c,u)};c.availableConstructors.set(t,n)},f=0;f<l.length;f++)d();u&&u.exitArray(),void 0!==i.typePropertyName?c.typePropertyName=i.typePropertyName:c.typePropertyName="type",c._entries=[];var h=[];Array.isArray(a)?h=a:"object"==typeof a&&(h=a.value);for(var v=c.availableTypes[0],m=0;m<h.length;m++){var y=h[m],g=v;"object"==typeof y&&void 0!==y[c.typePropertyName]&&(g=y[c.typePropertyName]);var b=c.availableConstructors.get(g);b&&c._entries.push(b(y))}return c}return i(r,o),r.collectArgs=function(e,t,n){return n=Object.create(n),void 0===n.descriptions&&(n.descriptions=t),void 0===n.typePropertyName&&(n.typePropertyName=e),o.collectArgs.call(this,e,t,n)},r.prototype.makeEntry=function(e,t){return this.availableConstructors.get(e)(t)},r.prototype["export"]=function(){var e=this,t=this.availableTypes[0];return{value:this._entries.map(function(n){var i=n["export"](),o=n.name;return o!=t&&(i[e.typePropertyName]=o),n.shortenExport(i)})}},r.prototype.fix=function(){var e=this;return{name:this.name,entries:this._entries.map(function(t){var n=t.fix();return"object"==typeof n&&(n[e.typePropertyName]=t.name),n})}},e(r,[{key:"availableTypes",get:function(){var e=[];return this.availableConstructors.forEach(function(t,n){e.push(n)}),e}},{key:"entries",get:function(){return this._entries},set:function(e){this._entries=e,this.update()}}]),r}(s.Base),r.exports=s},{}],20:[function(e,t,n){t.exports=function(e){return function(t){var n="options-output",i={en:{reset:"Reset",drag:"Drag","drag.tip":"Drag or press ↑/↓ while in focus to reorder items","delete":"Delete","delete.tip":"Delete item"},ru:{reset:"Сбросить",drag:"Перетащить","drag.tip":"Перетаскивайте или нажимайте ↑/↓, пока элемент в фокусе, чтобы изменить порядок элементов","delete":"Удалить","delete.tip":"Удалить элемент"}};for(var o in i[e])t[n+"."+o]=i[e][o];return t}}},{}],21:[function(e,n,i){var o=e(10),r=e(24),a=e(19),s=e(1),u=e(11),p=function(){function e(n,i,o){function r(e){for(var t=e;t=Object.getPrototypeOf(t);){var n=a.get(t.constructor);if(n)return n(e,r,o,i)}}t(this,e);var a=new Map;this.setOptionClassWriters(a),this.$output=r(n.root)}return e.prototype.getLeadLabel=function(e,t,n){return"<label for='"+e+"'>"+t("options."+n.fullName)+":</label><span class='space'> </span>"},e.prototype.setOptionClassWriters=function(e){var t=this;e.set(a.Root,function(e,t,n,i){return e.$=$("<div class='options-output'>").append(e.entries.map(t))}),e.set(a.Group,function(){return(new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))).$output}),e.set(a.Void,function(e,t,n,i){return e.$=$("<div class='option no-lead'>").html(n("options."+e.fullName))}),e.set(a.Checkbox,function(e,t,n,i){var o=i();return e.$=$("<div class='option no-lead'>").append($("<input type='checkbox' id='"+o+"'>").prop("checked",e.value).change(function(){e.value=$(this).prop("checked")})," <label for='"+o+"'>"+n("options."+e.fullName)+"</label>")}),e.set(a.Select,function(e,n,i,o){var a=function(t){return"options."+e.fullName+"."+t},s=function(t){return"options-info."+e.fullName+"."+t},u=o(),p=void 0;return e.$=$("<div class='option'>").append(t.getLeadLabel(u,i,e),p=$("<select id='"+u+"'>").append(e.availableValues.map(function(e){return $("<option>").val(e).html(i(a(e)))})).val(e.value).change(function(){e.value=this.value})),e.availableValues.some(function(e){return i.has(s(e))})&&!function(){var t=r("info","");e.$.append(" ",t);var n=function(){i.has(s(this.value))?(t.find(".tip-content").html(i(s(this.value))),t.css("display","")):(t.css("display","none"),t.find(".tip-content").empty())};n.call(p[0]),p.change(n)}(),e.$}),e.set(a.Text,function(e,n,i,o){var r=o(),a=o();return e.$=$("<div class='option'>").append(t.getLeadLabel(r,i,e),$("<input type='text' id='"+r+"' list='"+a+"' />").val(e.value).on("input change",function(){e.value=this.value})," ",$("<datalist id='"+a+"'>").append(e.availableValues.map(function(e){return $("<option>").text(e)})))}),e.set(a.Number,function(e,n,i,a){var s=e.precision,u=function(t){return t.attr("min",e.availableMin).attr("max",e.availableMax).attr("step",Math.pow(.1,s).toFixed(s))},p=function(t,n){return u(t).val(e.value).on("input change",function(){if(this.checkValidity()){var t=n();t.val(this.value),e.value=parseFloat(this.value)}})},c=a(),l=void 0,d=void 0,f=o({min:e.availableMin,max:e.availableMax},e.precision);e.$=$("<div class='option'>").append(t.getLeadLabel(c,i,e),$("<span class='nowrap'>").append("<span class='min'>"+i.numberWithUnits(f.min,e.unit)+"</span> ",l=p($("<input type='range' id='"+c+"'>"),function(){return d})," <span class='max'>"+i.numberWithUnits(f.max,e.unit)+"</span>")," ",d=p($("<input type='number' required>"),function(){return l})," ",$("<button type='button'>"+i("options-output.reset")+"</button>").click(function(){l.val(e.defaultValue).change()}));var h="options-info."+e.fullName;return i.has(h)&&e.$.append(" ",r("info",i(h))),e.$}),e.set(a.Array,function(){return(new(Function.prototype.bind.apply(s,[null].concat(Array.prototype.slice.call(arguments))))).$output})},e}();n.exports=p},{1:1,10:10,11:11,19:19,24:24}],22:[function(n,i,o){var r=function(){function e(){t(this,e),this.options={},this.affects={},this.inArray=0}return e.prototype.register=function(e){var t=this;this.inArray||(this.options[e.fullName]=e,e.addUpdateCallback(function(){t.updateVisibilityAffectedBy(e.fullName)}))},e.prototype.declareAffectedBy=function(e,t){void 0===this.affects[t]&&(this.affects[t]=[]),this.affects[t].push(e)},e.prototype.updateVisibilityAffectedBy=function(e){void 0!==this.affects[e]&&this.affects[e].forEach(function(e){e.updateVisibility()})},e.prototype.enterArray=function(){this.inArray+=1},e.prototype.exitArray=function(){this.inArray-=1},e}(),a=function(){function i(e){t(this,i);var n=this.optionClasses,o=function(e,t,i,r){var a,s=e[0];if(void 0===n[s])throw new Error("invalid option type '"+s+"'");var u=e.slice(1);return(a=n[s]).make.apply(a,u)(t,i,r,o)};this.root=n.Root.make(null,this.entriesDescription)(e,null,new r,o)}return i.prototype.addUpdateCallback=function(e){this.root.addUpdateCallback(e)},i.prototype["export"]=function(){return this.root.shortenExport(this.root["export"]())},i.prototype.fix=function(){return this.root.fix()},e(i,[{key:"optionClasses",get:function(){return n(19)}},{key:"entriesDescription",get:function(){return[]}}]),i}();i.exports=a},{19:19}],23:[function(e,o,r){var a=e(9),s=e(17),u=function(e){function o(i,r){t(this,o);var a=n(this,e.call(this,i));return a.ref=r,a}return i(o,e),o.parse=function(e){for(var t=s.ba(""),n=/^(.*?)\[([^\]]+)\]\[([^\]]+)\]/;e.length>0;){var i=n.exec(e);if(!i){t.t(e);break}t.t(i[1]),t.t(this.b(i[3]).ae(i[2])),e=e.substr(i[0].length)}return t.e()},o.prototype.doGet=function(t,n){var i=e.prototype.doGet.call(this,t,n),o=void 0;return n&&"object"==typeof t.refs&&(o=t.refs[this.ref]),void 0!==o?i.map(function(e){return"<a href='"+a(o)+"'>"+e+"</a>"}):i},o}(s);o.exports=u},{17:17,9:9}],24:[function(e,t,n){t.exports=function(e,t){var n=$("<span class='tip-"+e+"' tabindex='0'><span class='tip-content'>"+t+"</span></span>"),i=null,o=0,r=function(e,t){void 0===t&&(t=200),1==e&&0==o?(clearTimeout(i),i=setTimeout(function(){n.addClass("open")},t)):-1==e&&1==o&&(clearTimeout(i),i=setTimeout(function(){n.removeClass("open")},t)),o+=e};return n.mouseenter(function(){r(1)}).focusin(function(){r(1,0)}).on("mouseleave focusout",function(){r(-1)}),n}},{}],25:[function(n,i,r){var a=o(["<link rel=stylesheet href=",">"],["<link rel=stylesheet href=",">"]),s=o(["<script src=","></script>"],["<script src=","></script>"]),u=o(["<html lang=",">"],["<html lang=",">"]),p=n(17),c=n(18),l=n(4),d=function(){function n(){t(this,n)}return n.prototype.get=function(e){return this.getLines().get(e)},n.prototype.getHtml=function(e){return this.getLines().getHtml(e);
},n.prototype.extractSections=function(e){void 0===e&&(e={});var t=c.b("<style>","</style>").ae(this.cachedStyleLines),n=p.be();"paste"==e.css?(t="body"==e.html?p.be():p.bae("<!-- <style> "+this.getSectionPasteComment("css")+" </style> -->"),n=this.cachedStyleLines):"file"==e.css&&(t=p.bae(p.html(a,this.basename+".css")),n=this.cachedStyleLines);var i=c.b("<script>","</script>").ae(this.cachedScriptLines),o=p.be();"paste"==e.js?(i="body"==e.html?p.be():p.bae("<!-- <script> "+this.getSectionPasteComment("js")+" </script> -->"),o=this.cachedScriptLines):"file"==e.js&&(i=p.bae(p.html(s,this.basename+".js")),o=this.cachedScriptLines);var r=void 0;r="body"==e.html?this.getBodyHtmlSectionLines(t,i):this.getFullHtmlSectionLines(t,i);var u=function(e){return"text/"+("js"==e?"javascript":e)};return{html:new l(this.filename,u("html"),r),css:new l(this.basename+".css",u("css"),n),js:new l(this.basename+".js",u("js"),o)}},n.prototype.getLines=function(){return this.getFullHtmlSectionLines(c.b("<style>","</style>").ae(this.cachedStyleLines),c.b("<script>","</script>").ae(this.cachedScriptLines))},n.prototype.getFullHtmlSectionLines=function(e,t){var n=p.b();return n("<!DOCTYPE html>"),n(null!==this.lang?p.html(u,this.lang):"<html>"),n("<head>","<meta charset=utf-8>"),null!==this.title&&n("<title>"+this.title+"</title>"),n(e,this.cachedHeadLines,"</head>","<body>",this.cachedBodyLines,t,"</body>","</html>"),n.e()},n.prototype.getBodyHtmlSectionLines=function(e,t){return p.bae(e,this.cachedHeadLines,this.cachedBodyLines,t)},n.prototype.getSectionPasteComment=function(e){return e+" goes here"},e(n,[{key:"filename",get:function(){return this.basename+".html"}},{key:"mimeType",get:function(){return"text/html"}},{key:"cachedStyleLines",get:function(){return this._styleLines||(this._styleLines=this.styleLines),this._styleLines}},{key:"cachedHeadLines",get:function(){return this._headLines||(this._headLines=this.headLines),this._headLines}},{key:"cachedBodyLines",get:function(){return this._bodyLines||(this._bodyLines=this.bodyLines),this._bodyLines}},{key:"cachedScriptLines",get:function(){return this._scriptLines||(this._scriptLines=this.scriptLines),this._scriptLines}},{key:"basename",get:function(){return"source"}},{key:"lang",get:function(){return null}},{key:"title",get:function(){return null}},{key:"styleLines",get:function(){return p.be()}},{key:"headLines",get:function(){return p.be()}},{key:"bodyLines",get:function(){return p.be()}},{key:"scriptLines",get:function(){return p.be()}}]),n}();i.exports=d},{17:17,18:18,4:4}],26:[function(e,o,r){var a=e(9),s=e(17),u=function(e){function o(i){t(this,o);for(var r=n(this,e.call(this,i)),a=arguments.length,s=Array(a>1?a-1:0),u=1;a>u;u++)s[u-1]=arguments[u];return r.wrappers=s,r}return i(o,e),o.prototype.isEmpty=function(){return!1},o.prototype.doGet=function(e,t){var n=this,i="	";void 0!==e.indent&&(i=e.indent);var o=[],r=0,u=function(){var i=n.wrappers[r];if(i instanceof s){var u=i.doGet(e,t);o.push.apply(o,u)}else if("string"==typeof i){var p=t?a(i):i;o.push(p)}r++};u();for(var p=this.data,c=0;c<p.length;c++){var l=p[c];if(l instanceof s){var d=l.doGet(e,t);o.push.apply(o,d.map(function(e){return i+e})),2!=this.wrappers.length&&u()}else if("string"==typeof l){var f=t?a(l):l;o.push(i+f),2!=this.wrappers.length&&u()}}return 2==this.wrappers.length&&u(),o},o}(s);o.exports=u},{17:17,9:9}],27:[function(e,t,n){t.exports=Math.log10||function(e){return Math.log(e)/Math.LN10}},{}],28:[function(e,t,n){t.exports=function(e){return function(t,n){return null!=e&&void 0!==e.includes||"string"!=typeof e?e.includes(t,n):-1!==e.indexOf(t,n)}}},{}],29:[function(e,t,n){t.exports=function(e){return function(t){return null!=e&&void 0!==e.repeat||"string"!=typeof e?e.repeat(t):Array(t+1).join(e)}}},{}],30:[function(e,o,r){var a=e(16),s=e(23),u=e(38),p=function(e){function o(i){t(this,o);var r=n(this,e.call(this));return r.options=i,r}return i(o,e),o.prototype.requestFeatureContext=function(e){var t=this;e.getJsConnectAssignLines=function(e,n,i,o,r){var s=n;""!=e&&(s=e+" "+n);var u="";void 0!==r&&(u=","+r);var p=a.b();if(t.options.connectReturnValue&&Array.isArray(o)&&1==o.length){var c=o[0];p(s+"="+c+".connect("+i+u+");")}else if(p(s+"="+i+";"),Array.isArray(o))p.apply(void 0,o.map(function(e){return e+".connect("+n+u+");"}));else{var l=o.slice(0,-1);p(o+".forEach(function("+l+"){","	"+l+".connect("+n+u+");","});")}return p.e()}},o.prototype.getJsInitLines=function(e,t,n){var i=a.b();return e.audioContext&&(i(s.parse("// "+t("comment.context"))),i(this.options.noVendorPrefix?"var ctx=new AudioContext;":"var ctx=new (AudioContext || webkitAudioContext);")),i.e()},o}(u);o.exports=p},{16:16,23:23,38:38}],31:[function(e,o,r){var a=e(24),s=e(39),u=function(e){function o(i,r,s,u){t(this,o);var p=n(this,e.call(this,i,r,s,u)),c=function(e,t,n,i,o,r,a){var s=e,u=n*Math.pow(2,i/1200),p=r,c=Math.pow(10,p/40),l=2*Math.PI*u/s,d=Math.sin(l)/(2*o),f=Math.pow(10,o/20),h=Math.sin(l)/2*Math.sqrt((4-Math.sqrt(16-16/(f*f)))/2),v=Math.sin(l)/(2*f),m=1,y=Math.sin(l)/2*Math.sqrt((c+1/c)*(1/m-1)+2),g=Math.cos(l),b=2*y*Math.sqrt(c);switch(t){case"lowpass":return{feedforward:[(1-g)/2,1-g,(1-g)/2],feedback:a?[1+v,-2*g,1-v]:[1+h,-2*g,1-h]};case"highpass":return{feedforward:[(1+g)/2,-(1+g),(1+g)/2],feedback:a?[1+v,-2*g,1-v]:[1+h,-2*g,1-h]};case"bandpass":return{feedforward:[d,0,-d],feedback:[1+d,-2*g,1-d]};case"notch":return{feedforward:[1,-2*g,1],feedback:[1+d,-2*g,1-d]};case"allpass":return{feedforward:[1-d,-2*g,1+d],feedback:[1+d,-2*g,1-d]};case"peaking":return{feedforward:[1+d*c,-2*g,1-d*c],feedback:[1+d/c,-2*g,1-d/c]};case"lowshelf":return{feedforward:[c*(c+1-(c-1)*g+b),2*c*(c-1-(c+1)*g),c*(c+1-(c-1)*g-b)],feedback:[c+1+(c-1)*g+b,-2*(c-1+(c+1)*g),c+1+(c-1)*g-b]};case"highshelf":return{feedforward:[c*(c+1+(c-1)*g+b),-2*c*(c-1+(c+1)*g),c*(c+1+(c-1)*g-b)],feedback:[c+1-(c-1)*g+b,2*(c-1-(c+1)*g),c+1-(c-1)*g-b]}}},l=p,d=void 0,f=function(e){return $("<button type='button' class='clone'>"+s("options-output.filter.biquad.clone."+(e?"post":"pre"))+"</button>").click(function(){var t=this;l.runIfCanCreateAudioContext(function(n){var o=i.fix(),r=c(n.sampleRate,o.type.value,o.frequency.value,o.detune.value,Math.pow(10,o.Q.value),o.gain.value,e);r?$(t).data("coefs",r):$(t).removeData("coefs")},d,s("options-output.filter.contextError"))})};return p.$output.append($("<div class='option only-buttons'>").append("<label>"+s("options-output.filter.biquad.clone")+":</label><span class='space'> </span>",d=$("<span>").append(f(!1)," ",f(!0)," ",a("info",s("options-output.filter.biquad.clone.info"))))),p}return i(o,e),o.prototype.getFilterNodes=function(e){var t=e.createBiquadFilter(),n=this.option.fix();return t.type=n.type.value,t.frequency.value=n.frequency.value,t.detune.value=n.detune.value,t.Q.value=Math.pow(10,n.Q.value),t.gain.value=n.gain.value,[t]},o}(s);o.exports=u},{24:24,39:39}],32:[function(e,r,a){var s=o(["	<canvas id=my.canvas width="," height=","></canvas>"],["	<canvas id=my.canvas width="," height=","></canvas>"]),u=e(17),p=e(16),c=e(38),l=function(e){function o(i){t(this,o);var r=n(this,e.call(this));return r.options=i,r}return i(o,e),o.getStyleLines=function(e,t){var n=p.b(),i=["r","g","b"],o=i.map(function(e){return t[e]+"%"}).join(),r=i.every(function(e){return 0==t[e]});return 100==t.a?r||n("canvasContext."+e+"='rgb("+o+")';"):n("canvasContext."+e+"='rgba("+o+","+(t.a/100).toFixed(2)+")';"),n.e()},o.prototype.getHtmlLines=function(e,t){var n=u.b();return e.canvas&&n("<div>",u.html(s,this.options.width,this.options.height),"</div>"),n.e()},o.prototype.getJsInitLines=function(e,t,n){var i=p.b();return e.canvas&&i("var canvas=document.getElementById('my.canvas');","var canvasContext=canvas.getContext('2d');"),e.canvasVolumeGradient&&i("var canvasVolumeGradient=canvasContext.createLinearGradient(0,0,0,canvas.height);","canvasVolumeGradient.addColorStop(1.00,'#000');","canvasVolumeGradient.addColorStop(0.75,'#F00');","canvasVolumeGradient.addColorStop(0.25,'#FF0');","canvasVolumeGradient.addColorStop(0.00,'#FFF');"),i.e()},o.prototype.getJsLoopPreLines=function(e,t){var n=p.b();return e.canvas&&("clear"==this.options.background.type?n("canvasContext.clearRect(0,0,canvas.width,canvas.height);"):(n(o.getStyleLines("fillStyle",this.options.background.color)),n("canvasContext.fillRect(0,0,canvas.width,canvas.height);"))),n.e()},o}(c);r.exports=l},{16:16,17:17,38:38}],33:[function(o,r,a){var s=o(24),u=o(3),p=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.initDomProps=function(){o.prototype.initDomProps.call(this),this.$warnings=$()},r.prototype.applyUpdatedCode=function(e){o.prototype.applyUpdatedCode.call(this,e),this.$warnings.css("display",this.code.isInteresting?"none":"")},r.prototype.writeButtons=function(e){var t=s("warn",e("code-output.warning.jsfiddle-run"));return o.prototype.writeButtons.call(this,e).append(" ",t)},r.prototype.writeSectionSummary=function(e,t){var n=o.prototype.writeSectionSummary.call(this,e,t);if("html"==e||"js"==e){var i=s("warn",t("code-output.warning.interesting"));n.append(" ",i),this.$warnings=this.$warnings.add(i)}return n},e(r,[{key:"defaultFormatting",get:function(){var e=o.prototype.defaultFormatting;return e.refs={context:"https://www.w3.org/TR/webaudio/#AudioContext",source:"https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode",gain:"https://www.w3.org/TR/webaudio/#GainNode",panner:"https://www.w3.org/TR/webaudio/#the-stereopannernode-interface",biquad:"https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface",iir:"https://www.w3.org/TR/webaudio/#the-iirfilternode-interface",convolver:"https://www.w3.org/TR/webaudio/#ConvolverNode",peaking:"https://www.w3.org/TR/webaudio/#idl-def-BiquadFilterType.peaking",destination:"https://www.w3.org/TR/webaudio/#AudioDestinationNode",compressor:"https://www.w3.org/TR/webaudio/#the-dynamicscompressornode-interface",analyser:"https://www.w3.org/TR/webaudio/#the-analysernode-interface",splitter:"https://www.w3.org/TR/webaudio/#the-channelsplitternode-interface",buffer:"https://www.w3.org/TR/webaudio/#AudioBufferSourceNode"},e}}]),r}(u);r.exports=p},{24:24,3:3}],34:[function(o,r,a){var s=o(30),u=o(43),p=o(48),c=o(40),l=o(36),d=o(32),f=o(17),h=o(16),v=o(15),m=o(18),y=o(25),g=function(o){function r(e,i){t(this,r);var a=n(this,o.call(this));a.i18n=i,a.featureContext={},a.features=[new s(e.api),new u(e.loader),new p(e.sources),new c(e.filters),new l(e.destination),new d(e.canvas)];for(var f=a.features,h=0;h<f.length;h++){var v=f[h];v.requestFeatureContext(a.featureContext)}return a.isInteresting=!!a.featureContext.audioContext,a}return i(r,o),e(r,[{key:"basename",get:function(){return"webaudio"}},{key:"lang",get:function(){return this.i18n.lang}},{key:"title",get:function(){return this.i18n("code.title")}},{key:"styleLines",get:function(){var e=f.b();return this.featureContext.alignedInputs&&e("label {","	display: inline-block;","	width: 15em;","	text-align: right;","	line-height: 0.8em;","}",".min {","	display: inline-block;","	width: 5em;","	text-align: right;","}",".max {","	display: inline-block;","	width: 5em;","	text-align: left;","}"),this.featureContext.canvas&&e("canvas {","	border: 1px solid;","}"),e.e()}},{key:"bodyLines",get:function(){var e=this;return f.bae.apply(f,this.features.map(function(t){return t.getHtmlLines(e.featureContext,e.i18n)}))}},{key:"scriptLines",get:function(){var e,t=this,n=[];return v.bae.apply(v,this.features.map(function(e){var i=e.getJsInitLines(t.featureContext,t.i18n,n);return n=e.getNodeJsNames(t.featureContext,n),i}).concat([(e=m.b(h.bae("function visualize() {"),h.bae("	requestAnimationFrame(visualize);","}","requestAnimationFrame(visualize);"))).ae.apply(e,this.features.map(function(e){return e.getJsLoopPreLines(t.featureContext,t.i18n)}).concat(this.features.map(function(e){return e.getJsLoopVisLines(t.featureContext,t.i18n)})))]))}}]),r}(y);r.exports=g},{15:15,16:16,17:17,18:18,25:25,30:30,32:32,36:36,40:40,43:43,48:48}],35:[function(e,o,r){var a=e(17),s=e(38),u=function(e){function o(i){t(this,o);var r=n(this,e.call(this)),a=new Map;i.entries.forEach(function(e){var t=r.getEntryClass(e);a.set(t,a.get(t)+1||1)});var s=new Map;return r.entries=i.entries.map(function(e){var t=r.getEntryClass(e);if(a.get(t)>1){var n=s.get(t)||0;return s.set(t,n+1),new t(e,n)}return new t(e)}),r}return i(o,e),o.prototype.getHtmlLines=function(e,t){return a.bae.apply(a,this.entries.map(function(n){return n.getHtmlLines(e,t)}))},o}(s);o.exports=u},{17:17,38:38}],36:[function(r,a,s){var u=o(["<label for=my.compressor>","</label>"],["<label for=my.compressor>","</label>"]),p=r(17),c=r(16),l=r(26),d=r(18),f=r(15),h=r(23),v=r(38),m=r(32),y=function(o){function r(e){t(this,r);var i=n(this,o.call(this));return i.options=e,i}return i(r,o),r.prototype.requestFeatureContext=function(e){e.audioProcessing&&((this.options.compressor.enabled||this.options.waveform.enabled||this.options.frequencies.enabled||this.options.volume.enabled)&&(e.audioContext=!0),(this.options.waveform.enabled||this.options.frequencies.enabled||this.options.volume.enabled)&&(e.canvas=!0),this.options.volume.enabled&&(e.canvasVolumeGradient=!0),void 0===e.connectSampleToJsNames&&(this.options.compressor.enabled&&(e.connectSampleToCompressor=!0),e.connectSampleToJsNames=[],this.useDirectAnalyser&&e.connectSampleToJsNames.push("analyserNode"),this.useSplitAnalyser&&e.connectSampleToJsNames.push("channelSplitterNode"),0==e.connectSampleToJsNames.length&&(e.connectSampleToJsNames=["ctx.destination"])))},r.prototype.getHtmlLines=function(e,t){var n=d.b("<div>","</div>");return e.audioProcessing&&this.options.compressor.enabled&&n("<input id=my.compressor type=checkbox checked>",p.html(u,t("label.destination.compressor"))),n.e()},r.prototype.getJsInitLines=function(e,t,n){var i=this,o=function(t,n,o){var r=c.b();return r(e.getJsConnectAssignLines("var",t,"ctx.createAnalyser()",n,o)),11!=i.options.analyser.logFftSize&&r(t+".fftSize="+(1<<i.options.analyser.logFftSize)+";"),r.e()},r=function(){var o=c.b(),r=i.options.waveform.enabled||i.options.frequencies.enabled||i.options.volume.enabled?"analyserNode":"ctx.destination";return o(h.parse("// "+t("comment.destination.compressor")),e.getJsConnectAssignLines("var","compressorNode","ctx.createDynamicsCompressor()",n)),n.length>0&&o.apply(void 0,["document.getElementById('my.compressor').onchange=function(){","	if (this.checked) {"].concat(n.map(function(e){return"		"+e+".disconnect("+r+");"}),n.map(function(e){return"		"+e+".connect(compressorNode);"}),["	} else {"],n.map(function(e){return"		"+e+".disconnect(compressorNode);"}),n.map(function(e){return"		"+e+".connect("+r+");"}),["	}","};"])),o.e()},a=function(){var e=c.b(),r="";return i.options.waveform.enabled&&!i.options.frequencies.enabled?r=".waveform":!i.options.waveform.enabled&&i.options.frequencies.enabled?r=".frequencies":i.options.waveform.enabled&&i.options.frequencies.enabled&&(r=".waveform+frequencies"),e(h.parse("// "+t("comment.destination.analyser"+r)),o("analyserNode",n),"var analyserData=new Uint8Array(analyserNode.frequencyBinCount);"),e.e()},s=function(){var r=c.b();return r(h.parse("// "+t("comment.destination.analyser.split")),e.getJsConnectAssignLines("var","channelSplitterNode","ctx.createChannelSplitter()",n),o("leftAnalyserNode",["channelSplitterNode"],"0"),o("rightAnalyserNode",["channelSplitterNode"],"1")),i.useDirectAnalyser||r("var analyserData=new Uint8Array(leftAnalyserNode.frequencyBinCount);"),r.e()},u=function(){var e=c.b();return n.length>0&&e.apply(void 0,[h.parse("// "+t("comment.destination"))].concat(n.map(function(e){return e+".connect(ctx.destination);"}))),e.e()},p=f.b();return e.audioProcessing&&e.audioContext&&(this.options.compressor.enabled&&(p(r()),n=["compressorNode"]),(this.useDirectAnalyser||this.useSplitAnalyser)&&(this.useDirectAnalyser&&p(a()),this.useSplitAnalyser&&p(s()),this.useDirectAnalyser&&(n=["analyserNode"])),p(u())),p.e()},r.prototype.getJsLoopPreLines=function(e,t){var n=this;if(!e.audioProcessing)return p.be();var i=function(){return n.pushContextForEach?c.bae("canvasContext.save();"):p.be()},o=function(){return n.pushContextForEach?c.bae("canvasContext.restore();"):p.be()},r=function(){var e=function(e,t){return c.bae(e+".getByteFrequencyData(analyserData);","var sumAmplitudes=0;","for (var i=0;i<analyserData.length;i++) {","	sumAmplitudes+=analyserData[i];","}","var meanAmplitude=sumAmplitudes/analyserData.length;","var barHeight=meanAmplitude*canvas.height/256;","canvasContext.fillStyle=canvasVolumeGradient;","canvasContext.fillRect("+t+",canvas.height-barHeight,25,barHeight);")};return n.options.volume.stereo?l.b(c.bae(";[leftAnalyserNode,rightAnalyserNode].forEach(function(channelAnalyserNode,channelNumber){"),c.bae("});")).ae(e("channelAnalyserNode","channelNumber*26")):e("analyserNode","0")},a=function(){var e=c.b(),t="analyserData.length";100!=n.options.frequencies.cutoff&&(e("var nBars=Math.floor(analyserData.length*"+(n.options.frequencies.cutoff/100).toFixed(2)+");"),t="nBars");var i="bottom"==n.options.frequencies.base?"canvas.height-barHeight":"(canvas.height-barHeight)/2",o="amplitude"==n.options.frequencies.coloringInput?"analyserData[i]":"Math.round(i*255/"+t+")",r="component"==n.options.frequencies.coloring?"'rgb('+("+o+"+100)+',50,50)'":"'hsl('+(255-"+o+")+',100%,50%)'";if(e("var barWidth=canvas.width/"+t+"*0.8;","analyserNode.getByteFrequencyData(analyserData);","for (var i=0;i<"+t+";i++) {","	var x=i*canvas.width/"+t+";","	canvasContext.fillStyle="+r+";","	var barHeight=analyserData[i]*canvas.height/256;","	var y="+i+";","	canvasContext.fillRect(x,y,barWidth,barHeight);","}"),n.options.frequencies.outline.enabled){var a=function(e){return c.bae("for (var i=0;i<"+t+";i++) {","	var x=i*canvas.width/"+t+";","	var barHeight=analyserData[i]*canvas.height/256;","	var y="+e+";","	if (i==0) {","		canvasContext.moveTo(0,y);","	}","	canvasContext.lineTo(x+barWidth/2,y);","	if (i=="+t+"-1) {","		canvasContext.lineTo(canvas.width,y);","	}","}")};1!=n.options.frequencies.outline.width&&e("canvasContext.lineWidth="+n.options.frequencies.outline.width+";"),e(m.getStyleLines("strokeStyle",n.options.frequencies.outline.color)),e("canvasContext.beginPath();"),e("bottom"==n.options.frequencies.base?a(i):l.b(c.bae(";[-1,+1].forEach(function(aboveOrBelow){"),c.bae("});")).ae(a("(canvas.height+aboveOrBelow*barHeight)/2"))),e("canvasContext.stroke();")}return e.e()},s=function(){var e=c.b();return 1!=n.options.waveform.width&&e("canvasContext.lineWidth="+n.options.waveform.width+";"),e(m.getStyleLines("strokeStyle",n.options.waveform.color),"analyserNode.getByteTimeDomainData(analyserData);","canvasContext.beginPath();","for (var i=0;i<analyserData.length;i++) {","	var x=i*canvas.width/(analyserData.length-1);","	var y=analyserData[i]*canvas.height/256;","	if (i==0) {","		canvasContext.moveTo(x,y);","	} else {","		canvasContext.lineTo(x,y);","	}","}","canvasContext.stroke();"),e.e()};return c.bae.apply(c,[[this.options.volume.enabled,"visualizeVolume",r],[this.options.frequencies.enabled,"visualizeFrequencies",a],[this.options.waveform.enabled,"visualizeWaveform",s]].map(function(e){var t=e[0],n=e[1],r=e[2];return t?l.b(c.bae("function "+n+"() {"),c.bae("}")).ae(i(),r(),o()):p.be()}))},r.prototype.getJsLoopVisLines=function(e,t){if(!e.audioProcessing)return p.be();var n=c.b();return this.pushContextForAll&&n("canvasContext.save();"),this.options.volume.enabled&&n("visualizeVolume();"),this.options.frequencies.enabled&&n("visualizeFrequencies();"),this.options.waveform.enabled&&n("visualizeWaveform();"),this.pushContextForAll&&n("canvasContext.restore();"),n.e()},r.prototype.getNodeJsNames=function(e,t){return e.audioProcessing&&e.audioContext?["ctx.destination"]:t},e(r,[{key:"useDirectAnalyser",get:function(){return this.options.waveform.enabled||this.options.frequencies.enabled||this.options.volume.enabled&&!this.options.volume.stereo}},{key:"useSplitAnalyser",get:function(){return this.options.volume.enabled&&this.options.volume.stereo}},{key:"pushContextForEach",get:function(){return this.options.frequencies.enabled&&this.options.frequencies.outline.enabled&&this.options.waveform.enabled}},{key:"pushContextForAll",get:function(){return!this.pushContextForEach&&(this.options.frequencies.enabled||this.options.volume.enabled)}}]),r}(v);a.exports=y},{15:15,16:16,17:17,18:18,23:23,26:26,32:32,38:38}],37:[function(e,o,r){var a=e(45),s=e(39),u=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.getFilterNodes=function(e){var t=this.option.fix();return a.EqualizerFilter.frequencies.map(function(n){var i=e.createBiquadFilter();return i.type="peaking",i.frequency.value=n,i.gain.value=t["gain"+n].value,i})},o}(s);o.exports=u},{39:39,45:45}],38:[function(e,n,i){var o=e(17),r=function(){function e(){t(this,e)}return e.prototype.requestFeatureContext=function(e){},e.prototype.getHtmlLines=function(e,t){return o.be()},e.prototype.getJsInitLines=function(e,t,n){return o.be()},e.prototype.getJsLoopPreLines=function(e,t){return o.be()},e.prototype.getJsLoopVisLines=function(e,t){return o.be()},e.prototype.getNodeJsNames=function(e,t){return t},e}();n.exports=r},{17:17}],39:[function(e,o,r){var a=e(8),s=e(10),u=e(11),p=300,c=300,l=30,d=10,f=10,h=3,v=10,m=void 0,y=void 0,g=void 0,b=void 0,x=void 0,w=void 0,k=void 0,q=void 0,N=void 0,C=function(e,t,n){return e*(1-n)+t*n},A=function(o){function r(i,u,v,A){t(this,r);var S=n(this,o.call(this,i,u,v,A)),L=$(),F=function(){return L.length>0},I=void 0,M=void 0,E=!0,J=!1,P=function(t){function n(e,t){return e%=2*t,Math.abs(e)<=t?e:e-(e>0?1:-1)*t*2}for(var i=function(e){for(var t=function(t,n){var i=t>=0,o=n<e.length,r=void 0,a=void 0;i||o?(r=i?e[t]:e[n],a=o?e[n]:e[t]):r=a=0;for(var s=t+1;n>s;s++){var u=(s-t)/(n-t);e[s]=C(r,a,u)}},n=-1,i=0;i<e.length;i++)isFinite(e[i])?n>=0&&(t(n-1,i),n=-1):0>n&&(n=i);n>=0&&t(n-1,e.length)},o=J?g:y,r=0;r<w.length;r++)w[r]=1;for(var a=0;a<k.length;a++)k[a]=0;for(var u=0;u<t.length;u++){var m=t[u];m.getFrequencyResponse(o,q,N),i(q),i(N);for(var A=0;A<w.length;A++)w[A]*=q[A];for(var $=0;$<k.length;$++)k[$]+=N[$]}if(E)for(var S=0;p>S;S++)w[S]=20*e(27)(w[S]);for(var L=0,F=0,P=0;p>P;P++){var T=n(k[P]/Math.PI,1);L+=F>T&&F-T>T+2-F,L-=T>F&&T-F>F-(T-2),F=T,k[P]=F+2*L}var D=function(t,n,i,r,a,u,m){var y,g,w=void 0,k=void 0,q=function(e,t){var n=l/c;w=((e+t)*n-e)/(2*n-1),k=((e+t)*n-t)/(2*n-1)},N=(y=Math).min.apply(y,n),C=(g=Math).max.apply(g,n),A=Math.max(N,u)-r,$=Math.max(C,u)-r;q(r+Math.min(0,-a+Math.max(0,$-a),A),r+Math.max(0,a-Math.max(0,-a-A),$));var S=function(e){return c*(1-(e-w)/(k-w))},L=function(t,n){for(var i=e(27)(n-t)-e(27)(d),o=void 0,r=1/0,a=[1,2,5],s=0;s<a.length;s++){var u=a[s],p=Math.ceil(i-e(27)(u));r>p&&(r=p,o=u)}for(var c=o*Math.pow(10,r),l=Math.ceil(t/c)*c,f=[],h=l;n>h;h+=c)f.push(h);return[f,0>r?-r:0]},F=function(e,n,i,o,r,a){var s;t.save(),t.translate(0,.5),t.fillStyle="#444",t.font=f+"px",t.textAlign="right";for(var u=function(e){return""+v.number(e)+r},c=(s=Math).max.apply(s,n.map(function(e){return t.measureText(u(e)).width})),l=function(r){var s=Math.round(i(e[r])),l=function(){t.beginPath(),t.moveTo(0,s),t.lineTo(p,s),t.stroke()},d=a(Number(n[r]));d&&(t.strokeStyle="rgba(70%,70%,100%,0.3)",t.setLineDash([]),t.lineWidth=3,l()),t.strokeStyle=d?"#000":"#888",t.setLineDash([1]),t.lineWidth=1,l(),s-h-f>o&&t.fillText(u(n[r]),h+c,s-h)},d=0;d<e.length;d++)l(d);return t.restore(),c},I=function(){var e=L(w,k),t=s.apply(void 0,e);return F(e[0],t,S,0,i,m)},M=function(e){t.save(),t.rotate(-Math.PI/2),t.translate(-c,0);var n=void 0,i=void 0,r=void 0;J?(n=function(e){return p*(e-b)/(x-b)},i=L(b,x),r=s(i[0].map(function(e){return Math.pow(10,e)}),0)):(n=function(e){return p*(e-o[0])/(o[p-1]-o[0])},i=L(o[0],o[p-1]),r=s.apply(void 0,i)),F(i[0],r,n,h+e," "+v("units.hertz.a"),function(e){return!1}),t.restore()},E=function(){t.save(),t.translate(.5,.5),t.strokeStyle="#F00",t.beginPath();for(var e=0;p>e;e++){var i=e,o=S(n[e]);0==e?t.moveTo(i,o):t.lineTo(i,o)}t.stroke(),t.restore()};t.clearRect(0,0,p,c);var P=I();M(P),E()};E?D(I,w," "+v("units.decibel.a"),0,1,-100,function(e){return 0==e}):D(I,w,"",1,.1,0,function(e){return 0==e||1==e}),D(M,k,"π",0,.1,-(1/0),function(e){return e%2==0})},T=a(function(){try{P(S.getFilterNodes(m))}catch(e){}},50),D=void 0,j=S;return S.$output.append(D=$("<div class='option only-buttons'>").append("<label>"+v("options-output.filter.frequencyResponse")+":</label><span class='space'> </span>",$("<button type='button'>"+v("options-output.show")+"</button>").click(function(){var e=$(this);F()?(L.remove(),L=$(),e.text(v("options-output.show")),D.addClass("only-buttons")):j.runIfCanCreateAudioContext(function(t){var n=void 0;try{n=j.getFilterNodes(t)}catch(i){return void e.replaceWith(v("options-output.filter.nodeError"))}var o=void 0,r=void 0;L=L.add($("<span>").append(" ",$("<label class='nowrap'>").append($("<input type='checkbox'>").prop("checked",E).change(function(){E=$(this).prop("checked"),T()})," "+v("options-output.filter.logMagnitude"))," ",$("<label class='nowrap'>").append($("<input type='checkbox'>").prop("checked",J).change(function(){J=$(this).prop("checked"),T()})," "+v("options-output.filter.logFrequency"))," ")).add($("<div>").append($("<figure>").append("<figcaption>"+v("options-output.filter.magnitude")+"</figcaption>",o=$("<canvas width='"+p+"' height='"+c+"'></canvas>")),$("<figure>").append("<figcaption>"+v("options-output.filter.phase")+"</figcaption>",r=$("<canvas width='"+p+"' height='"+c+"'></canvas>")))),e.after(L).text(v("options-output.hide")),I=o[0].getContext("2d"),M=r[0].getContext("2d"),P(n),D.removeClass("only-buttons")},e,v("options-output.filter.contextError"))}))),i.addUpdateCallback(function(){F()&&T()}),S}return i(r,o),r.prototype.runIfCanCreateAudioContext=function(t,n,i){var o=function(){m=new(AudioContext||webkitAudioContext),y=new Float32Array(p),g=new Float32Array(p),w=new Float32Array(p),k=new Float32Array(p),q=new Float32Array(p),N=new Float32Array(p);for(var t=m.sampleRate/2,n=e(27)(v),i=e(27)(t),o=0;p>o;o++){var r=(o+.5)/p;y[o]=t*r,g[o]=Math.pow(10,C(n,i,r))}b=C(n,i,.5/p),x=C(n,i,1-.5/p)};if(!m)try{o()}catch(r){return void n.replaceWith(i)}t(m)},r}(u);o.exports=A},{10:10,11:11,27:27,8:8}],40:[function(r,a,s){var u=o(["<abbr title=",">"],["<abbr title=",">"]),p=o(["<label for=",">",":</label>"],["<label for=",">",":</label>"]),c=o(["<input id="," type=range value="," min="," max="," step=",">"],["<input id="," type=range value="," min="," max="," step=",">"]),l=o(["<select id=",">"],["<select id=",">"]),d=o(["<option selected="," value=",">","</option>"],["<option selected="," value=",">","</option>"]),f=o(["<span id=",">","</span>"],["<span id=",">","</span>"]),h=r(6),v=r(10),m=r(17),y=r(16),g=r(26),b=r(18),x=r(15),w=r(23),k=r(45),q=r(35),N=function(){function n(e,i){t(this,n),this.options=e,this.n=i}return n.prototype.getPropertyOptionName=function(e){return"options.filters."+this.type+"."+e.name},n.prototype.getPropertyInputHtmlName=function(e){return"my."+this.type+this.nSuffix+"."+e},n.prototype.getPropertyInputJsName=function(e){return h(this.type+this.nSuffix+"."+e+".input")},n.prototype.requestFeatureContext=function(e){var t=this,n=this.nodeProperties.some(function(e){if("range"==e.type){var n=t.options[e.name];return n.input}return!1});n&&(e.alignedInputs=!0)},n.prototype.getHtmlPropertyLines=function(e,t){var n=this;if(t.skip)return m.be();var i=this.options[t.name],o=this.getPropertyInputHtmlName(t.name),r=m.b();if("range"==t.type&&i.input){var a=i.precision,s=v.html({min:i.min,max:i.max,value:i.value},a),h=v({min:i.min,max:i.max},a),y=function(t){return e.numberWithUnits(t,i.unit,function(e,t){return m.html(u,t)+e+"</abbr>"})};r(m.html(p,o,e(this.getPropertyOptionName(t))),"<span class=min>"+y(h.min)+"</span>",m.html(c,o,s.value,s.min,s.max,a?Math.pow(.1,a).toFixed(a):!1),"<span class=max>"+y(h.max)+"</span>")}else if("select"==t.type&&i.input){var b;r(m.html(p,o,e(this.getPropertyOptionName(t))),(b=g.b(m.html(l,o),"</select>")).ae.apply(b,i.availableValues.map(function(o){var r=e(n.getPropertyOptionName(t)+"."+o);return m.html(d,i.value==o,o!=r&&o,r)})))}else"xhr"==t.type&&r(m.html(f,o,e(this.getPropertyOptionName(t)+".loading")));return r.e()},n.prototype.getHtmlLines=function(e,t){var n=this;return m.bae.apply(m,this.nodeProperties.map(function(e){return b.b("<div>","</div>").ae(n.getHtmlPropertyLines(t,e))}))},n.prototype.getJsInitLines=function(e,t,n){return y.bae(w.parse("// "+t("comment.filters."+this.type)),e.getJsConnectAssignLines("var",this.nodeJsName,"ctx."+this.ctxCreateMethodName+"()",n))},e(n,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"nodeJsName",get:function(){return h(this.type+this.nSuffix+".node")}},{key:"skipNode",get:function(){return!1}},{key:"nodeJsNames",get:function(){return[this.nodeJsName]}},{key:"connectToNodeJsNames",get:function(){return this.nodeJsNames}}]),n}(),C=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.getJsInitLines=function(t,n,i){var o=this;return m.bae.apply(m,[e.prototype.getJsInitLines.call(this,t,n,i)].concat(this.nodeProperties.map(function(e){if(e.skip)return m.be();var t=o.options[e.name],n=o.nodeJsName+"."+e.name+("range"==e.type?".value":""),i=y.b();if(t.input){var r=o.getPropertyInputJsName(e.name),a=o.getPropertyInputHtmlName(e.name),s=r+".value";e.fn&&(s=e.fn(s));var u="range"==e.type?"oninput":"onchange";i("var "+r+"=document.getElementById('"+a+"');",";("+r+"."+u+"=function(){","	"+n+"="+s+";","})();")}else if(t.value!=t.defaultValue){var p=t.value;"select"==e.type&&(p="'"+p+"'"),e.fn&&(p=e.fn(p)),i(n+"="+p+";")}return i.e()})))},o}(N),A=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"skipNode",get:function(){var e=this;return this.nodeProperties.every(function(t){var n=e.options[t.name];return n.value==n.defaultValue&&!n.input})}}]),r}(C),$={gain:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"type",get:function(){return"gain"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}},{key:"nodeProperties",get:function(){return[{name:"gain",type:"range"}]}}]),r}(A),panner:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"type",get:function(){return"panner"}},{key:"ctxCreateMethodName",get:function(){return"createStereoPanner"}},{key:"nodeProperties",get:function(){return[{name:"pan",type:"range"}]}}]),r}(A),biquad:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"type",get:function(){return"biquad"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"nodeProperties",get:function(){return[{name:"type",type:"select"},{name:"frequency",type:"range"},{name:"detune",type:"range"},{name:"Q",type:"range",fn:function(e){return"Math.pow(10,"+e+")"},skip:!this.options.type.input&&!k.BiquadFilter.typeUsesQ(this.options.type.value)},{name:"gain",type:"range",skip:!this.options.type.input&&!k.BiquadFilter.typeUsesGain(this.options.type.value)}]}},{key:"skipNode",get:function(){return!this.options.type.input&&["lowshelf","highshelf","peaking"].indexOf(this.options.type.value)>=0&&!this.options.gain.input&&0==this.options.gain}}]),r}(C),iir:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.getJsInitLines=function(e,t,n){return y.bae(w.parse("// "+t("comment.filters."+this.type)),e.getJsConnectAssignLines("var",this.nodeJsName,"ctx."+this.ctxCreateMethodName+"(["+this.options.feedforward.entries+"],["+this.options.feedback.entries+"])",n))},e(r,[{key:"type",get:function(){return"iir"}},{key:"ctxCreateMethodName",get:function(){return"createIIRFilter"}},{key:"nodeProperties",get:function(){return[]}}]),r}(C),convolver:function(o){function r(){return t(this,r),
n(this,o.apply(this,arguments))}return i(r,o),r.prototype.requestFeatureContext=function(e){o.prototype.requestFeatureContext.call(this,e),e.loader=!0},r.prototype.getJsInitLines=function(e,t,n){var i=this.getPropertyInputHtmlName("buffer"),o=y.b();if(o(this.options.reverb.input||1!=this.options.reverb?w.parse("// "+t("comment.filters."+this.type)):w.parse("// "+t("comment.filters."+this.type+".single"))),o(e.getJsConnectAssignLines("var",this.nodeJsName,"ctx."+this.ctxCreateMethodName+"()",n)),(this.options.reverb.input||1!=this.options.reverb)&&(o(e.getJsConnectAssignLines("var",this.wetGainNodeJsName,"ctx.createGain()",[this.nodeJsName]),e.getJsConnectAssignLines("var",this.dryGainNodeJsName,"ctx.createGain()",n)),this.options.reverb.input)){var r=this.getPropertyInputHtmlName("reverb"),a=this.getPropertyInputJsName("reverb");o("var "+a+"=document.getElementById('"+r+"');",";("+a+".oninput=function(){","	"+this.wetGainNodeJsName+".gain.value="+a+".value;","	"+this.dryGainNodeJsName+".gain.value=1-"+a+".value;","})();")}return o("loadSample('"+this.options.url+"',function(buffer){","	"+this.nodeJsName+".buffer=buffer;","	document.getElementById('"+i+"').textContent='';","}"),e.loaderOnError&&o.t(",function(){","	document.getElementById('"+i+"').textContent='"+t("options.filters.convolver.buffer.error")+"';","}"),o.t(");"),o.e()},e(r,[{key:"type",get:function(){return"convolver"}},{key:"ctxCreateMethodName",get:function(){return"createConvolver"}},{key:"nodeProperties",get:function(){return[{name:"reverb",type:"range"},{name:"buffer",type:"xhr"}]}},{key:"dryGainNodeJsName",get:function(){return h(this.type+this.nSuffix+".dry.gain.node")}},{key:"wetGainNodeJsName",get:function(){return h(this.type+this.nSuffix+".wet.gain.node")}},{key:"skipNode",get:function(){return 0==this.options.reverb&&!this.options.reverb.input}},{key:"nodeJsNames",get:function(){return this.options.reverb.input||1!=this.options.reverb?[this.wetGainNodeJsName,this.dryGainNodeJsName]:[this.nodeJsName]}},{key:"connectToNodeJsNames",get:function(){return this.options.reverb.input||1!=this.options.reverb?[this.nodeJsName,this.dryGainNodeJsName]:[this.nodeJsName]}}]),r}(N),equalizer:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.getFrequencyOption=function(e){return this.options[this.nodeProperties[e].name]},r.prototype.requestFeatureContext=function(e){this.allGainsConstant||(e.alignedInputs=!0)},r.prototype.getJsInitLines=function(e,t,n){var i=this,o=1==this.affectedFreqsAndOptions.length,r=this.affectedFreqsAndOptions.every(function(e){return 0==e.option.input}),a=this.affectedFreqsAndOptions.every(function(e){return 1==e.option.input}),s=function(){return i.affectedFreqsAndOptions.map(function(e){return a?e.freq:"["+e.freq+","+(e.option.input?"null":e.option.value)+"]"}).join()},u=function(){return a?"freq":"freqData"},p=function(){var t=o?i.affectedFreqsAndOptions[0].freq:"freq",s=o?i.affectedFreqsAndOptions[0].option.value:"gain",u=r||o?i.nodeJsName:"node",p=o?i.getPropertyInputJsName("gain"+t):"input",c=o?"'"+i.getPropertyInputHtmlName("gain"+t)+"'":"'"+i.getPropertyInputHtmlName("gain")+"'+freq",l=y.b();a||o||l("var freq=freqData[0], gain=freqData[1];");var d=void 0;d=o?n:1==n.length?["prevNode"]:"prevNodes",l(e.getJsConnectAssignLines(r&&!o?"":"var",u,"ctx."+i.ctxCreateMethodName+"()",d)),e.setConnectSampleToJsNames&&!o&&l("if ("+i.connectToNodeJsName+"===undefined) {","	"+i.connectToNodeJsName+"="+u+";","}"),l(u+".type='peaking';",u+".frequency.value="+t+";");var f=y.bae(u+".gain.value="+s+";"),h=y.bae("var "+p+"=document.getElementById("+c+");",";("+p+".oninput=function(){","	"+u+".gain.value="+p+".value;","})();");if(!a&&r?l(f):a&&!r?l(h):a||r||l(g.b("if (gain!==null) {","} else {","}").ae(f,h)),!o){var v=r?u:i.nodeJsName+"="+u;l(1==n.length?"prevNode="+v+";":"prevNodes=["+v+"];")}return l.e()};if(o)return y.bae(w.parse("// "+t("comment.filters."+this.type+".single")),p());var c=y.b();return c(w.parse("// "+t("comment.filters."+this.type))),c(1==n.length?"var prevNode="+n[0]+";":"var prevNodes=["+n.join()+"];"),e.setConnectSampleToJsNames&&c("var "+this.connectToNodeJsName+";"),c("var "+this.nodeJsName+";",g.b(y.bae(";["+s()+"].forEach(function("+u()+"){"),y.bae("});")).ae(p())),c.e()},e(r,[{key:"type",get:function(){return"equalizer"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"frequencies",get:function(){return k.EqualizerFilter.frequencies}},{key:"nodeProperties",get:function(){return this.frequencies.map(function(e){return{name:"gain"+e,type:"range"}})}},{key:"affectedFreqsAndOptions",get:function(){var e=this;return this.frequencies.map(function(t,n){var i=e.getFrequencyOption(n);return{freq:t,option:i}}).filter(function(e){return 0!=e.option.input||0!=e.option.value})}},{key:"skipNode",get:function(){return 0==this.affectedFreqsAndOptions.length}},{key:"connectToNodeJsName",get:function(){return 1==this.affectedFreqsAndOptions.length?this.nodeJsName:h("connect.to."+this.type+this.nSuffix+".node")}},{key:"connectToNodeJsNames",get:function(){return[this.connectToNodeJsName]}}]),r}(N)},S=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.getEntryClass=function(e){return $[e.filter]},o.prototype.requestFeatureContext=function(e){if(e.audioProcessing)for(var t=this.entries,n=0;n<t.length;n++){var i=t[n];i.skipNode||(e.audioContext=!0,i.requestFeatureContext(e),void 0===e.connectSampleToJsNames&&(e.connectSampleToJsNames=i.connectToNodeJsNames))}},o.prototype.getHtmlLines=function(e,t){return e.audioProcessing?m.bae.apply(m,this.entries.filter(function(e){return!e.skipNode}).map(function(n){return n.getHtmlLines(e,t)})):m.be()},o.prototype.getJsInitLines=function(e,t,n){return e.audioProcessing?x.bae.apply(x,this.entries.filter(function(e){return!e.skipNode}).map(function(i){var o=i.getJsInitLines(e,t,n);return n=i.nodeJsNames,o})):m.be()},o.prototype.getNodeJsNames=function(e,t){if(!e.audioProcessing)return t;for(var n=this.entries,i=0;i<n.length;i++){var o=n[i];o.skipNode||(t=o.nodeJsNames)}return t},o}(q);a.exports=S},{10:10,15:15,16:16,17:17,18:18,23:23,26:26,35:35,45:45,6:6}],41:[function(e,t,n){var i="https://webaudio.github.io/web-audio-api/",o=function(e){return"<a href='https://github.com/WebAudio/web-audio-api/issues/"+e+"'>"+e+"</a>"},r="https://github.com/GoogleChrome/web-audio-samples/wiki/Detection-of-lowpass-BiquadFilter-implementation",a="{<span style='color:#800'>red</span>,<span style='color:#080'>green</span>,<span style='color:#008'>blue</span>,opacity}",s="{<span style='color:#800'>Красный</span> ,<span style='color:#080'>Зелёный</span> ,<span style='color:#008'>Синий</span> ,Альфа-}канал",u={en:{"options.sources":"Sources","options.sources.{audio,video}":"{Audio,Video} element","options.sources.{audio,video}.add":"Add {} element","options.sources.sample":"Sample","options.sources.sample.add":"Add sample","options.sources.sample.buffer.loading":"Loading and decoding the sample","options.sources.sample.buffer.error":"Error while loading the sample","options.sources.sample.repeat":"Repeat sample","options.sources.sample.interval":"Interval between repeats","options.sources.sample.randomShift":"Random shift of a start time","options.sources.sample.pitch":"Pitch","options.sources.sample.randomPitch":"Random pitch","options.sources.sample.gain":"Gain","options.sources.sample.randomGain":"Random gain","options.sources.{audio,video,sample}.url":"Source URL","options.sources.video.{width,height}":"Player {}","options.filters":"Filters","options.filters.gain":"Gain","options.filters.gain.add":"Add gain","options.filters.gain.gain":"Gain","options.filters.panner":"Stereo panner","options.filters.panner.add":"Add stereo panner","options.filters.panner.pan":"Pan","options.filters.biquad":"Biquad filter","options.filters.biquad.add":"Add biquad filter","options.filters.biquad.type":"Filter type","options.filters.biquad.type.{lowpass,highpass,bandpass,lowshelf,highshelf,peaking,notch,allpass}":"{}","options.filters.biquad.frequency":"Frequency","options.filters.biquad.detune":"Detune","options.filters.biquad.Q":"log(Q)","options.filters.biquad.gain":"Gain","options.filters.iir":"IIR filter","options.filters.iir.add":"Add IIR filter","options.filters.iir.feedforward":"Feedforward coefficients","options.filters.iir.feedforward.b":"b","options.filters.iir.feedforward.b.add":"Add coefficient","options.filters.iir.feedback":"Feedback coefficients","options.filters.iir.feedback.a":"a","options.filters.iir.feedback.a.add":"Add coefficient","options.filters.convolver":"Convolver","options.filters.convolver.add":"Add convolver","options.filters.convolver.url":"Impulse responce URL","options.filters.convolver.reverb":"Reverb (dry/wet)","options.filters.convolver.buffer.loading":"Loading and decoding the impulse response","options.filters.convolver.buffer.error":"Error while loading the impulse response","options.filters.equalizer":"Equalizer","options.filters.equalizer.add":"Add equalizer","options.filters.equalizer.gain{60,170,350,1000,3500,10000}":"{} Hz gain","options.destination":"Destination","options.destination.compressor":"Dynamics compressor","options.destination.compressor.enabled":"Add dynamics compressor before the destination","options.destination.{waveform,frequencies}":"{Waveform,Frequencies} visualization","options.destination.{waveform,frequencies}.enabled":"Enable {} visualization","options.destination.waveform.width":"Waveform line width","options.destination.waveform.color":"Waveform line color","options.destination.waveform.color.{r,g,b,a}":"Waveform line "+a,"options.destination.frequencies.cutoff":"Limit plot to a fraction of low frequences","options.destination.frequencies.base":"Frequency bars extend from","options.destination.frequencies.base.{bottom,middle}":"{} of canvas","options.destination.frequencies.coloring":"Frequency bars coloring","options.destination.frequencies.coloring.component":"with single color component","options.destination.frequencies.coloring.spectral":"spectral","options.destination.frequencies.coloringInput":"Frequency bars color depends on","options.destination.frequencies.coloringInput.{amplitude,frequency}":"{}","options.destination.frequencies.outline":"Frequency bars outline","options.destination.frequencies.outline.enabled":"Enable frequency bars outline","options.destination.frequencies.outline.width":"Frequency bars outline width","options.destination.frequencies.outline.color":"Frequency bars outline color","options.destination.frequencies.outline.color.{r,g,b,a}":"Frequency bars outline "+a,"options.destination.volume":"Volume meter","options.destination.volume.enabled":"Enable volume meter","options.destination.volume.stereo":"Meters for left and right stereo channels","options.destination.analyser":"Analyser","options.destination.analyser.logFftSize":"FFT size (power of 2)","options.canvas":"Canvas","options.canvas.{width,height}":"Canvas {}","options.canvas.background":"Background","options.canvas.background.type":"Background type","options.canvas.background.type.{clear,filled}":"{}","options.canvas.background.color":"Background fill color","options.canvas.background.color.{r,g,b,a}":"Background fill "+a,"options.loader":"Sample loader","options.loader.errors":"Error handling","options.loader.errors.none":"disabled","options.loader.errors.network":"network errors","options.loader.errors.http":"network and HTTP errors","options.api":"Web Audio API support","options.api.noVendorPrefix":"Can create an audio context without a vendor prefix","options.api.connectReturnValue":"Can use a return value of <code>AudioNode.connect()</code>","options-info.destination.analyser.logFftSize":"[[Fast Fourier transform]] size for the waveform/frequency visualization. Use a larger size to get a wider time window for the waveform and thinner frequency bars.","options-info.canvas.background.color.a":"Lower opacity values lead to a blur effect.","options-output.input":"Editable","options-output.range":"with range","options-output.filter.frequencyResponse":"Frequency response","options-output.filter.magnitude":"Magnitude","options-output.filter.phase":"Phase","options-output.filter.logMagnitude":"log magnitude scale","options-output.filter.logFrequency":"log frequency scale","options-output.filter.contextError":"Error creating audio context. Your browser likely doesn't support Web Audio API.","options-output.filter.nodeError":"Error creating filter node. Your browser likely doesn't support this filter type.","options-output.filter.biquad.clone":"Clone as IIR filter","options-output.filter.biquad.clone.{pre,post}":"Clone with {}-2016-04-15 coefficients","options-output.filter.biquad.clone.info":"<a href='"+i+"'>The API specification</a> was self-contradictory and implementations weren't following it. Additionally, it was discovered that filter coefficient formulas need to be changed to accomodate a wider range of lowpass and highpass filters. See Web Audio API issues "+o(769)+", "+o(771)+" and "+o(791)+" for details. A possible method to check if an implementation has switched to the updated formulas is offered <a href='"+r+"'>here</a>.","options-output.show":"Show","options-output.hide":"Hide","code-output.warning.jsfiddle-run":"You may have to click <kbd>Run</kbd> in JSFiddle to get sound output working","code-output.warning.interesting":"You need at least one source and some processing enabled to get interesting JavaScript code","code.title":"Web Audio API example — generated code","label.sources.sample.play":"Play sample","label.destination.compressor":"Enable dynamics compressor","comment.context":"create [audio context][context]","comment.sources.audio":"create [audio source node][source]","comment.sources.video":"create [video source node][source]","comment.sources.sample":"load [sample][buffer]","comment.filters.gain":"create [gain node][gain]","comment.filters.panner":"create [stereo panner node][panner]","comment.filters.biquad":"create [biquad filter node][biquad]","comment.filters.iir":"create [IIR filter node][iir]","comment.filters.convolver":"create dry and wet routes with [convolver node][convolver]","comment.filters.convolver.single":"create [convolver node][convolver]","comment.filters.equalizer":"create equalizer as a sequence of [peaking][peaking] [biquad filter nodes][biquad]","comment.filters.equalizer.single":"create equalizer as a [peaking][peaking] [biquad filter node][biquad]","comment.destination":"connect last node to [destination][destination]","comment.destination.compressor":"create [dynamics compressor node][compressor]","comment.destination.analyser":"create [analyser node][analyser]","comment.destination.analyser.{waveform,frequencies,waveform+frequencies}":"create [analyser node][analyser] for {waveform,frequencies,waveform and frequencies} visualization","comment.destination.analyser.split":"create [channel splitter node][splitter] connected to two [analyser nodes][analyser]","units.pixel.a":"px","units.pixel.{1,2}":"pixel{,s}","units.hertz.a":"Hz","units.hertz.{1,2}":"Hertz","units.decibel.a":"dB","units.decibel.{1,2}":"decibel{,s}","units.second.a":"s","units.second.{1,2}":"second{,s}"},ru:{"options.sources":"Источники","options.sources.{audio,video}":"Элемент <code>{}</code>","options.sources.{audio,video}.add":"Добавить элемент <code>{}</code>","options.sources.sample":"Сэмпл","options.sources.sample.add":"Добавить сэмпл","options.sources.sample.buffer.loading":"Идёт загрузка и декодирование сэмпла","options.sources.sample.buffer.error":"Ошибка загрузки сэмпла","options.sources.sample.repeat":"Повторить сэмпл","options.sources.sample.interval":"Интервал между повторами","options.sources.sample.randomShift":"Случайный сдвиг начала проигрывания","options.sources.sample.pitch":"Высота","options.sources.sample.randomPitch":"Случайная высота","options.sources.sample.gain":"Громкость","options.sources.sample.randomGain":"Случайная громкость","options.sources.{audio,video,sample}.url":"URL источника","options.sources.video.{width,height}":"{Ширина,Высота} проигрывателя","options.filters":"Фильтры","options.filters.gain":"Усилитель","options.filters.gain.add":"Добавить усилитель","options.filters.gain.gain":"Коэффициент усиления","options.filters.panner":"Панорамирование","options.filters.panner.add":"Добавить панорамирование","options.filters.panner.pan":"Баланс","options.filters.biquad":"Биквадратичный фильтр","options.filters.biquad.add":"Добавить биквадратичный фильтр","options.filters.biquad.type":"Тип фильтра","options.filters.biquad.type.lowpass":"нижних частот","options.filters.biquad.type.highpass":"верхних частот","options.filters.biquad.type.bandpass":"полосовой","options.filters.biquad.type.{lowshelf,highshelf,peaking}":"{}","options.filters.biquad.type.notch":"полосно-заграждающий","options.filters.biquad.type.allpass":"всепропускающий","options.filters.biquad.frequency":"Частота","options.filters.biquad.detune":"Detune","options.filters.biquad.Q":"Логарифм добротности","options.filters.biquad.gain":"Усиление","options.filters.iir":"БИХ-фильтр","options.filters.iir.add":"Добавить БИХ-фильтр","options.filters.iir.feedforward":"Коэффициенты прямой связи","options.filters.iir.feedforward.b":"b","options.filters.iir.feedforward.b.add":"Добавить коэффициент","options.filters.iir.feedback":"Коэффициенты обратной связи","options.filters.iir.feedback.a":"a","options.filters.iir.feedback.a.add":"Добавить коэффициент","options.filters.convolver":"Свёртка","options.filters.convolver.add":"Добавить свёртку","options.filters.convolver.url":"URL импульсной характеристики","options.filters.convolver.reverb":"Соотношение прямого/обработанного звука","options.filters.convolver.buffer.loading":"Идёт загрузка и декодирование импульсной характеристики","options.filters.convolver.buffer.error":"Ошибка загрузки импульсной характеристики","options.filters.equalizer":"Эквалайзер","options.filters.equalizer.add":"Добавить эквалайзер","options.filters.equalizer.gain{60,170,350,1000,3500,10000}":"Усиление частоты {} Гц","options.destination":"Выход","options.destination.compressor":"Компрессор","options.destination.compressor.enabled":"Добавить компрессор перед выходом","options.destination.{waveform,frequencies}":"Визуализация {формы волны,частот}","options.destination.{waveform,frequencies}.enabled":"Включить визуализацию {формы волны,частот}","options.destination.waveform.width":"Ширина линии волны","options.destination.waveform.color":"Цвет линии волны","options.destination.waveform.color.{r,g,b,a}":s+" линии волны","options.destination.frequencies.cutoff":"Ограничить рисование долей низких частот","options.destination.frequencies.base":"Полосы частот растут от","options.destination.frequencies.base.{bottom,middle}":"{низа,середины} элемента <code>canvas</code>","options.destination.frequencies.coloring":"Раскраска полос частот","options.destination.frequencies.coloring.component":"одним цветовым каналом","options.destination.frequencies.coloring.spectral":"спектральная","options.destination.frequencies.coloringInput":"Цвет полос зависит от","options.destination.frequencies.coloringInput.{amplitude,frequency}":"{амплитуды,частоты}","options.destination.frequencies.outline":"Контур полос частот","options.destination.frequencies.outline.enabled":"Включить рисование контура частот","options.destination.frequencies.outline.width":"Ширина контура частот","options.destination.frequencies.outline.color":"Цвет контура частот","options.destination.frequencies.outline.color.{r,g,b,a}":s+" контура частот","options.destination.volume":"Индикатор громкости","options.destination.volume.enabled":"Включить индикатор громкости","options.destination.volume.stereo":"Отдельные индикаторы для левого и правого каналов","options.destination.analyser":"Анализатор","options.destination.analyser.logFftSize":"Размер БПФ (степень 2)","options.canvas":"Элемент <code>canvas</code>","options.canvas.{width,height}":"{Ширина,Высота} элемента <code>canvas</code>","options.canvas.background":"Фон","options.canvas.background.type":"Тип фона","options.canvas.background.type.{clear,filled}":"{прозрачный,закрашенный}","options.canvas.background.color":"Цвет фона","options.canvas.background.color.{r,g,b,a}":s+" фона","options.loader":"Загрузчик сэмплов","options.loader.errors":"Обработка ошибок загрузки","options.loader.errors.none":"отключена","options.loader.errors.network":"для сетевых ошибок","options.loader.errors.http":"для сетевых ошибок и ошибок HTTP","options.api":"Поддержка Web Audio API","options.api.noVendorPrefix":"Можно создавать аудио-контекст без префиксов производителей","options.api.connectReturnValue":"Можно использовать значение, возвращаемое <code>AudioNode.connect()</code>","options-info.destination.analyser.logFftSize":"Размер [[Быстрое преобразование Фурье|Быстрого преобразования Фурье]] для визуализаций формы волны и частот. Больший размер даёт более широкое окно для формы волны и более тонкие полосы частот.","options-info.canvas.background.color.a":"Низкие значения альфа-канала приводят к эффекту размывания.","options-output.input":"Значение изменяемо","options-output.range":"в диапазоне","options-output.filter.frequencyResponse":"Частотная характеристика","options-output.filter.magnitude":"Амплитуда","options-output.filter.phase":"Фаза","options-output.filter.logMagnitude":"логарифмическая шкала амплитуды","options-output.filter.logFrequency":"логарифмическая шкала частоты","options-output.filter.contextError":"Ошибка создания аудио-контекста. Вероятно, браузер не поддерживает Web Audio API.","options-output.filter.nodeError":"Ошибка создания узла фильтра. Вероятно, браузер не поддерживает данный тип фильтров.","options-output.filter.biquad.clone":"Клонировать в виде БИХ-фильтра","options-output.filter.biquad.clone.{pre,post}":"Клонировать с коэффициентами по версиям {до,после} 2016-04-15","options-output.filter.biquad.clone.info":"<a href='"+i+"'>Спецификация API</a> была противоречива и реализации ей не следовали. Также было обнаружено, что формулы для коэффициентов фильтров должны быть изменены, чтобы стало возможно задавать некоторые фильтры низких и высоких частот, которые ранее задать было невозможно. Подробности можно узнать из Web Audio API issues "+o(769)+", "+o(771)+" и "+o(791)+". Возможный метод обнаружения, перешла ли реализация на новые формулы, приводится <a href='"+r+"'>здесь</a>.","options-output.show":"Показать","options-output.hide":"Скрыть","code-output.warning.jsfiddle-run":"Для корректного вывода звука в JSFiddle может потребоваться нажатие кнопки <kbd>Run</kbd>","code-output.warning.interesting":"Для нетривиального JavaScript-кода нужно включить по крайней мере один источник и последующую обработку звука","code.title":"Пример использования Web Audio API — сгенерированный код","label.sources.sample.play":"Играть сэмпл","label.destination.compressor":"Включить компрессор","comment.context":"создаём [аудио-контекст][context]","comment.sources.audio":"создаём [узел источника аудио][source]","comment.sources.video":"создаём [узел источника видео][source]","comment.sources.sample":"загружаем [сэмпл][buffer]","comment.filters.gain":"создаём [узел усилителя][gain]","comment.filters.panner":"создаём [узел панорамирования][panner]","comment.filters.biquad":"создаём [узел биквадратичного фильтра][biquad]","comment.filters.iir":"создаём [узел БИХ-фильтра][iir]","comment.filters.convolver":"создаём прямой путь и путь через [узел свёртки][convolver]","comment.filters.convolver.single":"создаём [узел свёртки][convolver]","comment.filters.equalizer":"создаём эквалайзер в виде последовательности [peaking][peaking] [биквадратичных фильтров][biquad]","comment.filters.equalizer.single":"создаём эквалайзер в виде [peaking][peaking] [биквадратичного фильтра][biquad]","comment.destination":"соединяем последний узел с [выходом][destination]","comment.destination.compressor":"создаём [узел компрессора][compressor]","comment.destination.analyser":"создаём [узел анализатора][analyser]","comment.destination.analyser.{waveform,frequencies,waveform+frequencies}":"создаём [узел анализатора][analyser] для визуализации {формы волны,частот,формы волны и частот}","comment.destination.analyser.split":"создаём [узел разделения каналов][splitter], соединённый с двумя [узлами анализатора][analyser]","units.pixel.a":"px","units.pixel.{1,2,5}":"пиксел{ь,я,ей}","units.hertz.a":"Гц","units.hertz.{1,2,5}":"Герц{,а,}","units.decibel.a":"дБ","units.decibel.{1,2,5}":"децибел{,а,ов}","units.second.a":"с","units.second.{1,2,5}":"секунд{а,ы,}"}};for(var p in u){var c=u[p];c=e(12)(c),c=e(13)(p)(c),c=e(20)(p)(c),c=e(2)(p)(c),u[p]=c}t.exports=e(14)(u)},{12:12,13:13,14:14,2:2,20:20}],42:[function(e,o,r){var a=e(39),s=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.getFilterNodes=function(e){return[e.createIIRFilter(this.option.entries[0].entries.map(function(e){return e.value}),this.option.entries[1].entries.map(function(e){return e.value}))]},o}(a);o.exports=s},{39:39}],43:[function(e,o,r){var a=e(26),s=e(16),u=e(38),p=function(e){function o(i){t(this,o);var r=n(this,e.call(this));return r.options=i,r}return i(o,e),o.prototype.requestFeatureContext=function(e){"none"!=this.options.errors&&(e.loaderOnError=!0)},o.prototype.getJsInitLines=function(e,t,n){if(!e.loader)return s.be();var i=s.b();return i("var xhr=new XMLHttpRequest();","xhr.open('GET',url);","xhr.responseType='arraybuffer';","xhr.onload=function(){"),"http"==this.options.errors?i("	if (this.status==200) {","		ctx.decodeAudioData(this.response,onDecode);","	} else {","		this.onerror();","	}"):i("	ctx.decodeAudioData(this.response,onDecode);"),i("};"),"none"!=this.options.errors&&i("xhr.onerror=onError;"),i("xhr.send();"),a.b(s.bae("function loadSample(url,onDecode"+("none"!=this.options.errors?",onError":"")+") {"),s.bae("}")).ae(i.e())},o}(u);o.exports=p},{16:16,26:26,38:38}],44:[function(e,t,n){function i(){return"webaudio-starter-id-"+o++}var o=0,r=e(41),a=e(47),s=e(34),u=e(46),p=e(33);$(function(){$(".webaudio-starter").each(function(){var e=$(this),t=e.closest("[lang]").attr("lang"),n=r(t),o=new a,c=new p(function(){return new s(o.fix(),n)},n);o.addUpdateCallback(c.update);var l=new u(o,i,n);e.empty().append(l.$output,c.$output)})})},{33:33,34:34,41:41,46:46,47:47}],45:[function(o,r,a){var s=Object.create(o(19));s.LiveNumber=function(o){function r(e,i,a,s,u,p){t(this,r);var c=void 0,l=void 0,d=void 0,f=void 0;"object"==typeof a?(c=a.value,l=a.min,d=a.max,f=a.input):c=a;var h=n(this,o.apply(this,arguments));return void 0!==i.defaultMin?h.defaultMin=i.defaultMin:h.defaultMin=h.availableMin,void 0!==i.defaultMax?h.defaultMax=i.defaultMax:h.defaultMax=h.availableMax,h._min=void 0!==l?l:h.defaultMin,h._max=void 0!==d?d:h.defaultMax,h._input=!!f,h._$range=null,h}return i(r,o),r.prototype.updateInternalVisibility=function(){this._$range&&this._$range.toggle(this._input)},r.prototype.exportHelper=function(e){var t={};return e.value!=e.defaultValue&&(t.value=e.value),e.min!=e.availableMin&&(t.min=e.min),e.max!=e.availableMax&&(t.max=e.max),e.input&&(t.input=e.input),t},r.prototype["export"]=function(){return this.exportHelper(this)},r.prototype.fix=function(){var e=o.prototype.fix.call(this);return e.min=this.min,e.max=this.max,e.input=this.input,e.defaultValue=this.defaultValue,e},e(r,[{key:"input",get:function(){return this._input},set:function(e){this._input=e,this.updateInternalVisibility(),this.update()}},{key:"min",get:function(){return this._min},set:function(e){this._min=e,this.update()}},{key:"max",get:function(){return this._max},set:function(e){this._max=e,this.update()}},{key:"$range",get:function(){return this._$range},set:function(e){this._$range=e,this.updateInternalVisibility()}}]),r}(s.Number),s.LiveInt=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"precision",get:function(){return 0}}]),r}(s.LiveNumber),s.LiveFloat=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),e(r,[{key:"precision",get:function(){return 2}}]),r}(s.LiveNumber);var u=function(){function e(n){t(this,e),this.value=n.value,this.input=n.input,this.defaultValue=n.defaultValue,this.availableValues=n.availableValues,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e}();s.LiveSelect=function(o){function r(e,i,a,s,u,p){t(this,r);var c=void 0,l=void 0;"object"==typeof a?(c=a.value,l=a.input):c=a;var d=n(this,o.apply(this,arguments));return d._input=!!l,d}return i(r,o),r.prototype["export"]=function(){var e={};return this.value!=this.defaultValue&&(e.value=this.value),this.input&&(e.input=this.input),e},r.prototype.fix=function(){return new u(this)},e(r,[{key:"input",get:function(){return this._input},set:function(e){this._input=e,this.update()}}]),r}(s.Select),s.AnyFloat=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.NonBoolean),s.BiquadFilter=function(e){function o(i,r,a,u,p,c){t(this,o);var l=n(this,e.apply(this,arguments)),d=l.entries[0],f=l.entries[3],h=l.entries[4];return f.isVisible=function(){return d.input||s.BiquadFilter.typeUsesQ(d.value)},h.isVisible=function(){return d.input||s.BiquadFilter.typeUsesGain(d.value)},d.addUpdateCallback(function(){f.updateVisibility(),h.updateVisibility()}),l}return i(o,e),o.typeUsesQ=function(e){return!!{lowpass:!0,highpass:!0,bandpass:!0,peaking:!0,notch:!0,allpass:!0}[e]},o.typeUsesGain=function(e){return!!{lowshelf:!0,highshelf:!0,peaking:!0}[e]},o.collectArgs=function(t,n,i){return i=Object.create(i),i.descriptions=[["LiveSelect","type",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]],["LiveInt","frequency",[0,22050],350,{unit:"hertz"}],["LiveInt","detune",[0,100],{unit:"¢"}],["LiveFloat","Q",[-4,4],0],["LiveInt","gain",[-30,30],0,{unit:"decibel"}]],e.collectArgs.call(this,t,n,i)},o}(s.Group),s.IIRFilterCoefs=function(e){function o(i,r,a,s,u,p){t(this,o);var c=n(this,e.apply(this,arguments));if(0==c._entries.length){var l=c.availableTypes[0];c._entries.push(c.makeEntry(l))}return c}return i(o,e),o}(s.Array),s.IIRFilter=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.collectArgs=function(t,n,i){return i=Object.create(i),i.descriptions=[["IIRFilterCoefs","feedforward",[["AnyFloat","b",1]]],["IIRFilterCoefs","feedback",[["AnyFloat","a",1]]]],e.collectArgs.call(this,t,n,i)},o}(s.Group),s.EqualizerFilter=function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.collectArgs=function(e,t,n){return n=Object.create(n),n.descriptions=s.EqualizerFilter.frequencies.map(function(e){return["LiveInt","gain"+e,[-30,30],0,{unit:"decibel"}]}),o.collectArgs.call(this,e,t,n)},e(r,null,[{key:"frequencies",get:function(){return[60,170,350,1e3,3500,1e4]}}]),r}(s.Group),s.Filters=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o}(s.Array),r.exports=s},{19:19}],46:[function(e,o,r){var a=e(45),s=e(21),u=e(1),p=e(31),c=e(42),l=e(37),d=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.writeDraggableSubOption=function(t,n,i){var o=e.prototype.writeDraggableSubOption.call(this,t,n,i),r=this;return t instanceof a.BiquadFilter&&o.find("button.clone").click(function(){var e=$(this),t=e.data("coefs");if(t){var o=r.option.makeEntry("iir",t);r.$entries.append(r.writeDraggableSubOption(o,n,i)),r.updateArrayEntries()}}),o},o}(u),f=function(e){function o(i,r,a,s){t(this,o);var u=n(this,e.call(this,i,r,a,s));return u.updateArrayEntryLabels(),u}return i(o,e),o.prototype.canDeleteEntry=function(e){return this.option.entries.length>1},o.prototype.updateArrayEntries=function(){e.prototype.updateArrayEntries.call(this),this.updateArrayEntryLabels()},o.prototype.updateArrayEntryLabels=function(){
this.$entries.children().each(function(e){var t=$(this).data("option").name;$(this).find("label").addClass("short").html(t+"<sub>"+e+"</sub>:")})},o}(u),h=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.setOptionClassWriters=function(t){var n=this;e.prototype.setOptionClassWriters.call(this,t),t.set(a.LiveNumber,function(e,n,i,o){var r=e.precision,s=function(t){return t.attr("min",e.availableMin).attr("max",e.availableMax).attr("step",Math.pow(.1,r).toFixed(r))},u=function(t){return s($("<input type='number' required>")).val(e[t]).on("input change",function(){this.checkValidity()&&(e[t]=parseFloat(this.value))})},p=void 0,c=void 0,l=void 0,d=t.get(a.Number)(e,n,i,o);return d.find("button").before($("<label class='nowrap'>").append(p=$("<input type='checkbox'>").prop("checked",e.input).change(function(){e.input=$(this).prop("checked")})," "+i("options-output.input"))," ",e.$range=$("<span class='range'>").append(i("options-output.range")+" ",$("<span class='nowrap'>").append(c=u("min")," .. ",l=u("max")))," ").click(function(){p.prop("checked",!1).change(),c.val(e.defaultMin).change(),l.val(e.defaultMax).change()}),d}),t.set(a.LiveSelect,function(e,t,i,o){var r=o(),a=void 0,s=void 0;return e.$=$("<div class='option'>").append(n.getLeadLabel(r,i,e),a=$("<select id='"+r+"'>").append(e.availableValues.map(function(t){return $("<option>").val(t).html(i("options."+e.fullName+"."+t))})).val(e.value).change(function(){e.value=this.value})," ",$("<label class='nowrap'>").append(s=$("<input type='checkbox'>").prop("checked",e.input).change(function(){e.input=$(this).prop("checked")})," "+i("options-output.input"))," ",$("<button type='button'>"+i("options-output.reset")+"</button>").click(function(){a.val(e.defaultValue).change(),s.prop("checked",!1).change()}))}),t.set(a.AnyFloat,function(e,t,i,o){var r=o();return e.$=$("<div class='option'>").append(n.getLeadLabel(r,i,e),$("<input type='number' id='"+r+"' step='any' required>").val(e.value).on("input change",function(){this.checkValidity()&&(e.value=parseFloat(this.value))}))}),t.set(a.IIRFilterCoefs,function(){return(new(Function.prototype.bind.apply(f,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.BiquadFilter,function(){return(new(Function.prototype.bind.apply(p,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.IIRFilter,function(){return(new(Function.prototype.bind.apply(c,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.EqualizerFilter,function(){return(new(Function.prototype.bind.apply(l,[null].concat(Array.prototype.slice.call(arguments))))).$output}),t.set(a.Filters,function(){return(new(Function.prototype.bind.apply(d,[null].concat(Array.prototype.slice.call(arguments))))).$output})},o}(s);o.exports=h},{1:1,21:21,31:31,37:37,42:42,45:45}],47:[function(o,r,a){var s=o(22),u=function(r){function a(){return t(this,a),n(this,r.apply(this,arguments))}return i(a,r),e(a,[{key:"entriesDescription",get:function(){return[["Array","sources",[["Group","audio",[["Text","url",["http://mainline.i3s.unice.fr/mooc/guitarRiff1.mp3","http://mainline.i3s.unice.fr/mooc/drums.mp3","http://mainline.i3s.unice.fr/mooc/LaSueur.mp3","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/bass.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/drums.ogg","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/guitar.ogg"]]]],["Group","video",[["Text","url",["http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.webm","http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.mp4","http://mainline.i3s.unice.fr/mooc/sintel.webm","http://mainline.i3s.unice.fr/mooc/sintel.mp4"]],["Int","width",[1,1920],320,{unit:"pixel"}],["Int","height",[1,1080],240,{unit:"pixel"}]]],["Group","sample",[["Text","url",["http://mainline.i3s.unice.fr/mooc/shoot1.mp3","http://mainline.i3s.unice.fr/mooc/shoot2.mp3"]],["Int","repeat",[1,20]],["Float","interval",[0,1],.1,{unit:"second"}],["Float","randomShift",[0,1],{unit:"second"}],["Float","pitch",[0,2],1],["Float","randomPitch",[0,1]],["Float","gain",[0,2],1],["Float","randomGain",[0,1]]]]],"source"],["Filters","filters",[["Group","gain",[["LiveFloat","gain",[0,10],1,{defaultMax:1}]]],["Group","panner",[["LiveFloat","pan",[-1,1],0]]],["BiquadFilter","biquad"],["IIRFilter","iir"],["Group","convolver",[["LiveFloat","reverb",[0,1]],["Text","url",["http://mainline.i3s.unice.fr/mooc/Scala-Milan-Opera-Hall.wav","https://cdn.rawgit.com/cwilso/WebAudio/9ece1787cede81ddcd26f2a78d4fb3ba0812379a/sounds/irHall.ogg"]]]],["EqualizerFilter","equalizer"]],"filter"],["Group","destination",[["Group","compressor",[["Checkbox","enabled"]]],["Group","waveform",[["Checkbox","enabled"],["Float","width",[0,10],1,{unit:"pixel",visibilityData:{"destination.waveform.enabled":[!0]}}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"destination.waveform.enabled":[!0]}}]]],["Group","frequencies",[["Checkbox","enabled"],["Int","cutoff",[10,100],100,{unit:"%",visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","base",["bottom","middle"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","coloring",["component","spectral"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Select","coloringInput",["amplitude","frequency"],{visibilityData:{"destination.frequencies.enabled":[!0]}}],["Group","outline",[["Checkbox","enabled"],["Float","width",[0,10],1,{unit:"pixel",visibilityData:{"destination.frequencies.outline.enabled":[!0]}}],["Group","color",[["Int","r",[0,100],0,{unit:"%"}],["Int","g",[0,100],0,{unit:"%"}],["Int","b",[0,100],0,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"destination.frequencies.outline.enabled":[!0]}}]],{visibilityData:{"destination.frequencies.enabled":[!0]}}]]],["Group","volume",[["Checkbox","enabled"],["Checkbox","stereo",{visibilityData:{"destination.volume.enabled":[!0]}}]]],["Group","analyser",[["Int","logFftSize",[5,12],8]],{visibilityData:{"destination.waveform.enabled":[!0],"destination.frequencies.enabled":[!0],"destination.volume.enabled":[!0]},visibilityDataLogic:"or"}]]],["Group","canvas",[["Int","width",[1,1920],300,{unit:"pixel"}],["Int","height",[1,1080],100,{unit:"pixel"}],["Group","background",[["Select","type",["clear","filled"]],["Group","color",[["Int","r",[0,100],100,{unit:"%"}],["Int","g",[0,100],100,{unit:"%"}],["Int","b",[0,100],100,{unit:"%"}],["Int","a",[0,100],100,{unit:"%"}]],{visibilityData:{"canvas.background.type":["filled"]}}]]]],{visibilityData:{"destination.waveform.enabled":[!0],"destination.frequencies.enabled":[!0],"destination.volume.enabled":[!0]},visibilityDataLogic:"or"}],["Group","loader",[["Select","errors",["none","network","http"]]]],["Group","api",[["Checkbox","noVendorPrefix"],["Checkbox","connectReturnValue"]]]]}},{key:"optionClasses",get:function(){return o(45)}}]),a}(s);r.exports=u},{22:22,45:45}],48:[function(r,a,s){var u=o(["<audio src="," id="," controls loop crossorigin=","></audio>"],["<audio src="," id="," controls loop crossorigin=","></audio>"]),p=o(["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"],["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"]),c=o(["<button id="," disabled>","</button> <span id=",">","</span>"],["<button id="," disabled>","</button> <span id=",">","</span>"]),l=r(6),d=r(10),f=r(17),h=r(16),v=r(26),m=r(15),y=r(23),g=r(35),b=function(){function n(e,i){t(this,n),this.options=e,this.n=i}return n.prototype.getHtmlLines=function(e,t){return v.b("<div>","</div>").ae(this.getElementHtmlLines(e,t))},n.prototype.getJsInitLines=function(e,t){return h.bae(y.parse("// "+t("comment.sources."+this.type)),"var "+this.nodeJsName+"=ctx.createMediaElementSource(document.getElementById('"+this.elementHtmlName+"'));")},e(n,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"elementHtmlName",get:function(){return"my."+this.type+this.nSuffix}},{key:"nodeJsName",get:function(){return l(this.type+this.nSuffix+".node")}}]),n}(),x={audio:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.getElementHtmlLines=function(e,t){return f.bae(f.html(u,this.options.url,this.elementHtmlName,e.audioContext?"anonymous":!1))},e(r,[{key:"type",get:function(){return"audio"}}]),r}(b),video:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.getElementHtmlLines=function(e,t){return f.bae(f.html(p,this.options.url,this.elementHtmlName,this.options.width,this.options.height,e.audioContext?"anonymous":!1))},e(r,[{key:"type",get:function(){return"video"}}]),r}(b),sample:function(o){function r(){return t(this,r),n(this,o.apply(this,arguments))}return i(r,o),r.prototype.getElementHtmlLines=function(e,t){var n=this.elementHtmlName+".buffer";return f.bae(f.html(c,this.elementHtmlName,t("label.sources.sample.play"),n,t("options.sources.sample.buffer.loading")))},r.prototype.getJsInitLines=function(e,t){var n=this,i=this.elementHtmlName+".buffer",o=function(e){return 1==e?"":"*"+e},r=function(t){var i=function(e,t){var n={};n.base=e,t>0&&(n.random=t);var i=d.js(n),r=i.base;return t>0&&(r+="+Math.random()"+o(i.random)),r},r=h.b(),a="bufferSourceNode";return r("var bufferSourceNode=ctx.createBufferSource();","bufferSourceNode.buffer=buffer;"),(1!=n.options.pitch||n.options.randomPitch>0)&&r("bufferSourceNode.playbackRate.value="+i(n.options.pitch,n.options.randomPitch)+";"),(1!=n.options.gain||n.options.randomGain>0)&&(a="bufferSourceGainNode",r(e.getJsConnectAssignLines("var","bufferSourceGainNode","ctx.createGain()",["bufferSourceNode"]),"bufferSourceGainNode.gain.value="+i(n.options.gain,n.options.randomGain)+";")),e.connectSampleToCompressor?r.apply(void 0,["if (document.getElementById('my.compressor').checked) {","	"+a+".connect(compressorNode);","} else {"].concat(e.connectSampleToJsNames.map(function(e){return"	"+a+".connect("+e+");"}),["}"])):r.apply(void 0,e.connectSampleToJsNames.map(function(e){return a+".connect("+e+");"})),r("bufferSourceNode.start("+t+");"),r.e()},a=function(){var e="",t={};1!=n.options.repeat&&(t.interval=n.options.interval),n.options.randomShift>0&&(t.randomShift=n.options.randomShift);var i=d.js(t);return 1!=n.options.repeat&&(e+="+i"+o(i.interval)),n.options.randomShift>0&&(e+="+Math.random()"+o(i.randomShift)),e.length>0&&(e="ctx.currentTime"+e),1==n.options.repeat?r(e):v.b(h.bae("for (var i=0;i<"+n.options.repeat+";i++) {"),h.bae("}")).ae(r(e))},s=function(){var e=h.b();return e("var button=document.getElementById('"+n.elementHtmlName+"');"),e(v.b(h.bae("button.onclick=function(){"),h.bae("};")).ae(a())),e("button.disabled=false;","document.getElementById('"+i+"').textContent='';"),e.e()},u=function(){return h.bae("document.getElementById('"+i+"').textContent='"+t("options.sources.sample.buffer.error")+"';")},p=h.bae(y.parse("// "+t("comment.sources."+this.type)),"loadSample('"+this.options.url+"',function(buffer){"),c=h.bae("},function(){"),l=h.bae("});");return e.loaderOnError?v.b(p,c,l).ae(s(),u()):v.b(p,l).ae(s())},e(r,[{key:"type",get:function(){return"sample"}}]),r}(b)},w=function(e){function o(){return t(this,o),n(this,e.apply(this,arguments))}return i(o,e),o.prototype.getEntryClass=function(e){return x[e.source]},o.prototype.requestFeatureContext=function(e){this.entries.length>0&&(e.audioProcessing=!0),this.entries.some(function(e){return"sample"==e.type})&&(e.audioContext=!0,e.loader=!0,e.setConnectSampleToJsNames=!0)},o.prototype.getJsInitLines=function(e,t,n){var i=m.b();return e.audioContext&&i.apply(void 0,this.entries.map(function(n){return n.getJsInitLines(e,t)})),i.e()},o.prototype.getNodeJsNames=function(e,t){var n=[];return e.audioContext&&(n=this.entries.filter(function(e){return"sample"!=e.type}).map(function(e){return e.nodeJsName})),n.length>0?n:t},o}(g);a.exports=w},{10:10,15:15,16:16,17:17,23:23,26:26,35:35,6:6}]},{},[44])}();
//# sourceMappingURL=webaudio-starter.js.map
