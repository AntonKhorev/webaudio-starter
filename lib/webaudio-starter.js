!function(){var t={"typeof":function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},createClass:function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},possibleConstructorReturn:function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},inherits:function(t,e){function n(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}return t}if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&n(t,e)}};!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,i){"use strict";var r=function(){function e(){t.classCallCheck(this,e),this.data=this.flattenArgs(arguments)}return e.prototype.preprocessString=function(t){return t},e.prototype.flattenArgs=function(t){for(var n=this,i=[],r=0;r<t.length;r++)"string"==typeof t[r]?i.push(this.preprocessString(t[r])):Array.isArray(t[r])?i.push.apply(i,t[r].map(function(t){return n.preprocessString(t)})):t[r]instanceof e&&i.push.apply(i,t[r].data);return i},e.prototype.a=function(){var t;return(t=this.data).push.apply(t,this.flattenArgs(arguments)),this},e.prototype.t=function(){var t,e=this.data.pop(),n=this.flattenArgs(arguments);return n[0]=e+n[0],(t=this.data).push.apply(t,n),this},e.prototype.indent=function(t){return void 0===t&&(t=1),this.data=this.data.map(function(e){return Array(t+1).join("	")+e}),this},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.interleave=function(){for(var t=!0,e=0;e<arguments.length;e++){var n=this.flattenArgs([arguments[e]]);if(n.length>0){var i;t?t=!1:this.data.push(""),(i=this.data).push.apply(i,n)}}return this},e.prototype.wrap=function(t,e){return this.indent(),this.data.unshift(this.preprocessString(t)),this.data.push(this.preprocessString(e)),this},e.prototype.wrapIfNotEmpty=function(t,e){return this.isEmpty()||this.wrap(t,e),this},e.prototype.join=function(t){return this.data.map(function(e){return e.replace(/^(\t)+/,function(e){return Array(e.length+1).join(t)})}).join("\n")},e}();n.exports=r},{}],2:[function(e,n,i){"use strict";var r={};r.Base=function(){function e(n,i,r,o,a,s,u){t.classCallCheck(this,e),this.name=n,this.isVisible=s,this.updateCallback=u,this.fullName=a,this._$=null}return e.prototype.updateVisibility=function(){this.$&&this.$.toggle(this.isVisible())},e.prototype.shortenExport=function(t){var e=Object.keys(t);return 1==e.length&&"value"==e[0]?t.value:t},e.prototype.shortenExportAssign=function(t,e,n){var i=Object.keys(t);1==i.length&&"value"==i[0]?e[n]=t.value:i.length>0&&(e[n]=t)},t.createClass(e,[{key:"$",get:function(){return this._$},set:function(t){this._$=t,this.updateVisibility()}}]),e}(),r.Input=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.apply(this,arguments));return void 0!==o?l.defaultValue=o:l.defaultValue=r[0],"object"==typeof a&&(a=a.value),void 0!==a?l._value=a:l._value=l.defaultValue,l}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),t},t.createClass(n,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.updateCallback()}}]),n}(r.Base),r.BooleanInput=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.fix=function(){return this.value},n}(r.Input),r.NonBooleanInput=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.fix=function(){var t=this.value;return{name:this.name,value:t,valueOf:function(){return t},toString:function(){return String(t)}}},n}(r.Input),r.FactorInput=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.apply(this,arguments));return l.availableValues=r,l}return t.inherits(n,e),n}(r.NonBooleanInput),r.RangeInput=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.apply(this,arguments));return l.availableMin=r[0],l.availableMax=r[1],l}return t.inherits(n,e),n}(r.NonBooleanInput),r.Collection=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.apply(this,arguments));return l.entries=r,l}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.entries.forEach(function(e){e.shortenExportAssign(e["export"](),t,e.name)}),t},n.prototype.fix=function(){var t=[],e={name:this.name,entries:t};return this.entries.forEach(function(n){t.push(e[n.name]=n.fix())}),e},n}(r.Base),r.Void=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype["export"]=function(){return{}},n.prototype.fix=function(){return{name:this.name}},n}(r.Base),r.Checkbox=function(e){function n(i,r,o,a,s,u,p){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.call(this,i,void 0,!!o,a,s,u,p))}return t.inherits(n,e),n}(r.BooleanInput),r.Select=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.FactorInput),r.Text=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.FactorInput),r.Int=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.RangeInput),r.Root=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.Collection),r.Group=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.Collection),r.Array=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=t.possibleConstructorReturn(this,e.call(this,i,void 0,void 0,void 0,s,u,p));l.availableConstructors=r,void 0===o&&(o="type"),l.typePropertyName=o,l._entries=[];var c=[];Array.isArray(a)?c=a:"object"==typeof a&&(c=a.value);for(var f=l.availableTypes[0],h=0;h<c.length;h++){var d=c[h],v=f;"object"==typeof d&&void 0!==d[o]&&(v=d[o]);var m=l.availableConstructors.get(v);m&&l._entries.push(m(d))}return l}return t.inherits(n,e),n.prototype.addEntry=function(t){var e=this.availableConstructors.get(t)();return this._entries.push(e),this.updateCallback(),e},n.prototype["export"]=function(){var t=this,e=this.availableTypes[0];return{value:this._entries.map(function(n){var i=n["export"](),r=n.name;return r!=e&&(i[t.typePropertyName]=r),n.shortenExport(i)})}},n.prototype.fix=function(){var t=this;return{name:this.name,entries:this._entries.map(function(e){var n=e.fix();return"object"==typeof n&&(n[t.typePropertyName]=e.name),n})}},t.createClass(n,[{key:"availableTypes",get:function(){var t=[];return this.availableConstructors.forEach(function(e,n){t.push(n)}),t}},{key:"entries",get:function(){return this._entries},set:function(t){this._entries=t,this.updateCallback()}}]),n}(r.Base),n.exports=r},{}],3:[function(e,n,i){"use strict";var r=e("./option-classes.js"),o=function(){function e(n,i,r){function o(t){for(var e=t;e=Object.getPrototypeOf(e);){var n=a.get(e.constructor);if(n)return n(t,o,r,i)}}t.classCallCheck(this,e);var a=new Map;this.setOptionClassWriters(a),this.$output=o(n.root)}return e.prototype.setOptionClassWriters=function(t){t.set(r.Root,function(t,e,n,i){return t.$=$("<div class='options-output'>").append(t.entries.map(e))}),t.set(r.Group,function(t,e,n,i){return t.$=$("<fieldset>").append("<legend>"+n("options."+t.fullName)+"</legend>").append(t.entries.map(e))}),t.set(r.Void,function(t,e,n,i){return t.$=$("<div class='option void'>").html(n("options."+t.fullName))}),t.set(r.Checkbox,function(t,e,n,i){var r=i();return t.$=$("<div class='option'>").append($("<input type='checkbox' id='"+r+"'>").prop("checked",t.value).change(function(){t.value=$(this).prop("checked")})).append(" <label for='"+r+"'>"+n("options."+t.fullName)+"</label>")}),t.set(r.Select,function(t,e,n,i){var r=i();return t.$=$("<div>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<select id='"+r+"'>").append(t.availableValues.map(function(e){return $("<option>").val(e).html(n("options."+t.fullName+"."+e))})).val(t.value).change(function(){t.value=this.value}))}),t.set(r.Text,function(t,e,n,i){var r=i(),o=i();return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<input type='text' id='"+r+"' list='"+o+"' />").val(t.value).on("input change",function(){t.value=this.value})).append(" ").append($("<datalist id='"+o+"'>").append(t.availableValues.map(function(t){return $("<option>").text(t)})))}),t.set(r.Int,function(t,e,n,i){var r=i();return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<input type='number' id='"+r+"' required />").val(t.value).attr("min",t.availableMin).attr("max",t.availableMax).attr("step",t.step).on("input change",function(){this.checkValidity()&&(t.value=this.value)}))}),t.set(r.Array,function(t,e,n,i){var r=null,o=void 0,a=function(){t.entries=o.children().map(function(){return $(this).data("option")}).get()},s=function(t){return $("<div class='draggable-with-handle'>").data("option",t).append($("<div draggable='true' tabindex='0' title='"+n("options-output.drag")+"'>").on("dragstart",function(t){r=$(this).parent(),t.originalEvent.dataTransfer.effectAllowed="move",t.originalEvent.dataTransfer.setData("Text",name),t.originalEvent.dataTransfer.setDragImage&&t.originalEvent.dataTransfer.setDragImage(r[0],0,0),setTimeout(function(){r.addClass("ghost")},0)}).keydown(function(t){var e=$(this),n=e.parent();return 38==t.keyCode?(n.prev().before(n),e.focus(),a(),!1):40==t.keyCode?(n.next().after(n),e.focus(),a(),!1):void 0})).append(e(t)).append($("<div tabindex='0' class='delete' title='"+n("options-output.delete")+"'>").click(function(){$(this).parent().remove(),a()}).keydown(function(t){return 13==t.keyCode||32==t.keyCode?($(this).parent().remove(),a(),!1):void 0})).on("dragover",function(t){t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move";var e=$(this);r&&(e.nextAll().is(r)?(e.before(r),a()):e.prevAll().is(r)&&(e.after(r),a()))}).on("drop",function(t){t.preventDefault()}).on("dragend",function(t){t.preventDefault(),r&&(r.removeClass("ghost"),r=null)})};t.$=$("<fieldset>").append("<legend>"+n("options."+t.fullName)+"</legend>").append(o=$("<div>").append(t.entries.map(s)));var u=$("<div>");return t.availableTypes.forEach(function(e,i){i&&u.append(" "),u.append($("<button type='button'>").html(n("options."+t.fullName+"."+e+".add")).click(function(){var n=t.addEntry(e);o.append(s(n))}))}),t.$.append(u),t.$})},e}();n.exports=o},{"./option-classes.js":2}],4:[function(e,n,i){"use strict";var r=function(){function n(e){var i=this;t.classCallCheck(this,n),this.updateCallback=void 0;var r=function(){i.updateCallback&&i.updateCallback()},o=this.optionClasses,a={},s={},u=function(t,e,n,p){var l=t[0];if(void 0===o[l])throw new Error("invalid option type '"+l+"'");for(var c=t[1],f=e+c,h=t.slice(2),d=[],v=void 0,m={},y=0,g=0,b=0,C=0;C<h.length;C++){var w=h[C];if("string"==typeof w||"number"==typeof w||"boolean"==typeof w){if(0!=y)throw new Error("too many scalar arguments");v=w,y++}else if(Array.isArray(w)){if(0!=g)throw new Error("too many array arguments");p||"Array"!=l?d=w.map(function(t){if(Array.isArray(t)){var e=t[1],i=void 0;return"object"==typeof n&&(i=n[e]),u(t,f+".",i,p)}return t}):(d=new Map,w.forEach(function(t){var e=t[1],n=function(e){return u(t,f+".",e,!0)};d.set(e,n)})),g++}else{if(p||!(w instanceof Object))throw new Error("unknown argument type");if(0!=b)throw new Error("too many array arguments");m=w,b++}}var x=void 0,k=void 0;p?(k=r,x=function(){return!0}):(x=function(){for(var t in m){var e=a[t].value;if(m[t].indexOf(e)<0)return!1}return!0},k=function(){void 0!==s[f]&&s[f].forEach(function(t){t.updateVisibility()}),i.updateCallback&&i.updateCallback()});var N=new o[l](c,d,v,n,f,x,k);if(!p){a[f]=N;for(var j in m)void 0===s[j]&&(s[j]=[]),s[j].push(N)}return N};this.root=new o.Root(null,this.entriesDescription.map(function(t){var n=t[1],i=void 0;return"object"==typeof e&&(i=e[n]),u(t,"",i,!1)}),void 0,e,null,function(){return!0},r)}return n.prototype["export"]=function(){return this.root.shortenExport(this.root["export"]())},n.prototype.fix=function(){return this.root.fix()},t.createClass(n,[{key:"optionClasses",get:function(){return e("./option-classes.js")}},{key:"entriesDescription",get:function(){return[]}}]),n}();n.exports=r},{"./option-classes.js":2}],5:[function(e,n,i){"use strict";var r=(e("./html-lines.js"),e("crnx-base/lines")),o=e("./feature.js"),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,n,i){var o,a=(o=e.prototype.getJsInitLines).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)));return t.audioContext&&a.a(new r("// "+n("comment.context")),"var ctx=new (AudioContext || webkitAudioContext);"),a},n}(o);n.exports=a},{"./feature.js":11,"./html-lines.js":13,"crnx-base/lines":1}],6:[function(e,n,i){"use strict";var r=(e("./html-lines.js"),e("./feature.js")),o=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getHtmlLines=function(t,n){var i,r=(i=e.prototype.getHtmlLines).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));return t.canvas&&r.a("<div>","	<canvas id='my.canvas' width='300' height='100'></canvas>","</div>"),r},n.prototype.getJsInitLines=function(t,n,i){var r,o=(r=e.prototype.getJsInitLines).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));return t.canvas&&o.a("var canvas=document.getElementById('my.canvas');","var canvasContext=canvas.getContext('2d');"),o},n}(r);n.exports=o},{"./feature.js":11,"./html-lines.js":13}],7:[function(e,n,i){"use strict";var r=function o(e){t.classCallCheck(this,o);var n=void 0,i=function(t){return"data:text/html;charset=utf-8,"+encodeURIComponent(t)},r=function(){return $("<div>").append($("<a download='source.html'><button type='button'>Save source code</button></a>").click(function(){$(this).attr("href",i(n.text()))})).append(" ").append($("<button type='button'>Run in new window</button>").click(function(){window.open(i(n.text()),"generatedCode")})).append(" these buttons don't work in Internet Explorer, copy-paste the code manually")},a=$("<div class='code-output'>").append(r()).append($("<pre>").append(n=$("<code>").html(e())));window.hljs&&hljs.highlightBlock(n[0]),a.append(r());var s=200,u=null,p=function(){clearTimeout(u),u=setTimeout(function(){n.html(e()),window.hljs&&hljs.highlightBlock(n[0])},s)};this.$output=a,this.update=p};n.exports=r},{}],8:[function(t,e,n){"use strict";var i=t("./html-lines.js"),r=t("./audio-context.js"),o=t("./source-set.js"),a=t("./filter-sequence.js"),s=t("./destination.js"),u=t("./canvas.js");e.exports=function(t,e){var n={},p=[new r,new o(t.sources),new a(t.filters),new s(t.destination),new u];p.forEach(function(t){t.requestFeatureContext(n)});var l=new i("<!DOCTYPE html>","<html lang='en'>","<head>","<meta charset='utf-8' />","<title>WebAudio example - Generated code</title>",function(){var t=new i;return n.alignedInputs&&t.a(".aligned label {","	display: inline-block;","	width: 10em;","	text-align: right;","}"),n.canvas&&t.a("canvas {","	border: 1px solid;","}"),t.wrapIfNotEmpty("<style>","</style>")}(),"</head>","<body>",function(){var t=new i;return t.a.apply(t,p.map(function(t){return t.getHtmlLines(n,e)})),t}(),function(){var t=void 0,r=p.map(function(i){var r=i.getJsInitLines(n,e,t);return t=i.getNodeJsNames(n,t),r});r.push(function(){var t=new(Function.prototype.bind.apply(i,[null].concat(p.map(function(t){return t.getJsLoopLines(n,e)}))));return t.isEmpty()?t:new i("function visualize() {",t.indent(),"	requestAnimationFrame(visualize);","}","requestAnimationFrame(visualize);")}());var o=new i;return o.interleave.apply(o,r),o.wrapIfNotEmpty("<script>","</script>")}(),"</body>","</html>");return l.join("	")}},{"./audio-context.js":5,"./canvas.js":6,"./destination.js":10,"./filter-sequence.js":12,"./html-lines.js":13,"./source-set.js":19}],9:[function(e,n,i){"use strict";var r=e("./html-lines.js"),o=e("./feature.js"),a=function(e){function n(i){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this)),o=new Map;i.entries.forEach(function(t){var e=r.getEntryClass(t);o.set(e,o.get(e)+1||1)});var a=new Map;return r.entries=i.entries.map(function(t){var e=r.getEntryClass(t);if(o.get(e)>1){var n=a.get(e)||0;return a.set(e,n+1),new e(t,n)}return new e(t)}),r}return t.inherits(n,e),n.prototype.getHtmlLines=function(t,e){return new(Function.prototype.bind.apply(r,[null].concat(this.entries.map(function(n){return n.getHtmlLines(t,e)}))))},n}(o);n.exports=a},{"./feature.js":11,"./html-lines.js":13}],10:[function(e,n,i){"use strict";var r=e("./html-lines.js"),o=e("crnx-base/lines"),a=e("./feature.js"),s=function(e){function n(i){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this));return r.options=i,r}return t.inherits(n,e),n.prototype.requestFeatureContext=function(t){(this.options.compressor||this.options.waveform)&&(t.audioContext=!0),this.options.waveform&&(t.canvas=!0)},n.prototype.getHtmlLines=function(t,e){var n=new r;return this.options.compressor&&n.a("<input id='my.compressor' type='checkbox' checked />","<label for='my.compressor'>"+e("options.destination.compressor.enable")+"</label>"),n.wrapIfNotEmpty("<div>","</div>")},n.prototype.getJsInitLines=function(t,n,i){var r,a=(r=e.prototype.getJsInitLines).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));return t.audioContext&&(this.options.compressor&&(a.a.apply(a,[new o("// "+n("comment.destination.compressor")),"var compressorNode=ctx.createDynamicsCompressor();"].concat(i.map(function(t){return t+".connect(compressorNode);"}))),i.length>0&&a.a.apply(a,["document.getElementById('my.compressor').onchange=function(){","	if (this.checked) {"].concat(i.map(function(t){return"		"+t+".disconnect(ctx.destination);"}),i.map(function(t){return"		"+t+".connect(compressorNode);"}),["	} else {"],i.map(function(t){return"		"+t+".disconnect(compressorNode);"}),i.map(function(t){return"		"+t+".connect(ctx.destination);"}),["	}","};",""])),i=["compressorNode"]),this.options.waveform&&(a.a.apply(a,[new o("// "+n("comment.destination.waveform")),"var analyserNode=ctx.createAnalyser();"].concat(i.map(function(t){return t+".connect(analyserNode);"}),["analyserNode.fftSize=1024;","var analyserData=new Uint8Array(analyserNode.frequencyBinCount);",""])),i=["analyserNode"]),a.a.apply(a,[new o("// "+n("comment.destination"))].concat(i.map(function(t){return t+".connect(ctx.destination);"})))),a},n.prototype.getJsLoopLines=function(t,n){var i,r=(i=e.prototype.getJsLoopLines).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));return this.options.waveform&&r.a("analyserNode.getByteTimeDomainData(analyserData);","canvasContext.clearRect(0,0,canvas.width,canvas.height);","canvasContext.beginPath();","for (var i=0;i<analyserData.length;i++) {","	var x=i*canvas.width/analyserData.length;","	var y=analyserData[i]*canvas.height/255;","	if (i==0) {","		canvasContext.moveTo(x,y);","	} else {","		canvasContext.lineTo(x,y);","	}","}","canvasContext.stroke();"),r},n.prototype.getNodeJsNames=function(t,e){return t.audioContext?["ctx.destination"]:e},n}(a);n.exports=s},{"./feature.js":11,"./html-lines.js":13,"crnx-base/lines":1}],11:[function(e,n,i){"use strict";var r=e("./html-lines.js"),o=function(){function e(){t.classCallCheck(this,e)}return e.prototype.requestFeatureContext=function(t){},e.prototype.getHtmlLines=function(t,e){return new r},e.prototype.getJsInitLines=function(t,e,n){return new r},e.prototype.getJsLoopLines=function(t,e){return new r},e.prototype.getNodeJsNames=function(t,e){return e},e}();n.exports=o},{"./html-lines.js":13}],12:[function(e,n,i){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){return t.split(".").map(function(t,e){return e>0?r(t):t}).join("")}var a=e("./html-lines.js"),s=e("crnx-base/lines"),u=e("./collection-feature.js"),p=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getPropertyOption=function(t){return this.options[t.name]},e.prototype.getPropertyOptionName=function(t){return"options.filters."+this.type+"."+t.name},e.prototype.getPropertyInputHtmlName=function(t){return"my."+this.type+this.nSuffix+"."+t},e.prototype.requestFeatureContext=function(t){},e.prototype.getHtmlPropertyLines=function(t,e){var n=new a,i=this.getPropertyOption(e),r=this.getPropertyInputHtmlName(e.name);return"range"==e.type&&i.input?n.a("<label for='"+r+"'>"+t(this.getPropertyOptionName(e))+"</label>","<input id='"+r+"' type='range' value='"+i+"' min='"+i.min+"' max='"+i.max+"'"+(1!=i.step?" step='"+i.step+"'":"")+" />"):"select"==e.type&&i.input?n.a("<label for='"+r+"'>"+t(this.getPropertyOptionName(e))+"</label>",(new(Function.prototype.bind.apply(a,[null].concat(i.availableValues.map(function(t){return"<option>"+t+"</option>"}))))).wrap("<select id='"+r+"'>","</select>")):"xhr"==e.type&&n.a("<span id='"+r+"'>"+t(this.getPropertyOptionName(e)+".loading")+"</span>"),n},e.prototype.getHtmlLines=function(t,e){var n=this,i=new(Function.prototype.bind.apply(a,[null].concat(this.nodeProperties.map(function(t){return n.getHtmlPropertyLines(e,t)}))));return i.wrapIfNotEmpty("<div>","</div>")},e.prototype.getJsInitLines=function(t,e){var n=this;return new(Function.prototype.bind.apply(a,[null].concat([new s("// "+t("comment.filters."+this.type)),"var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"();"],e.map(function(t){return t+".connect("+n.nodeJsName+");"}))))},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"nodeJsName",get:function(){return o(this.type+this.nSuffix+".node")}}]),e}(),l=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,n){var i=this,r=e.prototype.getJsInitLines.call(this,t,n);return this.nodeProperties.forEach(function(t){var e=i.getPropertyOption(t),n=i.nodeJsName+"."+t.name+("range"==t.type?".value":""),o=e.value;if("select"==t.type&&(o="'"+o+"'"),t.fn&&(o=t.fn(o)),e.value!=e.defaultValue&&r.a(n+"="+o+";"),e.input){var a=i.getPropertyInputHtmlName(t.name),s="this.value";t.fn&&(s=t.fn(s));var u="range"==t.type?"oninput":"onchange";r.a("document.getElementById('"+a+"')."+u+"=function(){","	"+n+"="+s+";","};")}}),r},t.createClass(n,[{key:"nodeJsNames",get:function(){return[this.nodeJsName]}}]),n}(p),c={gain:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"gain"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}},{key:"nodeProperties",get:function(){return[{name:"gain",type:"range"}]}}]),n}(l),panner:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"panner"}},{key:"ctxCreateMethodName",get:function(){return"createStereoPanner"}},{key:"nodeProperties",get:function(){return[{name:"pan",type:"range"}]}}]),n}(l),biquad:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"biquad"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"nodeProperties",get:function(){return[{name:"type",type:"select"},{name:"frequency",type:"range"},{name:"detune",type:"range"},{name:"Q",type:"range",fn:function(t){return"Math.pow(10,"+t+")"}}]}}]),n}(l),convolver:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,n){var i=this,r=e.prototype.getJsInitLines.call(this,t,n),o=this.getPropertyInputHtmlName("reverb"),a=this.getPropertyInputHtmlName("buffer");return r.a.apply(r,["var "+this.wetGainNodeJsName+"=ctx.createGain();",this.nodeJsName+".connect("+this.wetGainNodeJsName+");","var "+this.dryGainNodeJsName+"=ctx.createGain();"].concat(n.map(function(t){return t+".connect("+i.dryGainNodeJsName+");"}))),1!=this.options.reverb&&r.a(this.wetGainNodeJsName+".gain.value="+this.options.reverb+";"),0!=this.options.reverb&&r.a(this.dryGainNodeJsName+".gain.value="+(1-this.options.reverb)+";"),this.options.reverb.input&&r.a("document.getElementById('"+o+"').oninput=function(){","	"+this.wetGainNodeJsName+".gain.value=this.value;","	"+this.dryGainNodeJsName+".gain.value=1-this.value;","};"),r.a("var xhr=new XMLHttpRequest();","xhr.open('GET','"+this.options.url+"');","xhr.responseType='arraybuffer';","xhr.onload=function(){","	if (this.status==200) {","		ctx.decodeAudioData(this.response,function(buffer){","			"+this.nodeJsName+".buffer=buffer;","			document.getElementById('"+a+"').textContent='';","		});","	} else {","		this.onerror();","	}","};","xhr.onerror=function(){","	document.getElementById('"+a+"').textContent='"+t("options.filters.convolver.buffer.error")+"';","};","xhr.send();"),r},t.createClass(n,[{key:"type",get:function(){return"convolver"}},{key:"ctxCreateMethodName",get:function(){return"createConvolver"}},{key:"nodeProperties",get:function(){return[{name:"reverb",type:"range"},{name:"buffer",type:"xhr"}]}},{key:"nodeJsNames",get:function(){return[this.wetGainNodeJsName,this.dryGainNodeJsName]}},{key:"dryGainNodeJsName",get:function(){return o(this.type+this.nSuffix+".dry.gain.node")}},{key:"wetGainNodeJsName",get:function(){return o(this.type+this.nSuffix+".wet.gain.node")}}]),n}(p),equalizer:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.requestFeatureContext=function(t){this.allGainsConstant||(t.alignedInputs=!0)},n.prototype.getHtmlPropertyLines=function(t,n){var i=e.prototype.getHtmlPropertyLines.call(this,t,n);return i.wrapIfNotEmpty("<div class='aligned'>","</div>")},n.prototype.getJsInitLines=function(t,e){var n=this,i=function(){var t=new a;return t.a(n.frequencies.map(function(t,e){var i=n.getPropertyOption(n.nodeProperties[e]);return n.allGainsConstant?"["+t+","+i.value+"]":"["+t+","+i.value+","+i.input+"]"}).join()),t},r=function(){var t=n.allGainsConstant?n.nodeJsName:"node",i=new a;if(i.a("var freq=freqData[0], gain=freqData[1]"),n.allGainsConstant||i.t(", editable=freqData[2]"),i.t(";"),n.allGainsConstant?i.a(""):i.a("var "),i.t(t+"=ctx."+n.ctxCreateMethodName+"();"),1==e.length?i.a("prevNode.connect("+t+");"):i.a("prevNodes.forEach(function(prevNode){","	prevNode.connect("+t+");","});"),i.a(t+".type='peaking';",t+".frequency.value=freq;",t+".gain.value=gain;"),!n.allGainsConstant){var r=n.getPropertyInputHtmlName("gain");i.a("if (editable) {","	document.getElementById('"+r+"'+freq).oninput=function(){","		"+t+".gain.value=this.value;","	};","}")}var o=n.allGainsConstant?t:n.nodeJsName+"="+t;return 1==e.length?i.a("prevNode="+o+";"):i.a("prevNodes=["+o+"];"),i},o=new a(new s("// "+t("comment.filters."+this.type)));return 1==e.length?o.a("var prevNode="+e[0]+";"):o.a("var prevNodes=["+e.join()+"];"),o.a("var "+this.nodeJsName+";","[",i().indent(),"].forEach(function(freqData){",r().indent(),"});"),o},t.createClass(n,[{key:"type",get:function(){return"equalizer"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"frequencies",get:function(){return[60,170,350,1e3,3500,1e4]}},{key:"allGainsConstant",get:function(){var t=this;return this.nodeProperties.every(function(e){return 0==t.getPropertyOption(e).input})}},{key:"nodeProperties",get:function(){return this.frequencies.map(function(t){return{name:"gain"+t,type:"range"}})}},{key:"nodeJsNames",get:function(){return[this.nodeJsName]}}]),n}(p)},f=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return c[t.filter]},n.prototype.requestFeatureContext=function(t){this.entries.length>0&&(t.audioContext=!0),this.entries.forEach(function(e){e.requestFeatureContext(t)})},n.prototype.getJsInitLines=function(t,n,i){var r,o=(r=e.prototype.getJsInitLines).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));return 0==this.entries.length?o:(o.interleave.apply(o,this.entries.map(function(t){var e=t.getJsInitLines(n,i);return i=t.nodeJsNames,e})),o)},n.prototype.getNodeJsNames=function(t,e){return this.entries.length>0?this.entries[this.entries.length-1].nodeJsNames:e},n}(u);n.exports=f},{"./collection-feature.js":9,"./html-lines.js":13,"crnx-base/lines":1}],13:[function(e,n,i){"use strict";var r=e("crnx-base/lines"),o=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.preprocessString=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n}(r);n.exports=o},{"crnx-base/lines":1}],14:[function(t,e,n){"use strict";function i(t){var e=/\[(\S+)\s+([^\]]+)]/g,n={};for(var i in t)n[i]=t[i].replace(e,function(t,e,n){return"<a href='"+e+"'>"+n+"</a>"});return n}var r={"options.sources":"Sources","options.sources.audio":"Audio element","options.sources.audio.add":"Add audio element","options.sources.audio.url":"Source URL","options.sources.video":"Video element","options.sources.video.add":"Add video element","options.sources.video.url":"Source URL","options.sources.video.width":"Player width","options.sources.video.height":"Player height","options.filters":"Filters","options.filters.gain":"Gain","options.filters.gain.add":"Add gain","options.filters.gain.gain":"Gain","options.filters.panner":"Stereo panner","options.filters.panner.add":"Add stereo panner","options.filters.panner.pan":"Pan","options.filters.biquad":"Biquad filter","options.filters.biquad.add":"Add biquad filter","options.filters.biquad.type":"Filter type","options.filters.biquad.type.lowpass":"lowpass","options.filters.biquad.type.highpass":"highpass","options.filters.biquad.type.bandpass":"bandpass","options.filters.biquad.type.lowshelf":"lowshelf","options.filters.biquad.type.highshelf":"highshelf","options.filters.biquad.type.peaking":"peaking","options.filters.biquad.type.notch":"notch",
"options.filters.biquad.type.allpass":"allpass","options.filters.biquad.frequency":"Frequency","options.filters.biquad.detune":"Detune","options.filters.biquad.Q":"Log(Q)","options.filters.convolver":"Convolver","options.filters.convolver.add":"Add convolver","options.filters.convolver.url":"Impulse responce URL","options.filters.convolver.reverb":"Reverb (dry/wet)","options.filters.convolver.buffer.loading":"Loading and decoding the impulse response","options.filters.convolver.buffer.error":"Error while loading the impulse response","options.filters.equalizer":"Equalizer","options.filters.equalizer.add":"Add equalizer","options.filters.equalizer.gain60":"60 Hz gain","options.filters.equalizer.gain170":"170 Hz gain","options.filters.equalizer.gain350":"350 Hz gain","options.filters.equalizer.gain1000":"1000 Hz gain","options.filters.equalizer.gain3500":"3500 Hz gain","options.filters.equalizer.gain10000":"10000 Hz gain","options.destination":"Destination","options.destination.compressor":"Add dynamics compressor before the destination","options.destination.compressor.enable":"Enable dynamics compressor","options.destination.waveform":"Add waveform visualization","options-output.drag":"Drag or press up/down while in focus to reorder","options-output.delete":"Delete","options-output.input":"Editable","options-output.range":"with range","options-output.reset":"Reset","comment.context":"create [https://www.w3.org/TR/webaudio/#AudioContext audio context]","comment.sources.audio":"create [https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode audio source node]","comment.sources.video":"create [https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode video source node]","comment.filters.gain":"create [https://www.w3.org/TR/webaudio/#GainNode gain node]","comment.filters.panner":"create [https://www.w3.org/TR/webaudio/#the-stereopannernode-interface stereo panner node]","comment.filters.biquad":"create [https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface biquad filter node]","comment.filters.convolver":"create dry and wet route with [https://www.w3.org/TR/webaudio/#ConvolverNode convolver node]","comment.filters.equalizer":"create equalizer as a sequence of peaking [https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface biquad filter nodes]","comment.destination":"connect last node to [https://www.w3.org/TR/webaudio/#AudioDestinationNode destination]","comment.destination.compressor":"create [https://www.w3.org/TR/webaudio/#the-dynamicscompressornode-interface dynamics compressor node]","comment.destination.waveform":"create [https://www.w3.org/TR/webaudio/#the-analysernode-interface analyser node] for waveform visualization"};r=i(r),e.exports=function(t){var e=function(t){return r[t]};return e.lang=t,e}},{}],15:[function(t,e,n){"use strict";function i(){return"webaudio-starter-id-"+r++}var r=0,o=t("./i18n.js")("en"),a=t("./options.js"),s=t("./code.js"),u=t("./code-output"),p=t("./options-output");$(function(){$(".webaudio-starter").each(function(){var t=$(this),e=new a,n=new u(function(){return s(e.fix(),o)});e.updateCallback=n.update;var r=new p(e,i,o);t.empty().append(r.$output).append(n.$output)})})},{"./code-output":7,"./code.js":8,"./i18n.js":14,"./options-output":17,"./options.js":18}],16:[function(e,n,i){"use strict";var r=Object.create(e("crnx-base/option-classes")),o=function(){function e(n){t.classCallCheck(this,e),this.value=n.value,this.min=n.min,this.max=n.max,this.input=n.input,this.defaultValue=n.defaultValue,this.availableMin=n.availableMin,this.availableMax=n.availableMax,this.step=n.step,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return String(this.value)},e}();r.LiveNumber=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=void 0,c=void 0,f=void 0,h=void 0;"object"==typeof a?(l=a.value,c=a.min,f=a.max,h=a.input):l=a;var d=t.possibleConstructorReturn(this,e.call(this,i,r,o,l,s,u,p));return d.defaultMin=void 0!==r[2]?r[2]:d.availableMin,d.defaultMax=void 0!==r[3]?r[3]:d.availableMax,d._min=void 0!==c?c:d.defaultMin,d._max=void 0!==f?f:d.defaultMax,d._input=!!h,d._$range=null,d}return t.inherits(n,e),n.prototype.updateInternalVisibility=function(){this._$range&&this._$range.toggle(this._input)},n.prototype.exportHelper=function(t){var e={};return t.value!=t.defaultValue&&(e.value=t.value),t.min!=t.availableMin&&(e.min=t.min),t.max!=t.availableMax&&(e.max=t.max),t.input&&(e.input=t.input),e},n.prototype["export"]=function(){return this.exportHelper(this)},n.prototype.fix=function(){return new o(this)},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateInternalVisibility(),this.updateCallback()}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.updateCallback()}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this.updateCallback()}},{key:"$range",get:function(){return this._$range},set:function(t){this._$range=t,this.updateInternalVisibility()}}]),n}(r.RangeInput),r.LiveInt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"step",get:function(){return 1}}]),n}(r.LiveNumber),r.LiveFloat=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"step",get:function(){return.01}}]),n}(r.LiveNumber);var a=function(){function e(n){t.classCallCheck(this,e),this.value=n.value,this.input=n.input,this.defaultValue=n.defaultValue,this.availableValues=n.availableValues,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e}();r.LiveSelect=function(e){function n(i,r,o,a,s,u,p){t.classCallCheck(this,n);var l=void 0,c=void 0;"object"==typeof a?(l=a.value,c=a.input):l=a;var f=t.possibleConstructorReturn(this,e.call(this,i,r,o,l,s,u,p));return f._input=!!c,f}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),this.input&&(t.input=this.input),t},n.prototype.fix=function(){return new a(this)},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateCallback()}}]),n}(r.Select),n.exports=r},{"crnx-base/option-classes":2}],17:[function(e,n,i){"use strict";var r=e("./option-classes.js"),o=e("crnx-base/options-output"),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.setOptionClassWriters=function(t){e.prototype.setOptionClassWriters.call(this,t),t.set(r.LiveNumber,function(t,e,n,i){var r=function(e){return e.attr("min",t.availableMin).attr("max",t.availableMax).attr("step",t.step)},o=function(e,n){return r(e).val(t.value).on("input change",function(){if(this.checkValidity()){var e=n();e.val(this.value),t.value=parseFloat(this.value)}})},a=function(e){return r($("<input type='number' required>")).val(t[e]).on("input change",function(){this.checkValidity()&&(t[e]=parseFloat(this.value))})},s=i(),u=i(),p=void 0,l=void 0,c=void 0,f=void 0,h=void 0;return t.$=$("<div class='option'>").append("<label for='"+s+"'>"+n("options."+t.fullName)+":</label>").append(" <span class='min'>"+t.availableMin+"</span> ").append(p=o($("<input type='range' id='"+s+"'>"),function(){return l})).append(" <span class='max'>"+t.availableMax+"</span> ").append(l=o($("<input type='number' required>"),function(){return p})).append(" ").append(c=$("<input type='checkbox' id='"+u+"'>").prop("checked",t.input).change(function(){t.input=$(this).prop("checked")})).append(" <label for='"+u+"'>"+n("options-output.input")+"</label> ").append(t.$range=$("<span class='range'>").append(n("options-output.range")+" ").append(f=a("min")).append(" .. ").append(h=a("max"))).append(" ").append($("<button type='button'>"+n("options-output.reset")+"</button>").click(function(){p.val(t.defaultValue).change(),c.prop("checked",!1).change(),f.val(t.defaultMin).change(),h.val(t.defaultMax).change()}))}),t.set(r.LiveSelect,function(t,e,n,i){var r=i(),o=i(),a=void 0,s=void 0;return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append(a=$("<select id='"+r+"'>").append(t.availableValues.map(function(e){return $("<option>").val(e).html(n("options."+t.fullName+"."+e))})).val(t.value).change(function(){t.value=this.value})).append(" ").append(s=$("<input type='checkbox' id='"+o+"'>").prop("checked",t.input).change(function(){t.input=$(this).prop("checked")})).append(" <label for='"+o+"'>"+n("options-output.input")+"</label> ").append($("<button type='button'>"+n("options-output.reset")+"</button>").click(function(){a.val(t.defaultValue).change(),s.prop("checked",!1).change()}))})},n}(o);n.exports=a},{"./option-classes.js":16,"crnx-base/options-output":3}],18:[function(e,n,i){"use strict";var r=e("crnx-base/options"),o=function(n){function i(){return t.classCallCheck(this,i),t.possibleConstructorReturn(this,n.apply(this,arguments))}return t.inherits(i,n),t.createClass(i,[{key:"entriesDescription",get:function(){return[["Array","sources",[["Group","audio",[["Text","url",["http://mainline.i3s.unice.fr/mooc/guitarRiff1.mp3","http://mainline.i3s.unice.fr/mooc/drums.mp3","http://mainline.i3s.unice.fr/mooc/LaSueur.mp3"]]]],["Group","video",[["Text","url",["http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.webm","http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.mp4","http://mainline.i3s.unice.fr/mooc/sintel.webm","http://mainline.i3s.unice.fr/mooc/sintel.mp4"]],["Int","width",[1,1920],320],["Int","height",[1,1080],240]]]],"source"],["Array","filters",[["Group","gain",[["LiveFloat","gain",[0,10,0,1],1]]],["Group","panner",[["LiveFloat","pan",[-1,1],0]]],["Group","biquad",[["LiveSelect","type",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]],["LiveInt","frequency",[0,22050],350],["LiveInt","detune",[0,100]],["LiveFloat","Q",[-4,4],0]]],["Group","convolver",[["LiveFloat","reverb",[0,1]],["Text","url",["http://mainline.i3s.unice.fr/mooc/Scala-Milan-Opera-Hall.wav"]]]],["Group","equalizer",[60,170,350,1e3,3500,1e4].map(function(t){return["LiveInt","gain"+t,[-30,30],0]})]],"filter"],["Group","destination",[["Checkbox","compressor"],["Checkbox","waveform"]]]]}},{key:"optionClasses",get:function(){return e("./option-classes.js")}}]),i}(r);n.exports=o},{"./option-classes.js":16,"crnx-base/options":4}],19:[function(e,n,i){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){return t.split(".").map(function(t,e){return e>0?r(t):t}).join("")}var a=e("./html-lines.js"),s=e("crnx-base/lines"),u=e("./collection-feature.js"),p=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getHtmlLines=function(t,e){return this.getElementHtmlLines(t,e).wrap("<div>","</div>")},e.prototype.getJsInitLines=function(t){return new a(new s("// "+t("comment.sources."+this.type)),"var "+this.nodeJsName+"=ctx.createMediaElementSource(document.getElementById('"+this.elementHtmlName+"'));")},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"elementHtmlName",get:function(){return"my."+this.type+this.nSuffix}},{key:"nodeJsName",get:function(){return o(this.type+this.nSuffix+".node")}}]),e}(),l={audio:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return new a("<audio src='"+this.options.url+"' id='"+this.elementHtmlName+"' controls loop"+(t.audioContext?" crossorigin='anonymous'":"")+"></audio>")},t.createClass(n,[{key:"type",get:function(){return"audio"}}]),n}(p),video:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return new a("<video src='"+this.options.url+"' id='"+this.elementHtmlName+"' width='"+this.options.width+"' height='"+this.options.height+"' controls loop"+(t.audioContext?" crossorigin='anonymous'":"")+"></video>")},t.createClass(n,[{key:"type",get:function(){return"video"}}]),n}(p)},c=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return l[t.source]},n.prototype.getJsInitLines=function(t,n,i){var r,o=(r=e.prototype.getJsInitLines).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));return t.audioContext&&o.interleave.apply(o,this.entries.map(function(t){return t.getJsInitLines(n)})),o},n.prototype.getNodeJsNames=function(t,e){return t.audioContext?this.entries.map(function(t){return t.nodeJsName}):e},n}(u);n.exports=c},{"./collection-feature.js":9,"./html-lines.js":13,"crnx-base/lines":1}]},{},[15])}();
//# sourceMappingURL=webaudio-starter.js.map
