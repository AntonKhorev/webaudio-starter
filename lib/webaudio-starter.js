!function(){var t={"typeof":function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},createClass:function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},possibleConstructorReturn:function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},inherits:function(t,e){function n(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}return t}if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&n(t,e)},taggedTemplateLiteralLoose:function(t,e){return t.raw=e,t}};!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){var e="code-output",n={save:"Save source code",run:"Run in new window","section.html":"HTML","section.css":"CSS","section.js":"JavaScript",embedded:"embedded in HTML source code","mode.full":"complete HTML","mode.body":"only HTML body","mode.embed":"embed in HTML","mode.paste":"extract to paste into HTML later","mode.file":"extract to load as external resource","warning.no-hljs":"<a href='https://highlightjs.org/'>highlight.js</a> (hosted on cdnjs.cloudflare.com) is not loaded. Syntax highlighting is disabled."};for(var i in n)t[e+"."+i]=n[i];return t}},{}],2:[function(e,n,i){"use strict";var r=e(6),o=e(8),s=function(){function e(n,i){var s=this;t.classCallCheck(this,e);var a=n(),u={},p={},c=void 0,l=void 0,f=void 0,h=function(){return a},d=function(){var t="	";if(!c.prop("checked")){var e=4;l[0].checkValidity()&&(e=Number(l.val())),t=o(" ",e)}return{refs:s.refs,indent:t,jsSemicolons:f.prop("checked")}},m=function(){return{html:p.html.val(),css:p.css.val(),js:p.js.val()}},v=function(){var t=m(),e=a.extractSections(t);for(var n in e)if("embed"==t[n])u[n].empty().append("<p>"+i("code-output.embedded")+"</p>");else{var r=void 0;u[n].empty().append($("<pre>").append(r=$("<code class='"+n+"'>"))),r.html(e[n].getHtml(d()).join("\n")),window.hljs&&hljs.highlightBlock(r[0])}},y=function(){return $("<details>").append("<summary>Formatting</summary>").append($("<div>").append($("<label>").append(c=$("<input type='checkbox' checked>").change(v)).append(" indent with tabs"))).append($("<div>").append($("<label>").append(l=$("<input type='number' min='0' max='32' value='4' required>").on("input change",v)).append(" spaces per indent"))).append($("<div>").append($("<label>").append(f=$("<input type='checkbox'>").change(v)).append(" JavaScript semicolons")))},g=function(t){var e="html"!=t,n=$("<summary>"+i("code-output.section."+t)+"</summary>"),r=void 0;return n.append(" ").append(p[t]=$("<select>").append(("html"==t?["full","body"]:["embed","paste","file"]).map(function(t){return $("<option>").val(t).html(i("code-output.mode."+t))})).change(function(){e&&r.prop("disabled","embed"==this.value),v()})),n.append(" ").append(r=$("<button type='button'>"+i("code-output.save")+"</button>").click(function(){var e=a.extractSections(m())[t],n=new Blob([e.get(d()).join("\n")],{type:e.mimeType});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,e.filename);else{var i=$("<a>").attr("download",e.filename).attr("href",URL.createObjectURL(n)).appendTo("body");i.get(0).click(),i.remove()}})),e&&r.prop("disabled","embed"==p[t].val()),$("<details open>").append(n).append(u[t]=$("<div class='code'>"))},b=$("<div class='code-output'>").append(this.writeButtons(h,d,i)).append(y()).append(g("html")).append(g("css")).append(g("js"));window.hljs||b.append("<p>"+i("code-output.warning.no-hljs")+"</p>"),b.append(this.writeButtons(h,d,i)),v();var C=200,x=r(function(){a=n(),v()},C);this.$output=b,this.update=x}return e.prototype.writeButtons=function(t,e,n){return $("<div>").append($("<button type='button'>"+n("code-output.run")+"</button>").click(function(){var n=t(),i=window.open("","generatedCode");i.document.open(),i.document.write(n.get(e()).join("\n")),i.document.close()})).append(" ").append($("<button type='button'>Open in CodePen</button>").click(function(){var n=t(),i=n.extractSections({html:"body",css:"paste",js:"paste"}),r=function(t){return i[t].get(e()).join("\n")};$("<form method='post' action='http://codepen.io/pen/define/'>").append($("<input type='hidden' name='data'>").val(JSON.stringify({html:r("html"),css:r("css"),js:r("js"),title:n.title}))).appendTo("body").submit()})).append(" ").append($("<button type='button'>Open in JSFiddle</button>").click(function(){var n=t(),i=n.extractSections({html:"body",css:"paste",js:"paste"}),r=function(t){return i[t].get(e()).join("\n")},o=function(t){return $("<input type='hidden'>").attr("name",t).val(r(t))};$("<form method='post' action='http://jsfiddle.net/api/post/library/pure/'>").append(o("html")).append(o("css")).append(o("js")).append($("<input type='hidden' name='title'>").val(n.title)).append("<input type='hidden' name='wrap' value='b'>").appendTo("body").submit()}))},t.createClass(e,[{key:"refs",get:function(){return{}}}]),e}();n.exports=s},{6:6,8:8}],3:[function(e,n,i){"use strict";var r=function(){function e(n,i,r){t.classCallCheck(this,e),this.filename=n,this.mimeType=i,this.lines=r}return e.prototype.get=function(t){return this.lines.get(t)},e.prototype.getHtml=function(t){return this.lines.getHtml(t)},e}();n.exports=r},{}],4:[function(t,e,n){var i=t(5);e.exports=function(t){return t.split(".").map(function(t,e){return e>0?i(t):t}).join("")}},{5:5}],5:[function(t,e,n){e.exports=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{}],6:[function(t,e,n){e.exports=function(t,e){var n=null;return function(){clearTimeout(n),n=setTimeout(t,e)}}},{}],7:[function(t,e,n){e.exports=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(t).replace(/[&<>"']/g,function(t){return e[t]})}},{}],8:[function(t,e,n){e.exports=function(t,e){return Array(e+1).join(t)}},{}],9:[function(e,n,i){"use strict";var r=e(7),o=e(11),s=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.doGet=function(t,e){var n=[],i=!0,s=function(){i?i=!1:n.push("")};return this.data.forEach(function(i){if(i instanceof o){var a=i.doGet(t,e);a.length>0&&(s(),n.push.apply(n,a))}else if("string"==typeof i){s();var u=e?r(i):i;n.push(u)}}),n},n}(o);n.exports=s},{11:11,7:7}],10:[function(e,n,i){"use strict";var r=e(11),o=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.processStringInGet=function(t,e){return e.jsSemicolons?t.replace(/^;/,""):t.replace(/;$/,"")},n}(r);n.exports=o},{11:11}],11:[function(e,n,i){"use strict";var r=e(7),o=e(8),s={},a=function(){function e(n){if(t.classCallCheck(this,e),!Array.isArray(n))throw new TypeError("attempted to construct Lines with non-array data argument");this.data=n}return e.prototype.isDataEmpty=function(){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(n instanceof e){if(!n.isEmpty())return!1}else if("string"==typeof n)return!1}return!0},e.prototype.processStringInGet=function(t,e){return t},e.prototype.doGet=function(t,n){var i=this,a=[],u=!1;return this.data.forEach(function(p){if(p===s)u=!0;else if(p instanceof e){var c=p.doGet(t,n);u&&c.length>0&&a.push(a.pop()+c.shift()),a.push.apply(a,c),u=!1}else if("string"==typeof p){var l=i.processStringInGet(p,t);void 0!==t.indent&&"	"!=t.indent&&(l=l.replace(/^(\t)+/,function(e){return o(t.indent,e.length)})),l=n?r(l):l,u?a.push(a.pop()+l):a.push(l),u=!1}}),a},e.b=function(){var t=this,e=arguments,n=[],i=function(){return new(Function.prototype.bind.apply(t,[null].concat([n],Array.prototype.slice.call(e))))},r=function(){return r.a.apply(r,arguments)};return r.a=function(){return n.push.apply(n,arguments),this},r.t=function(){return n.push.apply(n,[s].concat(Array.prototype.slice.call(arguments))),this},r.e=i,r.ae=function(){return this.a.apply(this,arguments).e()},r},e.ba=function(){var t;return(t=this.b()).a.apply(t,arguments)},e.be=function(){return this.b().e()},e.bae=function(){var t;return(t=this.b()).a.apply(t,arguments).e()},e.prototype.isEmpty=function(){return this.isDataEmpty()},e.prototype.get=function(t){return void 0===t&&(t={}),this.doGet(t,!1)},e.prototype.getHtml=function(t){return void 0===t&&(t={}),this.doGet(t,!0)},e.prototype.count=function(){return this.doGet({},!1).length},e.html=function(t){var e=arguments;return t.reduce(function(t,n,i){var r=e[i];switch(t.slice(-1)){case"=":return r===!1?t.replace(/\s+[a-zA-Z0-9-]+=$/,"")+n:r===!0?t.replace(/=$/,"")+n:(r=String(r).replace(/&/g,"&amp;"),""==r?t.replace(/=$/,"")+n:/[\s"'=<>`]/.test(r)?/'/.test(r)?(r=r.replace(/"/g,"&quot;"),t+'"'+r+'"'+n):t+"'"+r+"'"+n:t+r+n);case">":return r=String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;"),t+r+n}throw new Error("invalid character before substitution")})},e}();n.exports=a},{7:7,8:8}],12:[function(e,n,i){"use strict";var r=e(18),o=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.isEmpty=function(){return this.isDataEmpty()},n.prototype.doGet=function(t,n){return this.isEmpty()?[]:e.prototype.doGet.call(this,t,n)},n}(r);n.exports=o},{18:18}],13:[function(e,n,i){"use strict";var r={};r.Base=function(){function e(n,i,r,o,s,a,u){t.classCallCheck(this,e),this.name=n,this.isVisible=a,this.updateCallback=u,this.fullName=s,this._$=null}return e.prototype.updateVisibility=function(){this.$&&this.$.toggle(this.isVisible())},e.prototype.shortenExport=function(t){var e=Object.keys(t);return 1==e.length&&"value"==e[0]?t.value:t},e.prototype.shortenExportAssign=function(t,e,n){var i=Object.keys(t);1==i.length&&"value"==i[0]?e[n]=t.value:i.length>0&&(e[n]=t)},t.createClass(e,[{key:"$",get:function(){return this._$},set:function(t){this._$=t,this.updateVisibility()}}]),e}(),r.Input=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return void 0!==o?c.defaultValue=o:c.defaultValue=r[0],"object"==typeof s&&(s=s.value),void 0!==s?c._value=s:c._value=c.defaultValue,c}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),t},t.createClass(n,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.updateCallback()}}]),n}(r.Base),r.BooleanInput=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.fix=function(){return this.value},n}(r.Input),r.NonBooleanInput=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.fix=function(){var t=this.value;return{name:this.name,value:t,valueOf:function(){return t},toString:function(){return String(t)}}},n}(r.Input),r.FactorInput=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.availableValues=r,c}return t.inherits(n,e),n}(r.NonBooleanInput),r.RangeInput=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.availableMin=r[0],c.availableMax=r[1],c}return t.inherits(n,e),n}(r.NonBooleanInput),r.Collection=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.apply(this,arguments));return c.entries=r,c}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.entries.forEach(function(e){e.shortenExportAssign(e["export"](),t,e.name)}),t},n.prototype.fix=function(){var t=[],e={name:this.name,entries:t};return this.entries.forEach(function(n){t.push(e[n.name]=n.fix())}),e},n}(r.Base),r.Void=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype["export"]=function(){return{}},n.prototype.fix=function(){return{name:this.name}},n}(r.Base),r.Checkbox=function(e){function n(i,r,o,s,a,u,p){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.call(this,i,void 0,!!o,s,a,u,p))}return t.inherits(n,e),n}(r.BooleanInput),r.Select=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.FactorInput),r.Text=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.FactorInput),r.Int=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.RangeInput),r.Root=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.Collection),r.Group=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n}(r.Collection),r.Array=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.call(this,i,void 0,void 0,void 0,a,u,p));c.availableConstructors=r,void 0===o&&(o="type"),c.typePropertyName=o,c._entries=[];var l=[];Array.isArray(s)?l=s:"object"==typeof s&&(l=s.value);for(var f=c.availableTypes[0],h=0;h<l.length;h++){var d=l[h],m=f;"object"==typeof d&&void 0!==d[o]&&(m=d[o]);var v=c.availableConstructors.get(m);v&&c._entries.push(v(d))}return c}return t.inherits(n,e),n.prototype.addEntry=function(t){var e=this.availableConstructors.get(t)();return this._entries.push(e),this.updateCallback(),e},n.prototype["export"]=function(){var t=this,e=this.availableTypes[0];return{value:this._entries.map(function(n){var i=n["export"](),r=n.name;return r!=e&&(i[t.typePropertyName]=r),n.shortenExport(i)})}},n.prototype.fix=function(){var t=this;return{name:this.name,entries:this._entries.map(function(e){var n=e.fix();return"object"==typeof n&&(n[t.typePropertyName]=e.name),n})}},t.createClass(n,[{key:"availableTypes",get:function(){var t=[];return this.availableConstructors.forEach(function(e,n){t.push(n)}),t}},{key:"entries",get:function(){return this._entries},set:function(t){this._entries=t,this.updateCallback()}}]),n}(r.Base),n.exports=r},{}],14:[function(e,n,i){"use strict";var r=e(13),o=function(){function e(n,i,r){function o(t){for(var e=t;e=Object.getPrototypeOf(e);){var n=s.get(e.constructor);if(n)return n(t,o,r,i)}}t.classCallCheck(this,e);var s=new Map;this.setOptionClassWriters(s),this.$output=o(n.root)}return e.prototype.setOptionClassWriters=function(t){t.set(r.Root,function(t,e,n,i){return t.$=$("<div class='options-output'>").append(t.entries.map(e))}),t.set(r.Group,function(t,e,n,i){return t.$=$("<fieldset>").append("<legend>"+n("options."+t.fullName)+"</legend>").append(t.entries.map(e))}),t.set(r.Void,function(t,e,n,i){return t.$=$("<div class='option no-lead'>").html(n("options."+t.fullName))}),t.set(r.Checkbox,function(t,e,n,i){var r=i();return t.$=$("<div class='option no-lead'>").append($("<input type='checkbox' id='"+r+"'>").prop("checked",t.value).change(function(){t.value=$(this).prop("checked")})).append(" <label for='"+r+"'>"+n("options."+t.fullName)+"</label>")}),t.set(r.Select,function(t,e,n,i){var r=i();return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<select id='"+r+"'>").append(t.availableValues.map(function(e){return $("<option>").val(e).html(n("options."+t.fullName+"."+e))})).val(t.value).change(function(){t.value=this.value}))}),t.set(r.Text,function(t,e,n,i){var r=i(),o=i();return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<input type='text' id='"+r+"' list='"+o+"' />").val(t.value).on("input change",function(){t.value=this.value})).append(" ").append($("<datalist id='"+o+"'>").append(t.availableValues.map(function(t){return $("<option>").text(t)})))}),t.set(r.Int,function(t,e,n,i){var r=i();return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append($("<input type='number' id='"+r+"' required />").val(t.value).attr("min",t.availableMin).attr("max",t.availableMax).attr("step",t.step).on("input change",function(){this.checkValidity()&&(t.value=this.value)}))}),t.set(r.Array,function(t,e,n,i){var r=null,o=void 0,s=function(){t.entries=o.children().map(function(){return $(this).data("option")}).get()},a=function(t){return $("<div class='draggable-with-handle'>").data("option",t).append($("<div draggable='true' tabindex='0' title='"+n("options-output.drag")+"'>").on("dragstart",function(t){r=$(this).parent(),t.originalEvent.dataTransfer.effectAllowed="move",t.originalEvent.dataTransfer.setData("Text",name),t.originalEvent.dataTransfer.setDragImage&&t.originalEvent.dataTransfer.setDragImage(r[0],0,0),setTimeout(function(){r.addClass("ghost")},0)}).keydown(function(t){var e=$(this),n=e.parent();return 38==t.keyCode?(n.prev().before(n),e.focus(),s(),!1):40==t.keyCode?(n.next().after(n),e.focus(),s(),!1):void 0})).append(e(t)).append($("<div tabindex='0' class='delete' title='"+n("options-output.delete")+"'>").click(function(){$(this).parent().remove(),s()}).keydown(function(t){return 13==t.keyCode||32==t.keyCode?($(this).parent().remove(),s(),!1):void 0})).on("dragover",function(t){t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move";var e=$(this);r&&(e.nextAll().is(r)?(e.before(r),s()):e.prevAll().is(r)&&(e.after(r),s()))}).on("drop",function(t){t.preventDefault()}).on("dragend",function(t){t.preventDefault(),r&&(r.removeClass("ghost"),r=null)})};t.$=$("<fieldset>").append("<legend>"+n("options."+t.fullName)+"</legend>").append(o=$("<div>").append(t.entries.map(a)));var u=$("<div>");return t.availableTypes.forEach(function(e,i){i&&u.append(" "),u.append($("<button type='button'>").html(n("options."+t.fullName+"."+e+".add")).click(function(){var n=t.addEntry(e);o.append(a(n))}))}),t.$.append(u),t.$})},e}();n.exports=o},{13:13}],15:[function(e,n,i){"use strict";var r=function(){function n(e){var i=this;t.classCallCheck(this,n),this.updateCallback=void 0;var r=function(){i.updateCallback&&i.updateCallback()},o=this.optionClasses,s={},a={},u=function(t,e,n,p){var c=t[0];if(void 0===o[c])throw new Error("invalid option type '"+c+"'");for(var l=t[1],f=e+l,h=t.slice(2),d=[],m=void 0,v={},y=0,g=0,b=0,C=0;C<h.length;C++){var x=h[C];if("string"==typeof x||"number"==typeof x||"boolean"==typeof x){if(0!=y)throw new Error("too many scalar arguments");m=x,y++}else if(Array.isArray(x)){if(0!=g)throw new Error("too many array arguments");p||"Array"!=c?d=x.map(function(t){if(Array.isArray(t)){var e=t[1],i=void 0;return"object"==typeof n&&(i=n[e]),u(t,f+".",i,p)}return t}):(d=new Map,x.forEach(function(t){var e=t[1],n=function(e){return u(t,f+".",e,!0)};d.set(e,n)})),g++}else{if(p||!(x instanceof Object))throw new Error("unknown argument type");if(0!=b)throw new Error("too many array arguments");v=x,b++}}var k=void 0,w=void 0;p?(w=r,k=function(){return!0}):(k=function(){for(var t in v){var e=s[t].value;if(v[t].indexOf(e)<0)return!1}return!0},w=function(){void 0!==a[f]&&a[f].forEach(function(t){t.updateVisibility()}),i.updateCallback&&i.updateCallback()});var L=new o[c](l,d,m,n,f,k,w);if(!p){s[f]=L;for(var N in v)void 0===a[N]&&(a[N]=[]),a[N].push(L)}return L};this.root=new o.Root(null,this.entriesDescription.map(function(t){var n=t[1],i=void 0;return"object"==typeof e&&(i=e[n]),u(t,"",i,!1)}),void 0,e,null,function(){return!0},r)}return n.prototype["export"]=function(){return this.root.shortenExport(this.root["export"]())},n.prototype.fix=function(){return this.root.fix()},t.createClass(n,[{key:"optionClasses",get:function(){return e(13)}},{key:"entriesDescription",get:function(){return[]}}]),n}();n.exports=r},{13:13}],16:[function(e,n,i){"use strict";var r=e(7),o=e(11),s=function(e){function n(i,r){t.classCallCheck(this,n);var o=t.possibleConstructorReturn(this,e.call(this,i));return o.ref=r,o}return t.inherits(n,e),n.parse=function(t){for(var e=o.ba(""),n=/^(.*?)\[([^\]]+)\]\[([^\]]+)\]/;t.length>0;){var i=n.exec(t);if(!i){e.t(t);break}e.t(i[1]),e.t(this.b(i[3]).ae(i[2])),t=t.substr(i[0].length)}return e.e()},n.prototype.doGet=function(t,n){var i=e.prototype.doGet.call(this,t,n),o=void 0;return n&&"object"==typeof t.refs&&(o=t.refs[this.ref]),void 0!==o?i.map(function(t){return"<a href='"+r(o)+"'>"+t+"</a>"}):i},n}(o);n.exports=s},{11:11,7:7}],17:[function(e,n,i){"use strict";var r=t.taggedTemplateLiteralLoose(["<link rel=stylesheet href=",">"],["<link rel=stylesheet href=",">"]),o=t.taggedTemplateLiteralLoose(["<script src=","></script>"],["<script src=","></script>"]),s=t.taggedTemplateLiteralLoose(["<html lang=",">"],["<html lang=",">"]),a=e(11),u=e(12),p=e(3),c=function(){function e(){t.classCallCheck(this,e)}return e.prototype.get=function(t){return this.getLines().get(t)},e.prototype.getHtml=function(t){return this.getLines().getHtml(t)},e.prototype.extractSections=function(t){void 0===t&&(t={});var e=u.b("<style>","</style>").ae(this.cachedStyleLines),n=a.be();"paste"==t.css?(e="body"==t.html?a.be():a.bae("<!-- <style> "+this.getSectionPasteComment("css")+" </style> -->"),n=this.cachedStyleLines):"file"==t.css&&(e=a.bae(a.html(r,this.basename+".css")),n=this.cachedStyleLines);var i=u.b("<script>","</script>").ae(this.cachedScriptLines),s=a.be();"paste"==t.js?(i="body"==t.html?a.be():a.bae("<!-- <script> "+this.getSectionPasteComment("js")+" </script> -->"),s=this.cachedScriptLines):"file"==t.js&&(i=a.bae(a.html(o,this.basename+".js")),s=this.cachedScriptLines);var c=void 0;c="body"==t.html?this.getBodyHtmlSectionLines(e,i):this.getFullHtmlSectionLines(e,i);var l=function(t){return"text/"+("js"==t?"javascript":t)};return{html:new p(this.filename,l("html"),c),css:new p(this.basename+".css",l("css"),n),js:new p(this.basename+".js",l("js"),s)}},e.prototype.getLines=function(){return this.getFullHtmlSectionLines(u.b("<style>","</style>").ae(this.cachedStyleLines),u.b("<script>","</script>").ae(this.cachedScriptLines))},e.prototype.getFullHtmlSectionLines=function(t,e){var n=a.b();return n("<!DOCTYPE html>"),n(null!==this.lang?a.html(s,this.lang):"<html>"),n("<head>","<meta charset=utf-8>"),null!==this.title&&n("<title>"+this.title+"</title>"),n(t,this.cachedHeadLines,"</head>","<body>",this.cachedBodyLines,e,"</body>","</html>"),n.e()},e.prototype.getBodyHtmlSectionLines=function(t,e){return a.bae(t,this.cachedHeadLines,this.cachedBodyLines,e)},e.prototype.getSectionPasteComment=function(t){return t+" goes here"},t.createClass(e,[{key:"filename",get:function(){return this.basename+".html"}},{key:"mimeType",get:function(){return"text/html"}},{key:"cachedStyleLines",get:function(){return this._styleLines||(this._styleLines=this.styleLines),this._styleLines}},{key:"cachedHeadLines",get:function(){return this._headLines||(this._headLines=this.headLines),this._headLines}},{key:"cachedBodyLines",get:function(){return this._bodyLines||(this._bodyLines=this.bodyLines),this._bodyLines}},{key:"cachedScriptLines",get:function(){return this._scriptLines||(this._scriptLines=this.scriptLines),this._scriptLines}},{key:"basename",get:function(){return"source"}},{key:"lang",get:function(){return null}},{key:"title",get:function(){return null}},{key:"styleLines",get:function(){return a.be()}},{key:"headLines",get:function(){return a.be()}},{key:"bodyLines",get:function(){return a.be()}},{key:"scriptLines",get:function(){return a.be()}}]),e}();n.exports=c},{11:11,12:12,3:3}],18:[function(e,n,i){"use strict";var r=e(7),o=e(11),s=function(e){function n(i){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this,i));r.wrappers=[];for(var o=1;o<arguments.length;o++)r.wrappers.push(arguments[o]);return r}return t.inherits(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.doGet=function(t,e){var n=this,i="	";void 0!==t.indent&&(i=t.indent);var s=[],a=0,u=function(){var i=n.wrappers[a];if(i instanceof o){var u=i.doGet(t,e);s.push.apply(s,u)}else if("string"==typeof i){var p=e?r(i):i;s.push(p)}a++};return u(),this.data.forEach(function(a){if(a instanceof o){var p=a.doGet(t,e);s.push.apply(s,p.map(function(t){return i+t})),2!=n.wrappers.length&&u()}else if("string"==typeof a){var c=e?r(a):a;s.push(i+c),2!=n.wrappers.length&&u()}}),2==this.wrappers.length&&u(),s},n}(o);n.exports=s},{11:11,7:7}],19:[function(e,n,i){"use strict";var r=e(10),o=e(16),s=e(25),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,e,n){var i=r.b();return t.audioContext&&i(o.parse("// "+e("comment.context")),"var ctx=new (AudioContext || webkitAudioContext);"),i.e()},n}(s);n.exports=a},{10:10,16:16,25:25}],20:[function(e,n,i){"use strict";var r=e(11),o=e(10),s=e(25),a=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getHtmlLines=function(t,e){var n=r.b();return t.canvas&&n("<div>","	<canvas id=my.canvas width=300 height=100></canvas>","</div>"),n.e()},n.prototype.getJsInitLines=function(t,e,n){var i=o.b();return t.canvas&&i("var canvas=document.getElementById('my.canvas');","var canvasContext=canvas.getContext('2d');"),i.e()},n}(s);n.exports=a},{10:10,11:11,25:25}],21:[function(e,n,i){"use strict";var r=e(2),o=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.writeButtons=function(t,n,i){return e.prototype.writeButtons.call(this,t,n,i).append(" <span class='tip-warn'><span class='tip-content'>"+i("code-output.warning.jsfiddle-run")+"</span></span>")},t.createClass(n,[{key:"refs",get:function(){return{context:"https://www.w3.org/TR/webaudio/#AudioContext",source:"https://www.w3.org/TR/webaudio/#MediaElementAudioSourceNode",gain:"https://www.w3.org/TR/webaudio/#GainNode",panner:"https://www.w3.org/TR/webaudio/#the-stereopannernode-interface",biquad:"https://www.w3.org/TR/webaudio/#the-biquadfilternode-interface",convolver:"https://www.w3.org/TR/webaudio/#ConvolverNode",peaking:"https://www.w3.org/TR/webaudio/#idl-def-BiquadFilterType.peaking",destination:"https://www.w3.org/TR/webaudio/#AudioDestinationNode",compressor:"https://www.w3.org/TR/webaudio/#the-dynamicscompressornode-interface",analyser:"https://www.w3.org/TR/webaudio/#the-analysernode-interface"}}}]),n}(r);n.exports=o},{2:2}],22:[function(e,n,i){"use strict";var r=e(19),o=e(32),s=e(26),a=e(24),u=e(20),p=e(11),c=e(10),l=e(9),f=e(12),h=e(17),d=function(e){function n(i,p){t.classCallCheck(this,n);var c=t.possibleConstructorReturn(this,e.call(this));return c.i18n=p,c.featureContext={},c.features=[new r,new o(i.sources),new s(i.filters),new a(i.destination),new u],c.features.forEach(function(t){t.requestFeatureContext(c.featureContext)}),c}return t.inherits(n,e),t.createClass(n,[{key:"basename",get:function(){return"webaudio"}},{key:"lang",get:function(){return"en"}},{key:"title",get:function(){return"Web Audio example - Generated code"}},{key:"styleLines",get:function(){var t=p.b();return this.featureContext.alignedInputs&&t(".aligned label {","	display: inline-block;","	width: 10em;","	text-align: right;","}"),this.featureContext.canvas&&t("canvas {","	border: 1px solid;","}"),t.e()}},{key:"bodyLines",get:function(){var t=this;return p.bae.apply(p,this.features.map(function(e){return e.getHtmlLines(t.featureContext,t.i18n)}))}},{key:"scriptLines",get:function(){var t,e=this,n=void 0;return l.bae.apply(l,this.features.map(function(t){var i=t.getJsInitLines(e.featureContext,e.i18n,n);return n=t.getNodeJsNames(e.featureContext,n),i}).concat([(t=f.b(c.bae("function visualize() {"),c.bae("	requestAnimationFrame(visualize);","}","requestAnimationFrame(visualize);"))).ae.apply(t,this.features.map(function(t){return t.getJsLoopLines(e.featureContext,e.i18n)}))]))}}]),n}(h);n.exports=d},{10:10,11:11,12:12,17:17,19:19,20:20,24:24,26:26,32:32,9:9}],23:[function(e,n,i){"use strict";var r=e(11),o=e(25),s=function(e){function n(i){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this)),o=new Map;i.entries.forEach(function(t){var e=r.getEntryClass(t);o.set(e,o.get(e)+1||1)});var s=new Map;return r.entries=i.entries.map(function(t){var e=r.getEntryClass(t);if(o.get(e)>1){var n=s.get(e)||0;return s.set(e,n+1),new e(t,n)}return new e(t)}),r}return t.inherits(n,e),n.prototype.getHtmlLines=function(t,e){return r.bae.apply(r,this.entries.map(function(n){return n.getHtmlLines(t,e)}))},n}(o);n.exports=s},{11:11,25:25}],24:[function(e,n,i){"use strict";var r=t.taggedTemplateLiteralLoose(["<label for=my.compressor>","</label>"],["<label for=my.compressor>","</label>"]),o=e(11),s=e(10),a=e(12),u=e(16),p=e(25),c=function(e){function n(i){t.classCallCheck(this,n);var r=t.possibleConstructorReturn(this,e.call(this));return r.options=i,r}return t.inherits(n,e),n.prototype.requestFeatureContext=function(t){t.audioProcessing&&((this.options.compressor||this.options.waveform)&&(t.audioContext=!0),this.options.waveform&&(t.canvas=!0))},n.prototype.getHtmlLines=function(t,e){var n=a.b("<div>","</div>");return t.audioProcessing&&this.options.compressor&&n("<input id=my.compressor type=checkbox checked>",o.html(r,e("options.destination.compressor.enable"))),n.e()},n.prototype.getJsInitLines=function(t,e,n){var i=this,r=s.b();return t.audioProcessing&&t.audioContext&&(this.options.compressor&&!function(){var t=i.options.waveform?"analyserNode":"ctx.destination";r.apply(void 0,[u.parse("// "+e("comment.destination.compressor")),"var compressorNode=ctx.createDynamicsCompressor();"].concat(n.map(function(t){return t+".connect(compressorNode);"}))),n.length>0&&r.apply(void 0,["document.getElementById('my.compressor').onchange=function(){","	if (this.checked) {"].concat(n.map(function(e){return"		"+e+".disconnect("+t+");"}),n.map(function(t){return"		"+t+".connect(compressorNode);"}),["	} else {"],n.map(function(t){return"		"+t+".disconnect(compressorNode);"}),n.map(function(e){return"		"+e+".connect("+t+");"}),["	}","};",""])),n=["compressorNode"]}(),this.options.waveform&&(r.apply(void 0,[u.parse("// "+e("comment.destination.waveform")),"var analyserNode=ctx.createAnalyser();"].concat(n.map(function(t){return t+".connect(analyserNode);"}),["analyserNode.fftSize=1024;","var analyserData=new Uint8Array(analyserNode.frequencyBinCount);",""])),n=["analyserNode"]),r.apply(void 0,[u.parse("// "+e("comment.destination"))].concat(n.map(function(t){return t+".connect(ctx.destination);"})))),r.e()},n.prototype.getJsLoopLines=function(t,e){var n=s.b();return t.audioProcessing&&this.options.waveform&&n("analyserNode.getByteTimeDomainData(analyserData);","canvasContext.clearRect(0,0,canvas.width,canvas.height);","canvasContext.beginPath();","for (var i=0;i<analyserData.length;i++) {","	var x=i*canvas.width/analyserData.length;","	var y=analyserData[i]*canvas.height/255;","	if (i==0) {","		canvasContext.moveTo(x,y);","	} else {","		canvasContext.lineTo(x,y);","	}","}","canvasContext.stroke();"),
n.e()},n.prototype.getNodeJsNames=function(t,e){return t.audioProcessing&&t.audioContext?["ctx.destination"]:e},n}(p);n.exports=c},{10:10,11:11,12:12,16:16,25:25}],25:[function(e,n,i){"use strict";var r=e(11),o=function(){function e(){t.classCallCheck(this,e)}return e.prototype.requestFeatureContext=function(t){},e.prototype.getHtmlLines=function(t,e){return r.be()},e.prototype.getJsInitLines=function(t,e,n){return r.be()},e.prototype.getJsLoopLines=function(t,e){return r.be()},e.prototype.getNodeJsNames=function(t,e){return e},e}();n.exports=o},{11:11}],26:[function(e,n,i){"use strict";var r=t.taggedTemplateLiteralLoose(["<label for=",">","</label>"],["<label for=",">","</label>"]),o=t.taggedTemplateLiteralLoose(["<input id="," type=range value="," min="," max="," step=",">"],["<input id="," type=range value="," min="," max="," step=",">"]),s=t.taggedTemplateLiteralLoose(["<select id=",">"],["<select id=",">"]),a=t.taggedTemplateLiteralLoose(["<option selected=",">","</option>"],["<option selected=",">","</option>"]),u=t.taggedTemplateLiteralLoose(["<span id=",">","</span>"],["<span id=",">","</span>"]),p=e(4),c=e(11),l=e(10),f=e(18),h=e(12),d=e(9),m=e(16),v=e(23),y=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getPropertyOptionName=function(t){return"options.filters."+this.type+"."+t.name},e.prototype.getPropertyInputHtmlName=function(t){return"my."+this.type+this.nSuffix+"."+t},e.prototype.getPropertyInputJsName=function(t){return p(this.type+this.nSuffix+"."+t+".input")},e.prototype.requestFeatureContext=function(t){},e.prototype.getHtmlPropertyLines=function(t,e){var n=this.options[e.name],i=this.getPropertyInputHtmlName(e.name),p=c.b();if("range"==e.type&&n.input)p(c.html(r,i,t(this.getPropertyOptionName(e))),c.html(o,i,n,n.min,n.max,1!=n.step?n.step:!1));else if("select"==e.type&&n.input){var l;p(c.html(r,i,t(this.getPropertyOptionName(e))),(l=f.b(c.html(s,i),"</select>")).ae.apply(l,n.availableValues.map(function(t){return c.html(a,n.value==t,t)})))}else"xhr"==e.type&&p(c.html(u,i,t(this.getPropertyOptionName(e)+".loading")));return p.e()},e.prototype.getHtmlLines=function(t,e){var n,i=this;return(n=h.b("<div>","</div>")).ae.apply(n,this.nodeProperties.map(function(t){return i.getHtmlPropertyLines(e,t)}))},e.prototype.getJsInitLines=function(t,e){var n=this;return l.bae.apply(l,[m.parse("// "+t("comment.filters."+this.type)),"var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"();"].concat(e.map(function(t){return t+".connect("+n.nodeJsName+");"})))},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"nodeJsName",get:function(){return p(this.type+this.nSuffix+".node")}},{key:"skipNode",get:function(){return!1}},{key:"nodeJsNames",get:function(){return[this.nodeJsName]}}]),e}(),g=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,n){var i=this;return c.bae.apply(c,[e.prototype.getJsInitLines.call(this,t,n)].concat(this.nodeProperties.map(function(t){var e=i.options[t.name],n=i.nodeJsName+"."+t.name+("range"==t.type?".value":""),r=l.b();if(e.input){var o=i.getPropertyInputJsName(t.name),s=i.getPropertyInputHtmlName(t.name),a=o+".value";t.fn&&(a=t.fn(a));var u="range"==t.type?"oninput":"onchange";r("var "+o+"=document.getElementById('"+s+"');",";("+o+"."+u+"=function(){","	"+n+"="+a+";","})();")}else if(e.value!=e.defaultValue){var a=e.value;"select"==t.type&&(a="'"+a+"'"),t.fn&&(a=t.fn(a)),r(n+"="+a+";")}return r.e()})))},n}(y),b=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"skipNode",get:function(){var t=this;return this.nodeProperties.every(function(e){var n=t.options[e.name];return n.value==n.defaultValue&&!n.input})}}]),n}(g),C={gain:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"gain"}},{key:"ctxCreateMethodName",get:function(){return"createGain"}},{key:"nodeProperties",get:function(){return[{name:"gain",type:"range"}]}}]),n}(b),panner:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"panner"}},{key:"ctxCreateMethodName",get:function(){return"createStereoPanner"}},{key:"nodeProperties",get:function(){return[{name:"pan",type:"range"}]}}]),n}(b),biquad:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"type",get:function(){return"biquad"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"nodeProperties",get:function(){return[{name:"type",type:"select"},{name:"frequency",type:"range"},{name:"Q",type:"range",fn:function(t){return"Math.pow(10,"+t+")"}},{name:"gain",type:"range"},{name:"detune",type:"range"}]}},{key:"skipNode",get:function(){return!this.options.type.input&&["lowshelf","highshelf","peaking"].indexOf(this.options.type.value)>=0&&!this.options.gain.input&&0==this.options.gain}}]),n}(g),convolver:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getJsInitLines=function(t,e){var n=this,i=this.getPropertyInputHtmlName("buffer"),r=l.b();if(r(this.options.reverb.input||1!=this.options.reverb?m.parse("// "+t("comment.filters."+this.type)):m.parse("// "+t("comment.filters."+this.type+".single"))),r.apply(void 0,["var "+this.nodeJsName+"=ctx."+this.ctxCreateMethodName+"();"].concat(e.map(function(t){return t+".connect("+n.nodeJsName+");"}))),(this.options.reverb.input||1!=this.options.reverb)&&(r.apply(void 0,["var "+this.wetGainNodeJsName+"=ctx.createGain();",this.nodeJsName+".connect("+this.wetGainNodeJsName+");","var "+this.dryGainNodeJsName+"=ctx.createGain();"].concat(e.map(function(t){return t+".connect("+n.dryGainNodeJsName+");"}))),this.options.reverb.input)){var o=this.getPropertyInputHtmlName("reverb"),s=this.getPropertyInputJsName("reverb");r("var "+s+"=document.getElementById('"+o+"');",";("+s+".oninput=function(){","	"+this.wetGainNodeJsName+".gain.value="+s+".value;","	"+this.dryGainNodeJsName+".gain.value=1-"+s+".value;","})();")}return r("var xhr=new XMLHttpRequest();","xhr.open('GET','"+this.options.url+"');","xhr.responseType='arraybuffer';","xhr.onload=function(){","	if (this.status==200) {","		ctx.decodeAudioData(this.response,function(buffer){","			"+this.nodeJsName+".buffer=buffer;","			document.getElementById('"+i+"').textContent='';","		});","	} else {","		this.onerror();","	}","};","xhr.onerror=function(){","	document.getElementById('"+i+"').textContent='"+t("options.filters.convolver.buffer.error")+"';","};","xhr.send();"),r.e()},t.createClass(n,[{key:"type",get:function(){return"convolver"}},{key:"ctxCreateMethodName",get:function(){return"createConvolver"}},{key:"nodeProperties",get:function(){return[{name:"reverb",type:"range"},{name:"buffer",type:"xhr"}]}},{key:"dryGainNodeJsName",get:function(){return p(this.type+this.nSuffix+".dry.gain.node")}},{key:"wetGainNodeJsName",get:function(){return p(this.type+this.nSuffix+".wet.gain.node")}},{key:"skipNode",get:function(){return 0==this.options.reverb&&!this.options.reverb.input}},{key:"nodeJsNames",get:function(){return this.options.reverb.input||1!=this.options.reverb?[this.wetGainNodeJsName,this.dryGainNodeJsName]:[this.nodeJsName]}}]),n}(y),equalizer:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getFrequencyOption=function(t){return this.options[this.nodeProperties[t].name]},n.prototype.requestFeatureContext=function(t){this.allGainsConstant||(t.alignedInputs=!0)},n.prototype.getHtmlPropertyLines=function(t,n){return h.b("<div class=aligned>","</div>").ae(e.prototype.getHtmlPropertyLines.call(this,t,n))},n.prototype.getJsInitLines=function(t,e){var n=this,i=1==this.affectedFreqsAndOptions.length,r=this.affectedFreqsAndOptions.every(function(t){return 0==t.option.input}),o=this.affectedFreqsAndOptions.every(function(t){return 1==t.option.input}),s=function(){return n.affectedFreqsAndOptions.map(function(t){return o?t.freq:"["+t.freq+","+(t.option.input?"null":t.option.value)+"]"}).join()},a=function(){return o?"freq":"freqData"},u=function(){var t=i?n.affectedFreqsAndOptions[0].freq:"freq",s=i?n.affectedFreqsAndOptions[0].option.value:"gain",a=r||i?n.nodeJsName:"node",u=i?n.getPropertyInputJsName("gain"+t):"input",p=i?"'"+n.getPropertyInputHtmlName("gain"+t)+"'":"'"+n.getPropertyInputHtmlName("gain")+"'+freq",c=l.b();o||i||c("var freq=freqData[0], gain=freqData[1];"),c(r&&!i?"":"var "),c.t(a+"=ctx."+n.ctxCreateMethodName+"();"),i?c.apply(void 0,e.map(function(t){return t+".connect("+a+");"})):1==e.length?c("prevNode.connect("+a+");"):c("prevNodes.forEach(function(prevNode){","	prevNode.connect("+a+");","});"),c(a+".type='peaking';",a+".frequency.value="+t+";");var h=l.bae(a+".gain.value="+s+";"),d=l.bae("var "+u+"=document.getElementById("+p+");",";("+u+".oninput=function(){","	"+a+".gain.value="+u+".value;","})();");if(!o&&r?c(h):o&&!r?c(d):o||r||c(f.b("if (gain!==null) {","} else {","}").ae(h,d)),!i){var m=r?a:n.nodeJsName+"="+a;c(1==e.length?"prevNode="+m+";":"prevNodes=["+m+"];")}return c.e()};if(i)return l.bae(m.parse("// "+t("comment.filters."+this.type+".single")),u());var p=l.b();return p(m.parse("// "+t("comment.filters."+this.type))),p(1==e.length?"var prevNode="+e[0]+";":"var prevNodes=["+e.join()+"];"),p("var "+this.nodeJsName+";",f.b(l.bae(";["+s()+"].forEach(function("+a()+"){"),l.bae("});")).ae(u())),p.e()},t.createClass(n,[{key:"type",get:function(){return"equalizer"}},{key:"ctxCreateMethodName",get:function(){return"createBiquadFilter"}},{key:"frequencies",get:function(){return[60,170,350,1e3,3500,1e4]}},{key:"nodeProperties",get:function(){return this.frequencies.map(function(t){return{name:"gain"+t,type:"range"}})}},{key:"affectedFreqsAndOptions",get:function(){var t=this;return this.frequencies.map(function(e,n){var i=t.getFrequencyOption(n);return{freq:e,option:i}}).filter(function(t){return 0!=t.option.input||0!=t.option.value})}},{key:"skipNode",get:function(){return 0==this.affectedFreqsAndOptions.length}}]),n}(y)},x=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return C[t.filter]},n.prototype.requestFeatureContext=function(t){t.audioProcessing&&this.entries.forEach(function(e){e.skipNode||(t.audioContext=!0,e.requestFeatureContext(t))})},n.prototype.getHtmlLines=function(t,e){return t.audioProcessing?c.bae.apply(c,this.entries.filter(function(t){return!t.skipNode}).map(function(n){return n.getHtmlLines(t,e)})):c.be()},n.prototype.getJsInitLines=function(t,e,n){return t.audioProcessing?d.bae.apply(d,this.entries.filter(function(t){return!t.skipNode}).map(function(t){var i=t.getJsInitLines(e,n);return n=t.nodeJsNames,i})):c.be()},n.prototype.getNodeJsNames=function(t,e){return t.audioProcessing?(this.entries.forEach(function(t){t.skipNode||(e=t.nodeJsNames)}),e):e},n}(v);n.exports=x},{10:10,11:11,12:12,16:16,18:18,23:23,4:4,9:9}],27:[function(t,e,n){"use strict";var i={"options.sources":"Sources","options.sources.audio":"Audio element","options.sources.audio.add":"Add audio element","options.sources.audio.url":"Source URL","options.sources.video":"Video element","options.sources.video.add":"Add video element","options.sources.video.url":"Source URL","options.sources.video.width":"Player width","options.sources.video.height":"Player height","options.filters":"Filters","options.filters.gain":"Gain","options.filters.gain.add":"Add gain","options.filters.gain.gain":"Gain","options.filters.panner":"Stereo panner","options.filters.panner.add":"Add stereo panner","options.filters.panner.pan":"Pan","options.filters.biquad":"Biquad filter","options.filters.biquad.add":"Add biquad filter","options.filters.biquad.type":"Filter type","options.filters.biquad.type.lowpass":"lowpass","options.filters.biquad.type.highpass":"highpass","options.filters.biquad.type.bandpass":"bandpass","options.filters.biquad.type.lowshelf":"lowshelf","options.filters.biquad.type.highshelf":"highshelf","options.filters.biquad.type.peaking":"peaking","options.filters.biquad.type.notch":"notch","options.filters.biquad.type.allpass":"allpass","options.filters.biquad.frequency":"Frequency","options.filters.biquad.Q":"Log(Q)","options.filters.biquad.detune":"Detune","options.filters.biquad.gain":"Gain [dB]","options.filters.convolver":"Convolver","options.filters.convolver.add":"Add convolver","options.filters.convolver.url":"Impulse responce URL","options.filters.convolver.reverb":"Reverb (dry/wet)","options.filters.convolver.buffer.loading":"Loading and decoding the impulse response","options.filters.convolver.buffer.error":"Error while loading the impulse response","options.filters.equalizer":"Equalizer","options.filters.equalizer.add":"Add equalizer","options.filters.equalizer.gain60":"60 Hz gain","options.filters.equalizer.gain170":"170 Hz gain","options.filters.equalizer.gain350":"350 Hz gain","options.filters.equalizer.gain1000":"1000 Hz gain","options.filters.equalizer.gain3500":"3500 Hz gain","options.filters.equalizer.gain10000":"10000 Hz gain","options.destination":"Destination","options.destination.compressor":"Add dynamics compressor before the destination","options.destination.compressor.enable":"Enable dynamics compressor","options.destination.waveform":"Add waveform visualization","options-output.drag":"Drag or press up/down while in focus to reorder","options-output.delete":"Delete","options-output.input":"Editable","options-output.range":"with range","options-output.reset":"Reset","code-output.warning.jsfiddle-run":"You may have to click <kbd>Run</kbd> in JSFiddle to get sound output working","comment.context":"create [audio context][context]","comment.sources.audio":"create [audio source node][source]","comment.sources.video":"create [video source node][source]","comment.filters.gain":"create [gain node][gain]","comment.filters.panner":"create [stereo panner node][panner]","comment.filters.biquad":"create [biquad filter node][biquad]","comment.filters.convolver":"create dry and wet routes with [convolver node][convolver]","comment.filters.convolver.single":"create [convolver node][convolver]","comment.filters.equalizer":"create equalizer as a sequence of [peaking][peaking] [biquad filter nodes][biquad]","comment.filters.equalizer.single":"create equalizer as a [peaking][peaking] [biquad filter node][biquad]","comment.destination":"connect last node to [destination][destination]","comment.destination.compressor":"create [dynamics compressor node][compressor]","comment.destination.waveform":"create [analyser node][analyser] for waveform visualization"};i=t(1)(i),e.exports=function(t){var e=function(t){return i[t]};return e.lang=t,e}},{1:1}],28:[function(t,e,n){"use strict";function i(){return"webaudio-starter-id-"+r++}var r=0,o=t(27)("en"),s=t(31),a=t(22),u=t(30),p=t(21);$(function(){$(".webaudio-starter").each(function(){var t=$(this),e=new s,n=new p(function(){return new a(e.fix(),o)},o);e.updateCallback=n.update;var r=new u(e,i,o);t.empty().append(r.$output).append(n.$output)})})},{21:21,22:22,27:27,30:30,31:31}],29:[function(e,n,i){"use strict";var r=Object.create(e(13)),o=function(){function e(n){t.classCallCheck(this,e),this.value=n.value,this.min=n.min,this.max=n.max,this.input=n.input,this.defaultValue=n.defaultValue,this.availableMin=n.availableMin,this.availableMax=n.availableMax,this.step=n.step,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return String(this.value)},e}();r.LiveNumber=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=void 0,l=void 0,f=void 0,h=void 0;"object"==typeof s?(c=s.value,l=s.min,f=s.max,h=s.input):c=s;var d=t.possibleConstructorReturn(this,e.call(this,i,r,o,c,a,u,p));return d.defaultMin=void 0!==r[2]?r[2]:d.availableMin,d.defaultMax=void 0!==r[3]?r[3]:d.availableMax,d._min=void 0!==l?l:d.defaultMin,d._max=void 0!==f?f:d.defaultMax,d._input=!!h,d._$range=null,d}return t.inherits(n,e),n.prototype.updateInternalVisibility=function(){this._$range&&this._$range.toggle(this._input)},n.prototype.exportHelper=function(t){var e={};return t.value!=t.defaultValue&&(e.value=t.value),t.min!=t.availableMin&&(e.min=t.min),t.max!=t.availableMax&&(e.max=t.max),t.input&&(e.input=t.input),e},n.prototype["export"]=function(){return this.exportHelper(this)},n.prototype.fix=function(){return new o(this)},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateInternalVisibility(),this.updateCallback()}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.updateCallback()}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this.updateCallback()}},{key:"$range",get:function(){return this._$range},set:function(t){this._$range=t,this.updateInternalVisibility()}}]),n}(r.RangeInput),r.LiveInt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"step",get:function(){return 1}}]),n}(r.LiveNumber),r.LiveFloat=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"step",get:function(){return.01}}]),n}(r.LiveNumber);var s=function(){function e(n){t.classCallCheck(this,e),this.value=n.value,this.input=n.input,this.defaultValue=n.defaultValue,this.availableValues=n.availableValues,this.name=n.name}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e}();r.LiveSelect=function(e){function n(i,r,o,s,a,u,p){t.classCallCheck(this,n);var c=void 0,l=void 0;"object"==typeof s?(c=s.value,l=s.input):c=s;var f=t.possibleConstructorReturn(this,e.call(this,i,r,o,c,a,u,p));return f._input=!!l,f}return t.inherits(n,e),n.prototype["export"]=function(){var t={};return this.value!=this.defaultValue&&(t.value=this.value),this.input&&(t.input=this.input),t},n.prototype.fix=function(){return new s(this)},t.createClass(n,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.updateCallback()}}]),n}(r.Select),n.exports=r},{13:13}],30:[function(e,n,i){"use strict";var r=e(29),o=e(14),s=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.setOptionClassWriters=function(t){e.prototype.setOptionClassWriters.call(this,t),t.set(r.LiveNumber,function(t,e,n,i){var r=function(e){return e.attr("min",t.availableMin).attr("max",t.availableMax).attr("step",t.step)},o=function(e,n){return r(e).val(t.value).on("input change",function(){if(this.checkValidity()){var e=n();e.val(this.value),t.value=parseFloat(this.value)}})},s=function(e){return r($("<input type='number' required>")).val(t[e]).on("input change",function(){this.checkValidity()&&(t[e]=parseFloat(this.value))})},a=i(),u=i(),p=void 0,c=void 0,l=void 0,f=void 0,h=void 0;return t.$=$("<div class='option'>").append("<label for='"+a+"'>"+n("options."+t.fullName)+":</label>").append(" <span class='min'>"+t.availableMin+"</span> ").append(p=o($("<input type='range' id='"+a+"'>"),function(){return c})).append(" <span class='max'>"+t.availableMax+"</span> ").append(c=o($("<input type='number' required>"),function(){return p})).append(" ").append(l=$("<input type='checkbox' id='"+u+"'>").prop("checked",t.input).change(function(){t.input=$(this).prop("checked")})).append(" <label for='"+u+"'>"+n("options-output.input")+"</label> ").append(t.$range=$("<span class='range'>").append(n("options-output.range")+" ").append(f=s("min")).append(" .. ").append(h=s("max"))).append(" ").append($("<button type='button'>"+n("options-output.reset")+"</button>").click(function(){p.val(t.defaultValue).change(),l.prop("checked",!1).change(),f.val(t.defaultMin).change(),h.val(t.defaultMax).change()}))}),t.set(r.LiveSelect,function(t,e,n,i){var r=i(),o=i(),s=void 0,a=void 0;return t.$=$("<div class='option'>").append("<label for='"+r+"'>"+n("options."+t.fullName)+":</label>").append(" ").append(s=$("<select id='"+r+"'>").append(t.availableValues.map(function(e){return $("<option>").val(e).html(n("options."+t.fullName+"."+e))})).val(t.value).change(function(){t.value=this.value})).append(" ").append(a=$("<input type='checkbox' id='"+o+"'>").prop("checked",t.input).change(function(){t.input=$(this).prop("checked")})).append(" <label for='"+o+"'>"+n("options-output.input")+"</label> ").append($("<button type='button'>"+n("options-output.reset")+"</button>").click(function(){s.val(t.defaultValue).change(),a.prop("checked",!1).change()}))})},n}(o);n.exports=s},{14:14,29:29}],31:[function(e,n,i){"use strict";var r=e(15),o=function(n){function i(){return t.classCallCheck(this,i),t.possibleConstructorReturn(this,n.apply(this,arguments))}return t.inherits(i,n),t.createClass(i,[{key:"entriesDescription",get:function(){return[["Array","sources",[["Group","audio",[["Text","url",["http://mainline.i3s.unice.fr/mooc/guitarRiff1.mp3","http://mainline.i3s.unice.fr/mooc/drums.mp3","http://mainline.i3s.unice.fr/mooc/LaSueur.mp3"]]]],["Group","video",[["Text","url",["http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.webm","http://mainline.i3s.unice.fr/mooc/elephants-dream-medium.mp4","http://mainline.i3s.unice.fr/mooc/sintel.webm","http://mainline.i3s.unice.fr/mooc/sintel.mp4"]],["Int","width",[1,1920],320],["Int","height",[1,1080],240]]]],"source"],["Array","filters",[["Group","gain",[["LiveFloat","gain",[0,10,0,1],1]]],["Group","panner",[["LiveFloat","pan",[-1,1],0]]],["Group","biquad",[["LiveSelect","type",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]],["LiveInt","frequency",[0,22050],350],["LiveFloat","Q",[-4,4],0],["LiveInt","gain",[-30,30],0],["LiveInt","detune",[0,100]]]],["Group","convolver",[["LiveFloat","reverb",[0,1]],["Text","url",["http://mainline.i3s.unice.fr/mooc/Scala-Milan-Opera-Hall.wav"]]]],["Group","equalizer",[60,170,350,1e3,3500,1e4].map(function(t){return["LiveInt","gain"+t,[-30,30],0]})]],"filter"],["Group","destination",[["Checkbox","compressor"],["Checkbox","waveform"]]]]}},{key:"optionClasses",get:function(){return e(29)}}]),i}(r);n.exports=o},{15:15,29:29}],32:[function(e,n,i){"use strict";var r=t.taggedTemplateLiteralLoose(["<audio src="," id="," controls loop crossorigin=","></audio>"],["<audio src="," id="," controls loop crossorigin=","></audio>"]),o=t.taggedTemplateLiteralLoose(["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"],["<video src="," id="," width="," height="," controls loop crossorigin=","></video>"]),s=e(4),a=e(11),u=e(10),p=e(18),c=e(9),l=e(16),f=e(23),h=function(){function e(n,i){t.classCallCheck(this,e),this.options=n,this.n=i}return e.prototype.getHtmlLines=function(t,e){return p.b("<div>","</div>").ae(this.getElementHtmlLines(t,e))},e.prototype.getJsInitLines=function(t){return u.bae(l.parse("// "+t("comment.sources."+this.type)),"var "+this.nodeJsName+"=ctx.createMediaElementSource(document.getElementById('"+this.elementHtmlName+"'));")},t.createClass(e,[{key:"nSuffix",get:function(){return void 0!==this.n?"."+this.n:""}},{key:"elementHtmlName",get:function(){return"my."+this.type+this.nSuffix}},{key:"nodeJsName",get:function(){return s(this.type+this.nSuffix+".node")}}]),e}(),d={audio:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return a.bae(a.html(r,this.options.url,this.elementHtmlName,t.audioContext?"anonymous":!1))},t.createClass(n,[{key:"type",get:function(){return"audio"}}]),n}(h),video:function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getElementHtmlLines=function(t,e){return a.bae(a.html(o,this.options.url,this.elementHtmlName,this.options.width,this.options.height,t.audioContext?"anonymous":!1))},t.createClass(n,[{key:"type",get:function(){return"video"}}]),n}(h)},m=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,e.apply(this,arguments))}return t.inherits(n,e),n.prototype.getEntryClass=function(t){return d[t.source]},n.prototype.requestFeatureContext=function(t){this.entries.length>0&&(t.audioProcessing=!0)},n.prototype.getJsInitLines=function(t,e,n){var i=c.b();return t.audioContext&&i.apply(void 0,this.entries.map(function(t){return t.getJsInitLines(e)})),i.e()},n.prototype.getNodeJsNames=function(t,e){return t.audioContext?this.entries.map(function(t){return t.nodeJsName}):e},n}(f);n.exports=m},{10:10,11:11,16:16,18:18,23:23,4:4,9:9}]},{},[28])}();
//# sourceMappingURL=webaudio-starter.js.map
